/** Tagove! **/!function(){var t="prototype",n="undefined",i="function",a="object",r=r||{};r.scope={},r.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},r.arrayIterator=function(e){return{next:r.arrayIteratorImpl(e)}},r.ASSUME_ES5=!1,r.ASSUME_NO_NATIVE_MAP=!1,r.ASSUME_NO_NATIVE_SET=!1,r.defineProperty=r.ASSUME_ES5||i==typeof Object.defineProperties?Object.defineProperty:function(e,n,i){e!=Array[t]&&e!=Object[t]&&(e[n]=i.value)},r.getGlobal=function(e){return n!=typeof window&&window===e?e:n!=typeof global&&null!=global?global:e},r.global=r.getGlobal(this),r.SYMBOL_PREFIX="jscomp_symbol_",r.s=function(){r.s=function(){},r.global.Symbol||(r.global.Symbol=r.Symbol)},r.Symbol=function(){var e=0;return function(t){return r.SYMBOL_PREFIX+(t||"")+e++}}(),r.sIterator=function(){r.s();var e=r.global.Symbol.iterator;e||(e=r.global.Symbol.iterator=r.global.Symbol("iterator")),i!=typeof Array[t][e]&&r.defineProperty(Array[t],e,{configurable:!0,writable:!0,value:function(){return r.iteratorPrototype(r.arrayIteratorImpl(this))}}),r.sIterator=function(){}},r.sAsyncIterator=function(){r.s();var e=r.global.Symbol.asyncIterator;e||(e=r.global.Symbol.asyncIterator=r.global.Symbol("asyncIterator")),r.sAsyncIterator=function(){}},r.iteratorPrototype=function(e){return r.sIterator(),e={next:e},e[r.global.Symbol.iterator]=function(){return this},e},r.m=function(e){var t=n!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):r.arrayIterator(e)},r.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},r.arrayFromIterable=function(e){return e instanceof Array?e:r.arrayFromIterator(r.m(e))},r.objectCreate=r.ASSUME_ES5||i==typeof Object.create?Object.create:function(e){var n=function(){};return n[t]=e,new n},r.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},r.setPrototypeOf=i==typeof Object.setPrototypeOf?Object.setPrototypeOf:r.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,r.i=function(e,n){if(e[t]=r.objectCreate(n[t]),e[t].constructor=e,r.setPrototypeOf){var i=r.setPrototypeOf;i(e,n)}else for(i in n)if(t!=i)if(Object.defineProperties){var a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a)}else e[i]=n[i];e.superClass_=n[t]},r.polyfill=function(e,t,n,i){if(t){for(n=r.global,e=e.split("."),i=0;i<e.length-1;i++){var a=e[i];a in n||(n[a]={}),n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},r.FORCE_POLYFILL_PROMISE=!1,r.polyfill("Promise",function(e){function n(){this.batch_=null}function s(e){return e instanceof l?e:new l(function(t,n){t(e)})}if(e&&!r.FORCE_POLYFILL_PROMISE)return e;n[t].asyncExecute=function(e){return null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_()),this.batch_.push(e),this},n[t].asyncExecuteBatch_=function(){var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})};var o=r.global.setTimeout;n[t].asyncExecuteFunction=function(e){o(e,0)},n[t].executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.asyncThrow_(e)}}}this.batch_=null},n[t].asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e})};var l=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}};l[t].createResolveAndReject_=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},l[t].resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof l)this.settleSameAsPromise_(e);else{e:switch(typeof e){case a:var t=null!=e;break e;case i:t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},l[t].resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(e){return void this.reject_(e)}i==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},l[t].reject_=function(e){this.settle_(2,e)},l[t].fulfill_=function(e){this.settle_(1,e)},l[t].settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,this.executeOnSettledCallbacks_()},l[t].executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)c.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var c=new n;return l[t].settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},l[t].settleSameAsThenable_=function(e,t){var n=this.createResolveAndReject_();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},l[t].then=function(e,t){function n(e,t){return i==typeof e?function(t){try{a(e(t))}catch(e){r(e)}}:t}var a,r,s=new l(function(e,t){a=e,r=t});return this.callWhenSettled_(n(e,a),n(t,r)),s},l[t].catch=function(e){return this.then(void 0,e)},l[t].callWhenSettled_=function(e,t){function n(){switch(i.state_){case 1:e(i.result_);break;case 2:t(i.result_);break;default:throw Error("Unexpected state: "+i.state_)}}var i=this;null==this.onSettledCallbacks_?c.asyncExecute(n):this.onSettledCallbacks_.push(n)},l.resolve=s,l.reject=function(e){return new l(function(t,n){n(e)})},l.race=function(e){return new l(function(t,n){for(var i=r.m(e),a=i.next();!a.done;a=i.next())s(a.value).callWhenSettled_(t,n)})},l.all=function(e){var t=r.m(e),n=t.next();return n.done?s([]):new l(function(e,i){function a(t){return function(n){r[t]=n,0==--o&&e(r)}}var r=[],o=0;do{r.push(void 0),o++,s(n.value).callWhenSettled_(a(r.length-1),i),n=t.next()}while(!n.done)})},l},"es6","es3"),r.iteratorFromArray=function(e,t){r.sIterator(),e instanceof String&&(e+="");var n=0,i={next:function(){if(n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},r.polyfill("Array[c$pr].values",function(e){return e||function(){return r.iteratorFromArray(this,function(e,t){return t})}},"es8","es3"),r.findInternal=function(e,t,n){e instanceof String&&(e+="");for(var i=e.length,a=0;a<i;a++){var r=e[a];if(t.call(n,r,a,e))return{i:a,v:r}}return{i:-1,v:void 0}},r.polyfill("Array[c$pr].find",function(e){return e||function(e,t){return r.findInternal(this,e,t).v}},"es6","es3"),r.polyfill("Array[c$pr].fill",function(e){return e||function(e,t,n){var i=this.length||0;for(0>t&&(t=Math.max(0,i+t)),(null==n||n>i)&&(n=i),0>(n=+n)&&(n=Math.max(0,i+n)),t=+(t||0);t<n;t++)this[t]=e;return this}},"es6","es3"),r.polyfill("Array[c$pr].keys",function(e){return e||function(){return r.iteratorFromArray(this,function(e){return e})}},"es6","es3"),r.owns=function(e,n){return Object[t].hasOwnProperty.call(e,n)},r.polyfill("Object.values",function(e){return e||function(e){var t,n=[];for(t in e)r.owns(e,t)&&n.push(e[t]);return n}},"es8","es3"),r.assign=i==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var a in i)r.owns(i,a)&&(e[a]=i[a])}return e},r.polyfill("Object.assign",function(e){return e||r.assign},"es6","es3"),r.polyfill("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"es6","es3"),r.polyfill("Array[c$pr].includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n+="");var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var a=n[t];if(a===e||Object.is(a,e))return!0}return!1}},"es7","es3"),r.checkStringArgs=function(e,t,n){if(null==e)throw new TypeError("The 'this' value for String[c$pr]."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String[c$pr]."+n+" must not be a regular expression");return e+""},r.polyfill("String[c$pr].includes",function(e){return e||function(e,t){return-1!==r.checkStringArgs(this,e,"includes").indexOf(e,t||0)}},"es6","es3"),r.polyfill("Math.trunc",function(e){return e||function(e){if(e=+e,isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t}},"es6","es3"),r.polyfill("Object.getOwnPropertySymbols",function(e){return e||function(){return[]}},"es6","es5"),r.polyfill("Reflect.ownKeys",function(e){return e||function(e){var t=[],n=Object.getOwnPropertyNames(e);e=Object.getOwnPropertySymbols(e);for(var i=0;i<n.length;i++)("jscomp_symbol_"==n[i].substring(0,14)?e:t).push(n[i]);return t.concat(e)}},"es6","es5"),r.polyfill("Object.getOwnPropertyDescriptors",function(e){return e||function(e){for(var t={},n=Reflect.ownKeys(e),i=0;i<n.length;i++)t[n[i]]=Object.getOwnPropertyDescriptor(e,n[i]);return t}},"es8","es5"),r.polyfill("Object.setPrototypeOf",function(e){return e||r.setPrototypeOf},"es6","es5"),r.polyfill("String[c$pr].endsWith",function(e){return e||function(e,t){var n=r.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var i=e.length;0<i&&0<t;)if(n[--t]!=e[--i])return!1;return 0>=i}},"es6","es3"),r.polyfill("Array[c$pr].entries",function(e){return e||function(){return r.iteratorFromArray(this,function(e,t){return[e,t]})}},"es6","es3"),function(e){function n(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var i=window.$tgwbpk;window.$tgwbpk=function(n,a,s){for(var o,l,c=0,u=[];c<n.length;c++)l=n[c],r[l]&&u.push(r[l][0]),r[l]=0;for(o in a)Object[t].hasOwnProperty.call(a,o)&&(e[o]=a[o]);for(i&&i(n,a,s);u.length;)u.shift()()};var a={},r={70:0};n.e=function(e){function t(){o.onerror=o.onload=null,clearTimeout(l);var t=r[e];0!==t&&(t&&t[1](Error("Loading chunk "+e+" failed.")),r[e]=void 0)}var i=r[e];if(0===i)return new Promise(function(e){e()});if(i)return i[2];var a=new Promise(function(t,n){i=r[e]=[t,n]});i[2]=a;var s=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.timeout=12e4,n.nc&&o.setAttribute("nonce",n.nc),o.src=n.p+""+e+".10f33073d0fe4206a6de6f8dcb67edb0f3df8245.bundle.min.js";var l=setTimeout(t,12e4);return o.onerror=o.onload=t,s.appendChild(o),a},n.m=e,n.c=a,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object[t].hasOwnProperty.call(e,n)},n.p="/dist/",n.oe=function(e){throw console.error(e),e},n(n.s=381)}([,function(e,n,s){var o,l;o=[s(17),s(3),s(101),s(32),s(80),s(81),s(46),s(33),s(102),s(34),s(55),s(103),s(30),s(82)],void 0===(l=function(e,n,s,o,l,c,u,d,f,h,p,g,m,v){function y(e){var t=!!e&&"length"in e&&e.length,n=b.type(e);return i!==n&&!b.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}var b=function(e,t){return new b.fn.init(e,t)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^-ms-/,x=/-([a-z])/g,k=function(e,t){return t.toUpperCase()};return b.fn=b[t]={jquery:"3.2.1",constructor:b,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){return e=b.merge(this.constructor(),e),e.prevObject=this,e},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length;return e=+e+(0>e?t:0),this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:e.sort,splice:e.splice},b.extend=b.fn.extend=function(){var e,t,n,i=arguments[0]||{},r=1,s=arguments.length,o=!1;for("boolean"==typeof i&&(o=i,i=arguments[r]||{},r++),a===typeof i||b.isFunction(i)||(i={}),r===s&&(i=this,r--);r<s;r++)if(null!=(e=arguments[r]))for(t in e){var l=i[t],c=e[t];i!==c&&(o&&c&&(b.isPlainObject(c)||(n=Array.isArray(c)))?(n?(n=!1,l=l&&Array.isArray(l)?l:[]):l=l&&b.isPlainObject(l)?l:{},i[t]=b.extend(o,l,c)):void 0!==c&&(i[t]=c))}return i},b.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e)},noop:function(){},isFunction:function(e){return i===b.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=b.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){return!(!e||"[object Object]"!==f.call(e)||(e=s(e))&&(e=h.call(e,"constructor")&&e.constructor,i!==typeof e||p.call(e)!==g))},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":a===typeof e||i===typeof e?d[f.call(e)]||a:typeof e},globalEval:function(e){v(e)},camelCase:function(e){return e.replace(w,"ms-").replace(x,k)},each:function(e,t){var n,i=0;if(y(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(_,"")},makeArray:function(e,t){return t=t||[],null!=e&&(y(Object(e))?b.merge(t,"string"==typeof e?[e]:e):c.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;i<n;i++)e[a++]=t[i];return e.length=a,e},grep:function(e,t,n){for(var i=[],a=0,r=e.length,s=!n;a<r;a++)(n=!t(e[a],a))!==s&&i.push(e[a]);return i},map:function(e,t,n){var i,a=0,r=[];if(y(e))for(i=e.length;a<i;a++){var s=t(e[a],a,n);null!=s&&r.push(s)}else for(a in e)null!=(s=t(e[a],a,n))&&r.push(s);return l.apply([],r)},guid:1,proxy:function(e,t){if("string"==typeof t){var n=e[t];t=e,e=n}if(b.isFunction(e)){var i=o.call(arguments,2);return n=function(){return e.apply(t||this,i.concat(o.call(arguments)))},n.guid=e.guid=e.guid||b.guid++,n}},now:Date.now,support:m}),r.s(),i===typeof Symbol&&(r.s(),r.sIterator(),r.s(),r.sIterator(),b.fn[Symbol.iterator]=e[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()}),b}.apply(n,o))||(e.exports=l)},function(e,s,o){s.__esModule=!0;var l=o(37);e=o(113);var c=o(9);o(116),l.default.options.deferUpdates=!0,l.default.moment=e.default,l.default.__templates={},l.default.load_template=function(e,t,i){var a=t.ownerDocument;if(a.getElementById(e)||n==typeof l.default.__templates[e])return e;if("string"==typeof l.default.__templates[e])return(t=a.createElement("script")).setAttribute("type","text/html"),t.setAttribute("id",e),t.innerHTML=l.default.__templates[e],a.querySelector("head").appendChild(t),e;var r=l.default.observable("empty-ko-template");return a.getElementById("empty-ko-template")||((t=a.createElement("script")).setAttribute("id","empty-ko-template"),a.querySelector("head").appendChild(t)),l.default.__templates[e](function(t){var n=a.createElement("script");n.setAttribute("type","text/html"),n.setAttribute("id",e),n.innerHTML=t,a.querySelector("head").appendChild(n),r(e)}),r()};var u=l.default.bindingHandlers.template;l.default.bindingHandlers.template={init:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];var i=l.default.utils.unwrapObservable(t[1]());return"string"==typeof i&&(i={name:i}),t[1]=function(){return i},i.name=l.default.load_template(i.name,t[0]),u.init.apply(this,t)},update:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];var i=l.default.utils.unwrapObservable(t[1]());return t[1]=function(){return i},"string"==typeof i&&(i={name:i}),i.name=l.default.load_template(i.name,t[0]),u.update.apply(this,t)}},function(e){function s(e,t){return{status:"added",value:e,index:t}}function o(t){var n=this.element=t.element;this.container=8===n.nodeType&&d.test(u?n.text:n.nodeValue)?this.element.parentNode:this.element,this.$context=t.$context,this.data=t.data,this.as=t.as,this.noContext=t.noContext,this.noIndex=t.noIndex,this.afterAdd=t.afterAdd,this.beforeRemove=t.beforeRemove,this.templateNode=function(t){var n=document.createElement("div");if(t.content)var i=t.content;else"SCRIPT"===t.tagName?(i=document.createElement("div"),i.innerHTML=t.text):i=t;return e.utils.arrayForEach(e.virtualElements.childNodes(i),function(e){e&&n.insertBefore(e.cloneNode(!0),null)}),n}(t.templateNode||(t.name?document.getElementById(t.name).cloneNode(!0):t.element)),this.afterQueueFlush=t.afterQueueFlush,this.beforeQueueFlush=t.beforeQueueFlush,this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],e.virtualElements.emptyNode(this.element),(t=e.unwrap(this.data)).map&&this.onArrayChange(t.map(s),!0),e.isObservable(this.data)&&(this.data.indexOf||(this.data=this.data.extend({trackArrayChanges:!0})),this.changeSubs=this.data.subscribe(this.onArrayChange,this,"arrayChange"))}function l(t){t.$index=e.observable()}var u=document&&"\x3c!--test--\x3e"===document.createComment("test").text,d=u?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,f=document&&i===typeof document.createDocumentFragment,h=function(e){return r.s(),r.s(),i===typeof Symbol?Symbol(e):e}("_ko_ffe_pending_delete_index");o.PENDING_DELETE_INDEX_KEY=h,o.animateFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},o[t].dispose=function(){this.changeSubs&&c.default.disposeKoItem(this.changeSubs),this.flushPendingDeletes()},o[t].onArrayChange=function(e,t){for(var n=this,i={added:[],deleted:[]},a=0,r=e.length;a<r;a++){if(i.added.length&&"added"==e[a].status){var s=i.added[i.added.length-1];if((s.isBatch?s.index+s.values.length-1:s.index)+1==e[a].index){s.isBatch||(s={isBatch:!0,status:"added",index:s.index,values:[s.value]},i.added.splice(i.added.length-1,1,s)),s.values.push(e[a].value);continue}}i[e[a].status].push(e[a])}0<i.deleted.length&&(this.changeQueue.push.apply(this.changeQueue,i.deleted),this.changeQueue.push({status:"clearDeletedIndexes"})),this.changeQueue.push.apply(this.changeQueue,i.added),0<this.changeQueue.length&&!this.rendering_queued&&(this.rendering_queued=!0,t?n.processQueue():o.animateFrame.call(window,function(){n.processQueue()}))},o[t].processQueue=function(){var t=this,n=9007199254740991;i===typeof this.beforeQueueFlush&&this.beforeQueueFlush(this.changeQueue),e.utils.arrayForEach(this.changeQueue,function(e){"number"==typeof e.index&&(n=Math.min(n,e.index)),t[e.status](e)}),this.flushPendingDeletes(),this.rendering_queued=!1,this.noIndex||this.updateIndexes(n),i===typeof this.afterQueueFlush&&this.afterQueueFlush(this.changeQueue),this.changeQueue=[]},o[t].added=function(n){var a=n.index;n=n.isBatch?n.values:[n.value];for(var s=this.getLastNodeBeforeIndex(a),o=[],c=0,u=n.length;c<u;++c){var d;if((d=this.getPendingDeleteFor(n[c]))&&d.nodesets.length)d=d.nodesets.pop();else{d=this.templateNode.cloneNode(!0);var f=this.noContext?this.$context.extend({$item:n[c],$index:this.noIndex?void 0:e.observable()}):this.$context.createChildContext(n[c],this.as||null,this.noIndex?void 0:l);e.applyBindingsToDescendants(f,d),d=e.virtualElements.childNodes(d)}o.push.apply(o,r.arrayFromIterable(Array[t].slice.call(d))),this.firstLastNodesList.splice(a+c,0,{first:d[0],last:d[d.length-1]})}i===typeof this.afterAdd?this.afterAdd({nodeOrArrayInserted:this.insertAllAfter(o,s),foreachInstance:this}):this.insertAllAfter(o,s)},o[t].getNodesForIndex=function(e){if(!this.firstLastNodesList||n==typeof this.firstLastNodesList[e])return[];var t=[],i=this.firstLastNodesList[e].first;for(e=this.firstLastNodesList[e].last,t.push(i);i&&i!==e;)i=i.nextSibling,t.push(i);return t},o[t].getLastNodeBeforeIndex=function(e){return 1>e||e-1>=this.firstLastNodesList.length?null:this.firstLastNodesList[e-1].last},o[t].insertAllAfter=function(t,n){var i,a=this.element;if(void 0===t.nodeType&&void 0===t.length)throw Error("Expected a single node or a node array");if(void 0!==t.nodeType)return e.virtualElements.insertAfter(a,t,n),[t];if(1===t.length)e.virtualElements.insertAfter(a,t[0],n);else if(f){var r=document.createDocumentFragment(),s=0;for(i=t.length;s!==i;++s)r.appendChild(t[s]);e.virtualElements.insertAfter(a,r,n)}else for(s=t.length-1;0<=s&&(r=t[s]);--s)e.virtualElements.insertAfter(a,r,n);return t},o[t].shouldDelayDeletion=function(e){return e&&(a===typeof e||i===typeof e)},o[t].getPendingDeleteFor=function(e){return void 0===(e=e&&e[h])?null:this.pendingDeletes[e]},o[t].getOrCreatePendingDeleteFor=function(e){var t=this.getPendingDeleteFor(e);return t||(t={data:e,nodesets:[]},e[h]=this.pendingDeletes.length,this.pendingDeletes.push(t),t)},o[t].deleted=function(e){this.shouldDelayDeletion(e.value)?this.getOrCreatePendingDeleteFor(e.value).nodesets.push(this.getNodesForIndex(e.index)):this.removeNodes(this.getNodesForIndex(e.index)),this.indexesToDelete.push(e.index)},o[t].removeNodes=function(t){if(t.length){var n=function(){for(var n=t[0].parentNode,i=t.length-1;0<=i;--i)t[i]&&e.cleanNode(t[i]),n&&t[i]&&n.removeChild(t[i])};if(this.beforeRemove){var a=this.beforeRemove({nodesToRemove:t,foreachInstance:this})||{};i===typeof a.then&&a.then(n,e.onError?e.onError:void 0)}else n()}},o[t].flushPendingDeletes=function(){for(var e=0,t=this.pendingDeletes.length;e!=t;++e){for(var n=this.pendingDeletes[e];n.nodesets.length;)this.removeNodes(n.nodesets.pop());n.data&&void 0!==n.data[h]&&delete n.data[h]}this.pendingDeletes=[]},o[t].clearDeletedIndexes=function(){for(var e=this.indexesToDelete.length-1;0<=e;--e)this.firstLastNodesList.splice(this.indexesToDelete[e],1);this.indexesToDelete=[]},o[t].getContextStartingFrom=function(t){for(var n;t;){if(n=e.contextFor(t))return n;t=t.nextSibling}},o[t].updateIndexes=function(e){for(var t=e,n=this.firstLastNodesList.length;t<n;++t)(e=this.getContextStartingFrom(this.firstLastNodesList[t].first))&&e.$index(t)},e.bindingHandlers.fastForEach={init:function(t,n,i,r,s){if((n=n())&&a===typeof n&&n.constructor===Object){n.element=n.element||t,n.$context=s;var l=new o(n)}else l=new o({element:t,data:e.unwrap(s.$rawData)===n?s.$rawData:n,$context:s});return e.utils.domNodeDisposal.addDisposeCallback(t,function(){c.default.disposeKoItem(l)}),{controlsDescendantBindings:!0}},FastForEach:o},e.virtualElements.allowedBindings.fastForEach=!0}(l.default),s.default=l.default},function(e,t,n){void 0===(t=window.document)||(e.exports=t)},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0}),function(e){var s=6e4*(new Date).getTimezoneOffset(),o=function(){};o.parseJSON=function(e){try{return JSON.parse(e)}catch(e){return null}},o.isSameObject=function(e,t){if(a==typeof e&&null!==e&&null!==t&&a==typeof t){for(var n in e)if(!o.isSameObject(e[n],t[n]))return!1;for(var i in t)if(!o.isSameObject(e[i],t[i]))return!1;return!0}return typeof e==typeof t&&e===t},o.isSpecificValue=function(t){return t instanceof e||t instanceof Date||t instanceof RegExp},o.cloneSpecificValue=function(t){if(t instanceof e){var n=new e(t.length);return t.copy(n),n}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return RegExp(t);throw Error("Unexpected situation")},o.deepCloneArray=function(e){var t=[];return e.forEach(function(e,n){a===typeof e&&null!==e?Array.isArray(e)?t[n]=o.deepCloneArray(e):o.isSpecificValue(e)?t[n]=cloneSpecificValue(e):t[n]=o.deepExtend({},e):t[n]=e}),t},o.deepExtend=function(e,t){for(var i=[],s=1;s<arguments.length;++s)i[s-1]=arguments[s];if(null==e)return i[0];if(1>arguments.length||a!==typeof arguments[0])return!1;if(2>arguments.length)return arguments[0];for(s=(i=r.m(i)).next();!s.done;s=i.next()){var l=s.value;if(a==typeof l&&!Array.isArray(l))for(var c in l){var u=e&&n!==typeof e[c]?e[c]:void 0;if(s=l[c],n==typeof s||"_x_delete_x_"==s)delete e[c];else{if(s===e)break;o.isSpecificValue(s)?e[c]=o.cloneSpecificValue(s):a!==typeof s||null===s||Array.isArray(s)?e[c]=s:e[c]=o.deepExtend(a==typeof u?u:{},s)}}}return e},o.getMyTimeZoneOffset=function(){return s},o.getCurrentTime=function(e){return(new Date).getTime()},o.toDateTimeFromUTCTime=function(e){var t=new Date(0);return t.setUTCSeconds(e),t},o.toMysqlTime=function(e){function t(e){return 10>e?"0"+e:e}return(e=void 0===e?null:e)||(e=new Date),e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())},o.getTimeFromDate=function(e,t){return n==typeof e?new Date:(e=e.split(/[- :]/),e=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]).getTime()-s,(t=new Date(0)).setUTCSeconds(e/1e3),t)},o.getTimeLeftSinceCompute=function(e,t){return t=void 0===t?"ago":t,function(){var n=i==typeof e?e():e;return null==n||isNaN(n)?["n/a","n/a"]:60>n?["just now","just now"]:3600>n?(n=Math.floor(n/60),[n+" min "+t,n+" minutes "+t]):86400>n?(n=Math.floor(n/3600),[n+" hours "+t,n+" hours "+t]):2592e3>n?(n=Math.floor(n/86400),[n+" days "+t,n+" days "+t]):31104e3>n?(n=Math.floor(n/2592e3),[n+" months "+t,n+" months "+t]):31104e3<=n?(n=Math.floor(n/31104e3),[n+" months "+t,n+" months "+t]):void 0}},o.throttle=function(e,t){var n,i=1e3*e,a=Date.now();return function(e,r,s){var o=Date.now();if(n&&clearTimeout(n),o-a>=i)return a=o,t(e,r,s);n=setTimeout(function(){a=Date.now(),t(e,r,s)},i)}},o.limitCalls=function(e){var t,n=1e3*e,i=Date.now();return function(e){if((t=Date.now())-i>=n)i=Date.now(),e();else{var a=t;setTimeout(function(){a==t&&(i=Date.now(),e())},n)}}},o.getTimeString=function(e){var t=Math.floor((e=parseInt(e))/3600),n=Math.floor((e-3600*t)/60);return e=e-3600*t-60*n,10>t&&(t="0"+t),10>n&&(n="0"+n),10>e&&(e="0"+e),0<parseInt(t)?t+":"+n+":"+e:n+":"+e},o.toMysqlDateTimeFromUTCTime=function(e){var t=new Date(0);return t.setUTCSeconds(e),Util.toMysqlDateTime(t)},o.safeCb=function(e){return i===typeof e?e:function(){}},o.safeType=function(e,t){return{}.toString.call(e)=="[object "+t+"]"},o.getRandomSessionId=function(e){var t=2*Math.ceil(1e8*(Math.random()+Math.random()+Math.random()));return i==typeof e&&e(t)?exports.getRandomSessionId(e):t},o.randDarkColor=function(){var e=("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");6>e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t,n="#";for(t=0;3>t;t++){var i=parseInt(e.substr(2*t,2),16);n+=("00"+(i=Math.round(Math.min(Math.max(0,i+-.25*i),255)).toString(16))).substr(i.length)}return n},o.toMysqlFormat=function(e){var t=function(e){return 0<=e&&10>e?"0"+e:-10<e&&0>e?"-0"+-1*e:""+e};return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+" "+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},o.generateUUID=function(){var e=(new Date).getTime();return n!==typeof performance&&i===typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},o.isGifEmojiVisitor=function(e){var t=!0;return"mobile"==e.ua.device.type&&(t=!1),"mobile"==e.ua.device.type&&e.ua.app&&(t=!0),t},o.getDefaultText=function(){return{online_message:"Chat with us",offline_message:"Leave a Message",chat_form_heading:"Support team",chat_form_text:"Ask us anything. We'd love to hear what brought you to here!",cobrowse_inst:"Please give this unique cobrowse code to support team so they can access your screen.",how_support_is:"How was your conversation with us today?",how_support_text:"Anything else to be noted?",offline_agents:"Please leave your details and we will get back to you.",offline_thankyou:"Thank you for your details.\nWe will get back to you by chat or email. If you have more comment please leave message here.",offline_widget_heading:"Call Me Back Form",tooltip_video_button:"Start Video Chat",tooltip_audio_button:"Start Audio Chat",tooltip_text_button:"Start Text Chat",please_wait_counter:"There are AHEAD_CHATS chats ahead of you. it will take around AHEAD_TIME.",cobrowse_request_alert:"Please click `OK` to begin a secure co-browsing session with",cobrowse_response_declined:"Visitor declined co-browse request.",screen_share_request_alert:"Please click `OK` to begin sharing your screen with the operator.",screen_share_response_declined:"Visitor disallowed your request.",chat_feedback_close_alert:"Do you want to close feedback survey?",chat_feedback_heading:"Feedback",chat_feedback_thanks:"We've got it. Thanks for feedback.",offline_chat_event_message:"Support agent typically replies in a few hours.",online_chat_event_message:"Please be patient, one of our agents will connect with you shortly.",input_area_placeholder_0:"Send a message…",input_area_placeholder_1:"Write a reply…",supbot_chat_transfer_event:"Your chat is transferring with our one of the agents, agent will be with you shortly...",privacy_link_text:"Privacy Policy",cobrowse_widget_heading:"Co-Browse with our support",chat_feedback_text_heading:"How can we serve you better?",cobrowse_server_error_message:"Server Error Occurred, Can't cobrowse anymore.",start_conversation:"Start Conversation",offline_visitor_mail_body:"",cobrowse_request_title:"Cobrowse request",ask_to_visitor_title:"Please fill the below detail to making our interaction more closer.",chat_wait_notified_title:"You will be notified soon. Stay with us!",online_name_text:"Full name",offline_name_text:"Your name",online_email_text:"Email address",offline_email_text:"Your email address",online_phone_text:"Phone number",offline_phone_text:"Your phone number",online_department_text:"Choose department",online_message_text:"How can we help?",offline_message_text:"Enter your message",operator_reply_time_text:"Typically replies in a few hours"}},t.default=o}.call(t,s(24).Buffer)},function(e,n){function r(e,n){function l(e){if(l[e]!==v)return l[e];if("bug-string-char-index"==e)var t=!1;else if("json"==e)t=l("json-stringify")&&l("json-parse");else{var a;if("json-stringify"==e){t=n.stringify;var r=i==typeof t&&b;if(r){(a=function(){return 1}).toJSON=a;try{r="0"===t(0)&&"0"===t(new c)&&'""'==t(new u)&&t(y)===v&&t(v)===v&&t()===v&&"1"===t(a)&&"[1]"==t([a])&&"[null]"==t([v])&&"null"==t(null)&&"[null,null,null]"==t([v,y,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==t({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})&&"1"===t(null,a)&&"[\n 1,\n 2\n]"==t([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==t(new f(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==t(new f(864e13))&&'"-000001-01-01T00:00:00.000Z"'==t(new f(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==t(new f(-1))}catch(e){r=!1}}t=r}if("json-parse"==e){if(t=n.parse,i==typeof t)try{if(0===t("0")&&!t(!1)){var s=5==(a=t('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}')).a.length&&1===a.a[0];if(s){try{s=!t('"\t"')}catch(e){}if(s)try{s=1!==t("01")}catch(e){}if(s)try{s=1!==t("1.")}catch(e){}}}}catch(e){s=!1}t=s}}return l[e]=!!t}e||(e=s.Object()),n||(n=s.Object());var c=e.Number||s.Number,u=e.String||s.String,d=e.Object||s.Object,f=e.Date||s.Date,h=e.SyntaxError||s.SyntaxError,p=e.TypeError||s.TypeError,g=e.Math||s.Math;e=(e.JSON||s.JSON)&&"native code"===JSON.stringify.toString.call(JSON.stringify).slice(-14,-3),a==typeof e&&e&&(n.stringify=e.stringify,n.parse=e.parse);var m,v,y=(d=d[t]).toString,b=new f(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(e){}if(!l("json")){var _=l("bug-string-char-index");if(!b)var w=g.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(e,t){return x[t]+365*(e-1970)+w((e-1969+(t=+(1<t)))/4)-w((e-1901+t)/100)+w((e-1601+t)/400)};(m=d.hasOwnProperty)||(m=function(e){var n={};if((n.__proto__=null,n.__proto__={toString:1},n).toString!=y)m=function(e){var t=this.__proto__;return e=e in(this.__proto__=null,this),this.__proto__=t,e};else{var i=n.constructor;m=function(e){var n=(this.constructor||i)[t];return e in this&&!(e in n&&this[e]===n[e])}}return n=null,m.call(this,e)});var C=function(e,n){var a,r,s=0;(a=function(){this.valueOf=0})[t].valueOf=0;var l=new a;for(r in l)m.call(l,r)&&s++;return a=l=null,s?C=2==s?function(e,n){var i,a={},r="[object Function]"==y.call(e);for(i in e)r&&t==i||m.call(a,i)||!(a[i]=1)||!m.call(e,i)||n(i)}:function(e,n){var i,a,r="[object Function]"==y.call(e);for(i in e)r&&t==i||!m.call(e,i)||(a="constructor"===i)||n(i);(a||m.call(e,i="constructor"))&&n(i)}:(l="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),C=function(e,n){var a,r="[object Function]"==y.call(e),s=!r&&i!=typeof e.constructor&&o[typeof e.hasOwnProperty]&&e.hasOwnProperty||m;for(a in e)r&&t==a||!s.call(e,a)||n(a);for(r=l.length;a=l[--r];s.call(e,a)&&n(a));}),C(e,n)};if(!l("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},S=function(e,t){return("000000"+(t||0)).slice(-e)},E=function(e){for(var t='"',n=0,i=e.length,a=!_||10<i,r=a&&(_?e.split(""):e);n<i;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=T[s];break;default:t=32>s?t+"\\u00"+S(2,s.toString(16)):t+(a?r[n]:e.charAt(n))}}return t+'"'},A=function(e,t,n,r,s,o,l){var c;try{var u=t[e]}catch(e){}if(a==typeof u&&u){var d=y.call(u);if("[object Date]"!=d||m.call(u,"toJSON"))i==typeof u.toJSON&&("[object Number]"!=d&&"[object String]"!=d&&"[object Array]"!=d||m.call(u,"toJSON"))&&(u=u.toJSON(e));else if(u>-1/0&&u<1/0){if(k){var f=w(u/864e5);for(d=w(f/365.2425)+1970-1;k(d+1,0)<=f;d++);for(c=w((f-k(d,0))/30.42);k(d,c+1)<=f;c++);f=1+f-k(d,c);var h=(u%864e5+864e5)%864e5,g=w(h/36e5)%24,b=w(h/6e4)%60,_=w(h/1e3)%60;h%=1e3}else d=u.getUTCFullYear(),c=u.getUTCMonth(),f=u.getUTCDate(),g=u.getUTCHours(),b=u.getUTCMinutes(),_=u.getUTCSeconds(),h=u.getUTCMilliseconds();u=(0>=d||1e4<=d?(0>d?"-":"+")+S(6,0>d?-d:d):S(4,d))+"-"+S(2,c+1)+"-"+S(2,f)+"T"+S(2,g)+":"+S(2,b)+":"+S(2,_)+"."+S(3,h)+"Z"}else u=null}if(n&&(u=n.call(t,e,u)),null===u)return"null";if("[object Boolean]"==(d=y.call(u)))return""+u;if("[object Number]"==d)return u>-1/0&&u<1/0?""+u:"null";if("[object String]"==d)return E(""+u);if(a==typeof u){for(e=l.length;e--;)if(l[e]===u)throw p();l.push(u);var x=[];if(t=o,o+=s,"[object Array]"==d){for(c=0,e=u.length;c<e;c++)d=A(c,u,n,r,s,o,l),x.push(d===v?"null":d);e=x.length?s?"[\n"+o+x.join(",\n"+o)+"\n"+t+"]":"["+x.join(",")+"]":"[]"}else C(r||u,function(e){var t=A(e,u,n,r,s,o,l);t!==v&&x.push(E(e)+":"+(s?" ":"")+t)}),e=x.length?s?"{\n"+o+x.join(",\n"+o)+"\n"+t+"}":"{"+x.join(",")+"}":"{}";return l.pop(),e}};n.stringify=function(e,t,n){var i;if(o[typeof t]&&t)if("[object Function]"==(i=y.call(t)))var a=t;else if("[object Array]"==i)for(var r,s={},l=0,c=t.length;l<c;r=t[l++],("[object String]"==(i=y.call(r))||"[object Number]"==i)&&(s[r]=1));if(n)if("[object Number]"==(i=y.call(n))){if(0<(n-=n%1)){var u="";for(10<n&&(n=10);u.length<n;u+=" ");}}else"[object String]"==i&&(u=10>=n.length?n:n.slice(0,10));return A("",(r={},r[""]=e,r),a,s,u,"",[])}}if(!l("json-parse")){var M,O,N=u.fromCharCode,D={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},F=function(){throw M=O=null,h()},I=function(){for(var e,t,n,i,a,r=O,s=r.length;M<s;)switch(a=r.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=_?r.charAt(M):r[M],M++,e;case 34:for(e="@",M++;M<s;)if(32>(a=r.charCodeAt(M)))F();else if(92==a)switch(a=r.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=D[a],M++;break;case 117:for(t=++M,n=M+4;M<n;M++)48<=(a=r.charCodeAt(M))&&57>=a||97<=a&&102>=a||65<=a&&70>=a||F();e+=N("0x"+r.slice(t,M));break;default:F()}else{if(34==a)break;for(a=r.charCodeAt(M),t=M;32<=a&&92!=a&&34!=a;)a=r.charCodeAt(++M);e+=r.slice(t,M)}if(34==r.charCodeAt(M))return M++,e;F();default:if(t=M,45==a&&(i=!0,a=r.charCodeAt(++M)),48<=a&&57>=a){for(48==a&&48<=(a=r.charCodeAt(M+1))&&57>=a&&F();M<s&&48<=(a=r.charCodeAt(M))&&57>=a;M++);if(46==r.charCodeAt(M)){for(n=++M;n<s&&48<=(a=r.charCodeAt(n))&&57>=a;n++);n==M&&F(),M=n}if(101==(a=r.charCodeAt(M))||69==a){for(43!=(a=r.charCodeAt(++M))&&45!=a||M++,n=M;n<s&&48<=(a=r.charCodeAt(n))&&57>=a;n++);n==M&&F(),M=n}return+r.slice(t,M)}if(i&&F(),"true"==r.slice(M,M+4))return M+=4,!0;if("false"==r.slice(M,M+5))return M+=5,!1;if("null"==r.slice(M,M+4))return M+=4,null;F()}return"$"},R=function(e){var t,n;if("$"==e&&F(),"string"==typeof e){if("@"==(_?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=I());n||(n=!0))n&&(","==e?"]"==(e=I())&&F():F()),","==e&&F(),t.push(R(e));return t}if("{"==e){for(t={};"}"!=(e=I());n||(n=!0))n&&(","==e?"}"==(e=I())&&F():F()),","!=e&&"string"==typeof e&&"@"==(_?e.charAt(0):e[0])&&":"==I()||F(),t[e.slice(1)]=R(I());return t}F()}return e},q=function(e,t,n){(n=L(e,t,n))===v?delete e[t]:e[t]=n},L=function(e,t,n){var i,r=e[t];if(a==typeof r&&r)if("[object Array]"==y.call(r))for(i=r.length;i--;)q(r,i,n);else C(r,function(e){q(r,e,n)});return n.call(e,t,r)};n.parse=function(e,t){var n;return M=0,O=""+e,e=R(I()),"$"!=I()&&F(),M=O=null,t&&"[object Function]"==y.call(t)?L((n={},n[""]=e,n),"",t):e}}}return n.runInContext=r,n}var s=window,o={c$fun:!0,object:!0};r(s,e.exports);var l=e.exports.parse;e.exports.parse=function(t){try{return l.apply(e.exports,[t])}catch(e){throw e}}},function(e,i,a){i.__esModule=!0,window.tagoveSilentTest&&(console.log=console.error=console.debug=function(){}),e=!1!==window.tagoveConfigProduction;var r=0<=document.cookie.indexOf("XDEBUG_SESSION=mraj")||!0===window.tagoveConfigDebug,s=n!==typeof window.tagoveConfigNodeServer?window.tagoveConfigNodeServer:"s.acquire.io",o=n!==typeof window.tagoveConfigWebServer?window.tagoveConfigWebServer:0<=s.indexOf("localhost")?"localhost:2930":0<=s.indexOf(".dev.")?window.location.host.replace("s.",""):s.replace("s.","app."),l=0<=s.indexOf(":8885")?"http://":"https://",c="https://"+o+"/",u="app.acquire.io"==o?"https://media.acquire.io/":"https://devmedia.acquire.io/";if(e=n!==typeof window.acquireConfig?window.acquireConfig:{apiVersion:a(110),productionMode:e,debugMode:r,silentTest:!!window.tagoveSilentTest&&window.tagoveSilentTest,debugAccount:"ad959",test_accounts:["5d03c","7f27b","d70f0","ad959"],devServer:0<=s.indexOf(".dev."),server:l+s,signaling_server:l+s,proxy_server:l+s,remote_page_server:l+s,host:o,uiUrl:c,apiUrl:c+"api/",uploadFilesUrl:c+"media/upload",mediaUrl:u,cdnUrl:"https://cdn.acquire.io/widget/",mediaUserPhotoUrl:u+"user/",mediaDefaultVisitorPhoto:u+"assets/defaults/visitor_photo.svg",mediaDefaultUserPhoto:u+"assets/defaults/user_photo.svg",mediaBotPhoto:u+"assets/defaults/bot.svg",assetUrl:c+"assets/",sameOriginFrame:["about:blank"],rtlDirLanguages:["ar","he","fa","ur"]},i.default=e,n!=typeof window.WebSocket&&window.MSInputMethodContext&&document.documentMode){var d=window.WebSocket;window.WebSocket=function(e,t,n){try{return new d(e,t)}catch(a){if("SecurityError"===a.message&&e&&0<=e.indexOf("s.acquire.io")){console.error("Websocket SecurityError"),console.error(a);var i=parseInt(localStorage._acq_host_last||1);return n?(localStorage._acq_host_last=i+1,n=i+1):n=i,50<=n&&(n=1,localStorage._acq_host_last=1),e=e.replace(/wss:\/\/([^\/]*)/,"wss://"+n+"ws.acquire.io"),console.error("Next Host: "+e),new window.WebSocket(e,t,!0)}throw a}},window.WebSocket.prototyp=d[t]}a.p=window._acqurie_dist_js_url||e.server+"/dist/"},function(e,t,n){var i,a;i=[n(104)],void 0===(a=function(){}.apply(t,i))||(e.exports=a)},function(e,t,r){t.__esModule=!0,t.triggerNativeEvent=t.scrollLeft=t.scrollTop=t.extendObject=t.insertAfter=t.getHeight=t.getWidth=t.appendStyle=t.ajaxRequest=t.parentBySelector=void 0;var s=r(5);t.parentBySelector=function(e,t){var n=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]==t)return!0;return!1};for(t=e.ownerDocument.querySelectorAll(t),e=e.parentNode;e&&!n(t,e);)e=e.parentNode;return e},t.ajaxRequest=function(e){var t=function(e,i){var r=[],s=function(e,n){e=i?i+"["+e+"]":e,r.push(null!==n&&a===typeof n?t(n,e):encodeURIComponent(e)+"="+encodeURIComponent(n))};if(a==typeof e)if(n!==typeof e.length)for(var o=0;o<e.length;o++)s(o,e[o]);else for(o in e)s(o,e[o]);else r.push(encodeURIComponent(e));return r.join("&")},i=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");if(e.type="post"==e.type?"POST":e.type,i.open(e.type||"GET",e.url,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"==e.type&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.headers)for(var r in e)i.setRequestHeader(r,e[r]);if(e.xhrFields)for(var o in e.xhrFields)i[o]=e.xhrFields[o];i.onload=function(){if(200<=i.status&&400>i.status)try{var t="json"==e.dataType?s.parse(i.responseText):i.responseText;e.success&&e.success(t)}catch(t){e.error?e.error(i,t):console.error(t)}else e.error&&e.error(i)},i.onerror=function(){e.error&&e.error(i)},e.data?i.send(t(e.data)):i.send()},t.appendStyle=function(e,t,n){t=void 0===t?null:t;var i=((n=void 0===n?null:n)||document).createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild((n||document).createTextNode(e)),t&&t.appendChild(i),i},t.getWidth=function(e){return e.getClientRects().length&&e.getBoundingClientRect().width?e.getBoundingClientRect().width:e.clientWidth},t.getHeight=function(e){return e.getClientRects().length&&e.getBoundingClientRect().height?e.getBoundingClientRect().height:e.clientHeight},t.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)};var o=t.extendObject=function(){var e,t,n,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),a!==typeof r&&i!==typeof r&&(r={}),s===l&&(r=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e){var u=r[t],d=e[t];r!==d&&(c&&d&&(a==typeof d||(n=Array.isArray(d)))?(n?(n=!1,u=u&&Array.isArray(u)?u:[]):u=u&&a==typeof u?u:{},r[t]=o(c,u,d)):void 0!==d&&(r[t]=d))}return r},l=function(e,t,n,i){var a="pageYOffset"===n;if(!e)return 0;if(null!=e&&e===e.window)var r=e;else 9===e.nodeType&&(r=e.defaultView);if(void 0===i)return r?r[n]:e[t];r?r.scrollTo(a?r.pageXOffset:i,a?i:r.pageYOffset):e[t]=i};t.scrollTop=function(e,t){return l(e,"scrollTop","pageYOffset",t)},t.scrollLeft=function(e,t){return l(e,"scrollLeft","pageXOffset",t)},t.triggerNativeEvent=function(e,t,a,r,s,o){a=void 0!==a&&a,r=void 0===r?"Events":r,s=void 0===s?null:s,o=void 0===o?{}:o,document.createEvent?("MouseEvents"==r&&i==typeof MouseEvent?r=new MouseEvent(t,{relatedTarget:s,bubbles:a,view:window,cancelable:!1,clientX:n!=typeof o.clientX?o.clientX:0,clientY:n!=typeof o.clientY?o.clientY:0}):(r=document.createEvent(r),s&&i==typeof r.initMouseEvent?r.initMouseEvent(t,a,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,s):r.initEvent(t,a,!1)),e.dispatchEvent(r)):document.createEventObject?e.fireEvent("on"+t):i==typeof e["on"+t]&&e["on"+t]()}},function(e,t,a){t.__esModule=!0;var s=a(2),o=a(4),l=function(){};l.trackComputedCalls=function(e,t,n){return n},l.getTimeSifter=function(e){e=void 0===e?20:e;var t=s.default.observable(0),n=setInterval(function(){t&&t.peek?t(t()+e):clearInterval(n)},1e3*e);return t},l.disposeKoItem=function(e){if(e&&n!=typeof e.callback&&n!=typeof e.disposeCallback&&n!=typeof e.isDisposed&&i==typeof e.dispose&&e.dispose(),i==typeof e&&e._emiter_off&&e(),e&&n!=typeof e._subscriptions)for(var t=r.m(["change","dirty"]),a=t.next();!a.done;a=t.next())if(a=a.value,n!==typeof e._subscriptions[a]&&e._subscriptions[a]){for(var s=r.m(e._subscriptions[a]),o=s.next();!o.done;o=s.next())o.value.dispose();e._subscriptions[a]=[]}return e&&n!=typeof e._subscriptions&&i==typeof e.dispose&&e.dispose(),null},l.asyncDependency=function(e){var t=s.default.observable(),n=null,i=s.default.computed({read:function(){return t()},write:function(i){t.peek()?i&&i(t()):null===n?(n=[i],e(function(e){t(e);for(var i=r.m(n),a=i.next();!a.done;a=i.next())(a=a.value)&&a(e);n=123})):i&&n.push(i)},deferEvaluation:!0});return i.forceChange=function(e){t(e),n=null},i},l.createReadableComputed=function(e,t,i,a,r){t=void 0===t?null:t,i=void 0===i||i,a=void 0===a?400:a,r=void 0!==r&&r;var o=t&&n!=typeof t.length?s.default.observableArray(t):s.default.observable(t),c=s.default.computed({read:function(){var t=e(o);n!==typeof t&&t!==o.peek()&&o(t)},deferEvaluation:i},this,{pure:r}).extend({rateLimit:a}),u=!1,d=s.default.computed({read:function(){return u||(u=!0,c.peek()),o()},deferEvaluation:i}),f=d.dispose;return d.dispose=function(){d.dispose=f,e=function(){},d._silent_value=null,l.disposeKoItem(c),l.disposeKoItem(d)},d._silent_value=function(){return o.peek()},d},l.createWritableComputed=function(e,t,i,a,r,o){i=void 0===i||i,a=void 0===a?400:a,r=void 0===r?null:r,o=void 0!==o&&o;var c=t&&"string"!=typeof t&&n!=typeof t.length?s.default.observableArray(t):s.default.observable(t);t=function(t){t=e(t,c.peek()),n!==typeof t&&c(t)};var u=s.default.computed({read:function(){return c()},write:r?null:t,deferEvaluation:i},this,{pure:o}).extend({rateLimit:a});r&&r.subscribe(t);var d=u.dispose;return u.dispose=function(){u.dispose=d,u._silent_value=function(){},e=function(){},l.disposeKoItem(r),l.disposeKoItem(u)},u._silent_value=function(){return c.peek()},u},l.createComputedFromObject=function(e,t,i,a,s,c){i=void 0===i?null:i,a=void 0===a||a,s=void 0===s?400:s,c=void 0!==c&&c,t=t.split(".");for(var u=e&&e()?e():{},d=r.m(t),f=d.next();!f.done;f=d.next())f=f.value,u=n!==typeof u&&n!==typeof u[f]?u[f]:i;return u&&(i=u),l.createWritableComputed(function(e,a){for(var s=r.m(t),l=s.next();!l.done;l=s.next())l=l.value,e=n!==typeof e&&n!==typeof e[l]?e[l]:i;if(!o.default.isSameObject(e,a))return e},i,a,s,e,c)},l.createMultiComputedArray=function(){var e=s.default.observableArray([]),t=[];e.need=function(e){t.push(e)},e.change=function(t){e.subscribe(t)},e.depends=function(n){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];var s=i.pop();a=function(){for(var n=r.m(t),a=n.next();!a.done;a=n.next())if(!(a=a.value)())return[];n=[];for(var o=(a=r.m(i)).next();!o.done;o=a.next())n.push(i());n.push(e),s.apply(s,n)};for(var o=r.m(i),l=o.next();!l.done;l=o.next())l.value.subscribe(a);a()};var n=e.dispose;return e.dispose=function(){n.apply(e,arguments),l.disposeKoItem(e),l.disposeKoItem(ob)},e},l.observableArrayMonitor=function(e,t,n,i){var a=[],s=function(){if(i(o)){for(var s=r.m(e.peek()),l=s.next();!l.done;l=s.next())l=l.value,0>a.indexOf(l)&&(t(l),a.push(l));for(l=(s=r.m(a)).next();!l.done;l=s.next())l=l.value,0>e.peek().indexOf(l)&&(n(l),a.splice(a.indexOf(l),1))}else o&&o.dispose(),o=null,a=[]};setTimeout(s,1);var o=e.subscribe(s);return o},t.default=l,l.shifter={}},function(e,i,a){i.__esModule=!0;var s=a(23),o=a(60),l=function(e,t){this.startTime=e,this.app=t,this.ua=null,this.navigator_ua=navigator.userAgent,this.isIOSIpad=1!=window.tgv_virtual_visitor&&(!!navigator.platform&&/iPad/.test(navigator.platform)||!!navigator.userAgent&&/iPad/.test(navigator.userAgent)),this.isIOS=1!=window.tgv_virtual_visitor&&(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)||!!navigator.userAgent&&/iPad|iPhone|iPod/.test(navigator.userAgent)),this.isAndroid=1!=window.tgv_virtual_visitor&&-1<navigator.userAgent.toLowerCase().indexOf("android")};l[t].getSpeedTest=function(e){a.e(10).then(function(){var t=[a(319)];(function(t){e(new t.default)}).apply(null,t)}).catch(a.oe)},l[t].start=function(){},l.flush=function(){},l.trackTimeEvent=function(e,t,n,i,a){n=void 0===n?null:n,i=void 0!==i&&i,a=void 0!==a&&a;var r=Date.now();return function(){l.logEvent(e,t,n,null==r?null:Date.now()-r,i,a),r=null}},l.flushLogsToConsole=function(){for(var e=r.m(l.log_events),t=e.next();!t.done;t=e.next())t=t.value,l.logEvent(t[0],t[1],t[2],t[3],!0,!0);l.log_events=[]},l.logEvent=function(e,t,i,a,r,s){i=void 0===i?null:i,a=void 0===a?null:a,r=void 0!==r&&r,s=void 0!==s&&s;try{if(window.top===window){var o="TRACKER: "+Date.now()+" : ["+e+"] ["+t+"] : "+i+" "+(null!=a?a+"ms":"");l.log_events_logs.push(o),(s||n!=typeof localStorage&&1==localStorage.getItem("log_acquire_events"))&&console.error(o),r||l.log_events.push([e,t,i,a])}}catch(e){console.error(e)}},l.start=function(e,t){return l.set(new l(t,e)),l.get().start()},l.get=function(){return l.tracker},l.set=function(e){return l.tracker=e},l.track=function(){l.get().track.apply(l.get(),arguments)},l[t].getVisitorHash=function(e,t){return this.app.clientStorage.get("_tag_"+(void 0===e?"":e)+"_vid",null,t,s.default.TYPE_TAGOVE)},l[t].setVisitorHash=function(e,t){if(t=void 0===t?"":t,e){var n=15552e3;"1"!==this.app.settings().chat_session_mode&&1!==this.app.settings().chat_session_mode||(n=0),this.app.clientStorage.set("_tag_"+t+"_vid",e,n,s.default.TYPE_TAGOVE)}},l[t].resetVisitorHash=function(e){this.app.clientStorage.set("_tag_"+(void 0===e?"":e)+"_vid",null,-15552e3,s.default.TYPE_TAGOVE,s.default.TYPE_SESSION,s.default.TYPE_COOKIE,s.default.TYPE_LOCAL)},l[t].getActiveThread=function(e,t){return this.app.clientStorage.get("_tag_"+(void 0===e?"":e)+"_thread",null,t)},l[t].setActiveThread=function(e,t){t=void 0===t?"":t,e&&-1==this.app.widget_state_unsave.indexOf(this.app.accountId)&&this.app.clientStorage.set("_tag_"+t+"_thread",e,86400)},l[t].updateUA=function(){this.navigator_ua=navigator.userAgent,this.isIOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)||!!navigator.userAgent&&/iPad|iPhone|iPod/.test(navigator.userAgent),this.isAndroid=-1<navigator.userAgent.toLowerCase().indexOf("android")},l.getUserAgentDetails=function(e){var t=(new o.default).getResult();n!=typeof t.device&&n!=typeof t.device.type||(t.device.type="Desktop",t.device.model="",t.device.vendor=""),n!=typeof window.desktop&&n!=typeof window.desktop.screenShare&&(t.device.type+="App",t.device.model="",t.device.vendor=""),l.get().ua=t,e(t)},l.getReferrer=function(){if(window.tagoveWindowRef)return window.tagoveWindowRef;try{var e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(t){e=null}}return""!==e&&e||(e=document.referrer),e},l.getNetworkDetails=function(){return navigator.connection&&navigator.connection.downlink?{speed:1.8*navigator.connection.downlink,type:navigator.connection.effectiveType}:null},l.getCurrentPageDetails=function(){return{url:window.tagoveWindowLocation?window.tagoveWindowLocation:window.location.href,title:window.tagoveWindowTitle?window.tagoveWindowTitle:document.title,ref:l.getReferrer()}},i.default=l,l.log_events_logs=[],l.log_events=[]},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};r.create=function(e){e._tracks={},e._callbacks={},e._fired=[],e.on=r.on,e.if=r.if,e.wait=r.wait,e.trigger=r.trigger,e.off=r.off,e.once=r.once,e.__dispose_events=[],e.on("destroy",function(){e.off()})},r.if=function(e,t,n){return t=void 0===t?null:t,n=void 0!==n&&n,0>this._fired.indexOf(e)?(t&&this.once(e,t),n&&0>this._fired.indexOf("please-"+e)&&this.trigger("please-"+e),!1):(t&&t(),!0)},r.trigger=function(e,t){for(var a=[],r=1;r<arguments.length;++r)a[r-1]=arguments[r];if(r=void 0,0>this._fired.indexOf(e)&&this._fired.push(e),n!==typeof this._callbacks[e]){for(var s=this._callbacks[e].slice(0),o=this._callbacks[e].length-1;0<=o;)!0===this._callbacks[e][o+1]&&this._callbacks[e].splice(o,2),--o;for(o=s.length-1;0<=o;){var l=s[o];if(!0===s[o+1]&&s.splice(o,2),i==typeof l)try{var c=l.apply(l,a);n!==typeof c&&(r=c)}catch(e){console.error(e)}--o}}if(c=e.replace(/[\-_]([a-z])/g,function(e){return e[1].toUpperCase()}),c=c[0].toUpperCase()+c.substr(1),i==typeof this["on"+c])try{var u=this["on"+c].apply(this,a);n!==typeof u&&(r=u)}catch(e){console.error(e)}return"dispose"==e&&this.trigger("destroy"),r},r.on=function(e,t,i,a,r){var s=this;return i=void 0===i?null:i,a=void 0!==a&&a,r=void 0!==r&&r,n==typeof this._callbacks[e]&&(this._callbacks[e]=[]),!0===a&&console.error(Error().stack),a?(this._callbacks[e].push(t),this._callbacks[e].push(r)):(this._callbacks[e].unshift(r),this._callbacks[e].unshift(t)),a=function(){s.off(e,t)},i&&(i=[e,t,i.on("destroy",a)],this.__dispose_events.push(i)),a._emiter_off=!0,a},r.off=function(e,t,i){if(e=void 0===e?null:e,t=void 0===t?null:t,i=void 0!==i&&i,null==e)this._callbacks={};else if(null==t)delete this._callbacks[e],i&&-1!=(i=this._fired.indexOf(e))&&this._fired.splice(i,1);else if(n!==typeof this._callbacks[e])for(;0<=this._callbacks[e].indexOf(t);)this._callbacks[e].splice(this._callbacks[e].indexOf(t),2);for(i=this.__dispose_events.length-1;0<=i;){var a=this.__dispose_events[i];null!=e&&a[0]!=e||null!=t&&a[1]!=t||(a[2](),this.__dispose_events.splice(i,1)),--i}},r.once=function(e,t,n,i){return this.on(e,t,void 0===n?null:n,void 0!==i&&i,!0)},t.default=r},function(e,t,a){t.__esModule=!0;var s=a(8),o=a(97),l=function(){};l.alert=function(e,t,i,a,r,s,o){a=void 0!==a&&a,r=void 0===r?null:r,s=void 0===s?null:s,n==typeof e&&(e=""),l.draw(e,t,a?null:{ok:{text:void 0===o?"OK":o,primary:!0,onclick:r||s?function(){s&&s(),r&&r(),l.close()}:l.close}},!1,void 0!==i&&i,a,r,!1)},l.close=function(){l.height_timer&&clearInterval(l.height_timer),l._current=null;var e=l._dispose.slice(0);l._dispose=[];for(var t=(e=r.m(e)).next();!t.done;t=e.next())t=t.value,l._current?l._dispose.push(t):t()},l.confirm=function(e,t,i,a,r,s){r=void 0===r?{ok:{text:n==typeof acquireIO||n==typeof acquireIO.accountId||"frontend"!=acquireIO.type||"f82eb"!=acquireIO.accountId&&"98953"!=acquireIO.accountId?acquireIO.getTransMsg("OK"):acquireIO.getTransMsg("Accept"),primary:!0},cancel:{text:acquireIO.getTransMsg("Cancel"),primary:!1}}:r,s=void 0!==s&&s;var o,c={};for(o in r)c.k=o,r[c.k].onclick=function(e){return function(){l.close(),"ok"==e.k&&i?i():"ok"!=e.k&&a&&a(e.k)}}(c),c={k:c.k};n==typeof e&&(e=""),l.draw(e,t,r,!1,s,!1,null,!1)},l.draw=function(e,t,r,c,u,d,f,h){r=void 0===r?{}:r,c=void 0!==c&&c,u=void 0!==u&&u,d=void 0!==d&&d,f=void 0===f?null:f,h=void 0===h||h,o.default.isFullscreen&&o.default.exit(),a.e(2).then(function(){var o=[a(178)];(function(a){var o=function(){a=a.replace("IECLASS",0<=window.navigator.userAgent.indexOf("Trident/")||0<=window.navigator.userAgent.indexOf("MSIE ")?"msie":"");var o=document.createElement("div");o.classList.add("acq-alert-wrap"),o.style.transition="transition:all 0.2s;";var p="calc(50% - 252px)",g="505px";600>window.screen.width&&(p="calc(50% - 160px)",g="320px"),n==typeof acquireIO||n==typeof acquireIO.accountId||"frontend"!=acquireIO.type||"f82eb"!=acquireIO.accountId&&"98953"!=acquireIO.accountId||(g="360px",o.classList.add("acq-discover-alert-wrap"),p="calc(50% - 172px)",600>window.screen.width&&(p="calc(50% - 160px)"));var m=document.createElement("IFRAME");m.src="about:blank",o.style.opacity="0.3",m.style.position="fixed",m.style.display="block",m.style.top="calc(50% - 50px)",m.style.left=p,m.style.width=g,m.style.height="100px",m.style.zIndex="2147483647",m.style.borderRadius="4px",m.style.border="0px solid #FFF",m.style.maxHeight="80vh",m.style.boxShadow="rgb(111, 109, 109) 0px 0px 6px 1px",m.style.transition="top 50ms ease 0s, height 50ms ease 0s",o.appendChild(m),o.setAttribute("id","acq-alert-wrap"),o.style.display="block",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.bottom="0",o.style.width="100%",o.style.margin="0",o.style.padding="0",o.style.height="100%",o.style.background="#0000005e",o.style.zIndex="2147483650",c&&(o.style.width="0px",o.style.height="0px",o.style.opacity="0",m.style.width="0px",m.style.height="0px",m.style.opacity="0");var v=!1,y=function(){f&&f(),l.close(),r&&(n!=typeof r.cancel?r.cancel.onclick():n!=typeof r.ok&&r.ok.onclick())};p=function(){var c=m.contentWindow,f=c&&c.document||m.document;if(f&&c){var p="";try{n!=typeof acquireIO&&n!=typeof acquireIO.settings()&&"frontend"==acquireIO.type&&(p=acquireIO.settings().custom_css),n!=typeof window.top.acquireIO&&n!=typeof window.top.acquireIO.settings()&&"frontend"==window.top.acquireIO.type&&(p=window.top.acquireIO.settings().custom_css),acquireIO.themes.standard&&acquireIO.themes.standard.blockCSS&&d&&(p+=acquireIO.themes.standard.blockCSS),acquireIO.themes.new&&acquireIO.themes.new.blockCSS&&d&&(p+=acquireIO.themes.new.blockCSS)}catch(e){}if(a=a.replace(/#CUSTOM_CSS_HERE#/g,p?"<style>"+p+"</style>":""),f.querySelector("html").innerHTML=a,null!=t&&n!=typeof t||(t=e,e=acquireIO.getTransMsg("Alert")),f.querySelector(".title").innerText=e,d&&f.querySelector(".acq-alert-main").classList.add("hide-button"),n==typeof acquireIO||n==typeof acquireIO.accountId||"backend"!=acquireIO.type||"f82eb"!=acquireIO.accountId&&"98953"!=acquireIO.accountId||f.querySelector(".acq-alert-main").classList.add("acq-discover-alert-main"),h||(f.querySelector("body").style.overflow="hidden"),i==typeof t)t(f,c);else{c={};for(var g in r)c.k=g,c.$a=f.createElement("a"),c.$a.setAttribute("href",""),c.$a.innerText=r[c.k].text,c.$a.addEventListener("click",r[c.k].onclick),l._dispose.push(function(e){return function(){e.$a.removeEventListener("click",r[e.k].onclick)}}(c)),f.querySelector(".buttons").appendChild(c.$a),r[c.k].primary&&c.$a.classList.add("primary"),c={$a:c.$a,k:c.k};u?f.querySelector(".content").innerHTML=t:f.querySelector(".content").innerText=t}f.querySelector(".close").onclick=y;var b=function(e){if(!v){var t=.8*window.innerHeight;if(0>=(t=Math.min(t,(0,s.getHeight)(f.querySelector(".alert"))+(h?54:1))))return setTimeout(b,50);m.style.height=t+"px",m.style.top="calc(50% - "+Math.floor(t/2)+"px)",o.style.opacity=1,500>e&&setTimeout(function(){b(e++)},50)}};b(0),l._dispose.push(function(){f.querySelector(".close").onclick=null})}},m.contentWindow&&(m.contentWindow.document||m.document)?p():m.onload=p,l._current=o,l._dispose.push(function(){v=!0,m.onload=null,o&&o.parentNode&&o.parentNode.removeChild(o);for(var e in r)r[e].onclick=function(){}}),document.body.appendChild(o);var b=setInterval(function(){l._current&&!l._current.parentNode?(y(),clearInterval(b)):l._current||clearInterval(b)})};l._current?l._dispose.push(o):o()}).apply(null,o)}).catch(a.oe)},t.default=l,l._dispose=[]},function(e,n,i){var a,r;a=[i(1),i(3),i(92),i(84)],void 0===(r=function(e,n,i){var a=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,r=e.fn.init=function(t,r,o){if(!t)return this;if(o=o||s,"string"==typeof t){var l="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:a.exec(t);if(!l||!l[1]&&r)return!r||r.jquery?(r||o).find(t):this.constructor(r).find(t);if(l[1]){if(r=r instanceof e?r[0]:r,e.merge(this,e.parseHTML(l[1],r&&r.nodeType?r.ownerDocument||r:n,!0)),i.test(l[1])&&e.isPlainObject(r))for(l in r)e.isFunction(this[l])?this[l](r[l]):this.attr(l,r[l])}else(t=n.getElementById(l[2]))&&(this[0]=t,this.length=1);return this}return t.nodeType?(this[0]=t,this.length=1,this):e.isFunction(t)?void 0!==o.ready?o.ready(t):t(e):e.makeArray(t,this)};r[t]=e.fn;var s=e(n);return r}.apply(n,a))||(e.exports=r)},function(e,t,a){function r(e,t,n){var i=Array(e.length);n=c(e.length,n);for(var a=function(e,n,a){t(n,function(t,n){i[e]=n,a(t,i)})},r=0;r<e.length;r++)a(r,e[r],n)}e=a(123);var s,o=a(39),l=a(125),c=a(126),u=a(127);n!==typeof ArrayBuffer&&(s=a(128));var d=n!==typeof navigator&&/Android/i.test(navigator.userAgent),f=n!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=d||f;t.protocol=3;var p=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},g=e(p),m={type:"error",data:"parser error"},v=a(129);t.encodePacket=function(e,a,r,s){i===typeof a&&(s=a,a=!1),i===typeof r&&(s=r,r=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if(n!==typeof ArrayBuffer&&o instanceof ArrayBuffer){if(a){for(r=e.data,a=new Uint8Array(r),(r=new Uint8Array(1+r.byteLength))[0]=p[e.type],e=0;e<a.length;e++)r[e+1]=a[e];e=s(r.buffer)}else e=t.encodeBase64Packet(e,s);return e}return n!==typeof v&&o instanceof v?(a?h?e=function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var a=new FileReader;return a.onload=function(){t.encodePacket({type:e.type,data:a.result},n,!0,i)},a.readAsArrayBuffer(e.data)}(e,a,s):(a=new Uint8Array(1),a[0]=p[e.type],e=new v([a.buffer,e.data]),e=s(e)):e=t.encodeBase64Packet(e,s),e):o&&o.base64?s("b"+t.packets[e.type]+e.data.data):(a=p[e.type],void 0!==e.data&&(a+=r?u.encode(e.data+"",{strict:!1}):e.data+""),s(""+a))},t.encodeBase64Packet=function(e,i){var a="b"+t.packets[e.type];if(n!==typeof v&&e.data instanceof v){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];i(a+e)},r.readAsDataURL(e.data)}try{var s=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){e=new Uint8Array(e.data),s=Array(e.length);for(var o=0;o<e.length;o++)s[o]=e[o];s=String.fromCharCode.apply(null,s)}return a+=btoa(s),i(a)},t.decodePacket=function(e,n,i){if(void 0===e)return m;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(i){e:{n=e;try{n=u.decode(n,{strict:!1})}catch(t){e=!1;break e}e=n}if(!1===e)return m}return+(i=e.charAt(0))==i&&g[i]?1<e.length?{type:g[i],data:e.substring(1)}:{type:g[i]}:m}return i=new Uint8Array(e)[0],e=l(e,1),v&&"blob"===n&&(e=new v([e])),{type:g[i],data:e}},t.decodeBase64Packet=function(e,t){var n=g[e.charAt(0)];return s?(e=s.decode(e.substr(1)),"blob"===t&&v&&(e=new v([e])),{type:n,data:e}):{type:n,data:{base64:!0,data:e.substr(1)}}},t.encodePayload=function(e,n,a){i===typeof n&&(a=n,n=null);var s=o(e);return n&&s?v&&!h?t.encodePayloadAsBlob(e,a):t.encodePayloadAsArrayBuffer(e,a):e.length?void r(e,function(e,i){t.encodePacket(e,!!s&&n,!1,function(e){i(null,e.length+":"+e)})},function(e,t){return a(t.join(""))}):a("0:")},t.decodePayload=function(e,n,a){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,a);if(i===typeof n&&(a=n,n=null),""===e)return a(m,0,1);for(var r,s,o="",l=0,c=e.length;l<c;l++)if(":"!==(s=e.charAt(l)))o+=s;else{if(""===o||o!=(r=+o))return a(m,0,1);if(s=e.substr(l+1,r),o!=s.length)return a(m,0,1);if(s.length){if(o=t.decodePacket(s,n,!1),m.type===o.type&&m.data===o.data)return a(m,0,1);if(!1===a(o,l+r,c))return}l+=r,o=""}return""!==o?a(m,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));r(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){e=t.reduce(function(e,t){return t="string"==typeof t?t.length:t.byteLength,e+(""+t).length+t+2},0);var i=new Uint8Array(e),a=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){n=new Uint8Array(e.length);for(var r=0;r<e.length;r++)n[r]=e.charCodeAt(r);n=n.buffer}for(i[a++]=t?0:1,e=""+n.byteLength,r=0;r<e.length;r++)i[a++]=parseInt(e[r]);for(i[a++]=255,n=new Uint8Array(n),r=0;r<n.length;r++)i[a++]=n[r]}),n(i.buffer)})},t.encodePayloadAsBlob=function(e,n){r(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);e=i.buffer,t[0]=0}i=""+(e instanceof ArrayBuffer?e.byteLength:e.size);var r=new Uint8Array(i.length+1);for(a=0;a<i.length;a++)r[a]=parseInt(i[a]);r[i.length]=255,v&&(e=new v([t.buffer,r.buffer,e]),n(null,e))})},function(e,t){return n(new v(t))})},t.decodePayloadAsBinary=function(e,n,a){i===typeof n&&(a=n,n=null);for(var r=[];0<e.byteLength;){for(var s=new Uint8Array(e),o=0===s[0],c="",u=1;255!==s[u];u++){if(310<c.length)return a(m,0,1);c+=s[u]}if(e=l(e,2+c.length),c=parseInt(c),s=l(e,0,c),o)try{s=String.fromCharCode.apply(null,new Uint8Array(s))}catch(e){for(o=new Uint8Array(s),s="",u=0;u<o.length;u++)s+=String.fromCharCode(o[u])}r.push(s),e=l(e,c)}var d=r.length;r.forEach(function(e,i){a(t.decodePacket(e,n,!0),i,d)})}},function(e,t,n){var i,a;i=[n(83)],void 0===(a=function(e){return new e}.apply(t,i))||(e.exports=a)},function(e,t,n){void 0===(t=/[^\x20\t\r\n\f]+/g)||(e.exports=t)},function(e,t,n){void 0===(t=[])||(e.exports=t)},function(e,n){function a(){throw Error("setTimeout has not been defined")}function r(){throw Error("clearTimeout has not been defined")}function s(e){if(d===setTimeout)return setTimeout(e,0);if((d===a||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(){g&&h&&(g=!1,h.length?p=h.concat(p):m=-1,p.length&&l())}function l(){if(!g){var e=s(o);g=!0;for(var t=p.length;t;){for(h=p,p=[];++m<t;)h&&h[m].run();m=-1,t=p.length}h=null,g=!1,function(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}e=e.exports={};try{var d=i===typeof setTimeout?setTimeout:a}catch(e){d=a}try{var f=i===typeof clearTimeout?clearTimeout:r}catch(e){f=r}var h,p=[],g=!1,m=-1;e.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||g||s(l)},c[t].run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=u,e.addListener=u,e.once=u,e.off=u,e.removeListener=u,e.removeAllListeners=u,e.emit=u,e.prependListener=u,e.prependOnceListener=u,e.listeners=function(e){return[]},e.binding=function(e){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){var i;void 0===(i=function(){return function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i,r;i=[n(1)],void 0===(r=function(e){var t=function(n,i,r,s,o,l,c){var u=0,d=n.length,f=null==r;if(a===e.type(r))for(u in o=!0,r)t(n,i,u,r[u],!0,l,c);else if(void 0!==s&&(o=!0,e.isFunction(s)||(c=!0),f&&(c?(i.call(n,s),i=null):(f=i,i=function(t,n,i){return f.call(e(t),i)})),i))for(;u<d;u++)i(n[u],r,c?s:s.call(n[u],u,i(n[u],r)));return o?n:f?i.call(n):d?i(n[0],r):l};return t}.apply(t,i))||(e.exports=r)},function(e,t,n){var i,a;i=[n(1),n(35),n(20),n(56),n(3),n(51),n(49),n(93),n(57),n(94),n(86),n(95),n(87),n(50),n(13),n(96),n(7)],void 0===(a=function(e,t,n,i,a,r,s,o,l,c,u,d,f,h){function p(t){var n=e.cssProps[t];if(!n){n=e.cssProps;e:{var i=t;if(!(i in k)){for(var a=i[0].toUpperCase()+i.slice(1),r=x.length;r--;)if((i=x[r]+a)in k)break e;i=void 0}}n=n[t]=i||t}return n}function g(e,t,n){return(e=r.exec(t))?Math.max(0,e[2]-(n||0))+(e[3]||"px"):t}function m(t,n,i,a,r){var s=0;for(n=i===(a?"border":"content")?4:"width"===n?1:0;4>n;n+=2)"margin"===i&&(s+=e.css(t,i+o[n],!0,r)),a?("content"===i&&(s-=e.css(t,"padding"+o[n],!0,r)),"margin"!==i&&(s-=e.css(t,"border"+o[n]+"Width",!0,r))):(s+=e.css(t,"padding"+o[n],!0,r),"padding"!==i&&(s+=e.css(t,"border"+o[n]+"Width",!0,r)));return s}function v(t,n,i){var a=l(t),r=u(t,n,a),o="border-box"===e.css(t,"boxSizing",!1,a);if(s.test(r))return r;var c=o&&(h.boxSizingReliable()||r===t.style[n]);return"auto"===r&&(r=t["offset"+n[0].toUpperCase()+n.slice(1)]),(r=parseFloat(r)||0)+m(t,n,i||(o?"border":"content"),c,a)+"px"}var y=/^(none|table(?!-c[ea]).+)/,b=/^--/,_={position:"absolute",visibility:"hidden",display:"block"},w={letterSpacing:"0",fontWeight:"400"},x=["Webkit","Moz","ms"],k=a.createElement("div").style;return e.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(e=u(e,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,n,i,a){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o=e.camelCase(n),l=b.test(n),c=t.style;l||(n=p(o));var u=e.cssHooks[n]||e.cssHooks[o];if(void 0===i)return u&&"get"in u&&void 0!==(s=u.get(t,!1,a))?s:c[n];var f=typeof i;"string"===f&&(s=r.exec(i))&&s[1]&&(i=d(t,n,s),f="number"),null!=i&&i==i&&("number"===f&&(i+=s&&s[3]||(e.cssNumber[o]?"":"px")),h.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),u&&"set"in u&&void 0===(i=u.set(t,i,a))||(l?c.setProperty(n,i):c[n]=i))}},css:function(t,n,i,a){var r,s=e.camelCase(n);return b.test(n)||(n=p(s)),(s=e.cssHooks[n]||e.cssHooks[s])&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=u(t,n,a)),"normal"===r&&n in w&&(r=w[n]),""===i||i?(t=parseFloat(r),!0===i||isFinite(t)?t||0:r):r}}),e.each(["height","width"],function(t,n){e.cssHooks[n]={get:function(t,i,a){if(i)return!y.test(e.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?v(t,n,a):c(t,_,function(){return v(t,n,a)})},set:function(t,i,a){var s,o=a&&l(t);return(a=a&&m(t,n,a,"border-box"===e.css(t,"boxSizing",!1,o),o))&&(s=r.exec(i))&&"px"!==(s[3]||"px")&&(t.style[n]=i,i=e.css(t,n)),g(t,i,a)}}}),e.cssHooks.marginLeft=f(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(u(e,"marginLeft"))||e.getBoundingClientRect().left-c(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),e.each({margin:"",padding:"",border:"Width"},function(t,n){e.cssHooks[t+n]={expand:function(e){var i=0,a={};for(e="string"==typeof e?e.split(" "):[e];4>i;i++)a[t+o[i]+n]=e[i]||e[i-2]||e[0];return a}},i.test(t)||(e.cssHooks[t+n].set=g)}),e.fn.extend({css:function(t,i){return n(this,function(t,n,i){var a,r={},s=0;if(Array.isArray(n)){for(i=l(t),a=n.length;s<a;s++)r[n[s]]=e.css(t,n[s],!1,i);return r}return void 0!==i?e.style(t,n,i):e.css(t,n)},t,i,1<arguments.length)}}),e}.apply(t,i))||(e.exports=a)},function(e,r,s){var o,l;o=[s(1),s(3),s(47),s(16),s(32),s(15),s(19),s(13),s(7)],void 0===(l=function(e,r,s,o,l,c,u){function d(){return!0}function f(){return!1}function h(){try{return r.activeElement}catch(e){}}function p(t,n,i,r,s,o){var l;if(a===typeof n){"string"!=typeof i&&(r=r||i,i=void 0);for(l in n)p(t,l,i,r,n[l],o);return t}if(null==r&&null==s?(s=i,r=i=void 0):null==s&&("string"==typeof i?(s=r,r=void 0):(s=r,r=i,i=void 0)),!1===s)s=f;else if(!s)return t;if(1===o){var c=s;(s=function(t){return e().off(t),c.apply(this,arguments)}).guid=c.guid||(c.guid=e.guid++)}return t.each(function(){e.event.add(this,n,s,r,i)})}var g=/^key/,m=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,v=/^([^.]*)(?:\.(.+)|)/;return e.event={global:{},add:function(t,i,a,r,l){var u,d,f,h,p;if(f=c.get(t)){if(a.handler){var g=a;a=g.handler,l=g.selector}for(l&&e.find.matchesSelector(s,l),a.guid||(a.guid=e.guid++),(d=f.events)||(d=f.events={}),(u=f.handle)||(u=f.handle=function(i){return n!==typeof e&&e.event.triggered!==i.type?e.event.dispatch.apply(t,arguments):void 0}),f=(i=(i||"").match(o)||[""]).length;f--;){var m=v.exec(i[f])||[],y=h=m[1],b=(m[2]||"").split(".").sort();y&&(m=e.event.special[y]||{},y=(l?m.delegateType:m.bindType)||y,m=e.event.special[y]||{},h=e.extend({type:y,origType:h,data:r,handler:a,guid:a.guid,selector:l,needsContext:l&&e.expr.match.needsContext.test(l),namespace:b.join(".")},g),(p=d[y])||(p=d[y]=[],p.delegateCount=0,m.setup&&!1!==m.setup.call(t,r,b,u)||t.addEventListener&&t.addEventListener(y,u)),m.add&&(m.add.call(t,h),h.handler.guid||(h.handler.guid=a.guid)),l?p.splice(p.delegateCount++,0,h):p.push(h),e.event.global[y]=!0)}}},remove:function(t,n,i,a,r){var s,l,u,d,f,h=c.hasData(t)&&c.get(t);if(h&&(u=h.events)){for(d=(n=(n||"").match(o)||[""]).length;d--;){var p=v.exec(n[d])||[],g=f=p[1],m=(p[2]||"").split(".").sort();if(g){var y=e.event.special[g]||{},b=u[g=(a?y.delegateType:y.bindType)||g]||[];for(p=p[2]&&RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=b.length;s--;){var _=b[s];!r&&f!==_.origType||i&&i.guid!==_.guid||p&&!p.test(_.namespace)||a&&a!==_.selector&&("**"!==a||!_.selector)||(b.splice(s,1),_.selector&&b.delegateCount--,y.remove&&y.remove.call(t,_))}l&&!b.length&&(y.teardown&&!1!==y.teardown.call(t,m,h.handle)||e.removeEvent(t,g,h.handle),delete u[g])}else for(g in u)e.event.remove(t,g+n[d],i,a,!0)}e.isEmptyObject(u)&&c.remove(t,"handle events")}},dispatch:function(t){var n,i,a,r=e.event.fix(t),s=Array(arguments.length),o=(c.get(this,"events")||{})[r.type]||[],l=e.event.special[r.type]||{};for(s[0]=r,n=1;n<arguments.length;n++)s[n]=arguments[n];if(r.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,r)){var u=e.event.handlers.call(this,r,o);for(n=0;(a=u[n++])&&!r.isPropagationStopped();)for(r.currentTarget=a.elem,o=0;(i=a.handlers[o++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!r.rnamespace.test(i.namespace)||(r.handleObj=i,r.data=i.data,void 0!==(i=((e.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,s))&&!1===(r.result=i)&&(r.preventDefault(),r.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,r),r.result}},handlers:function(t,n){var i,a=[],r=n.delegateCount,s=t.target;if(r&&s.nodeType&&!("click"===t.type&&1<=t.button))for(;s!==this;s=s.parentNode||this)if(1===s.nodeType&&("click"!==t.type||!0!==s.disabled)){var o=[],l={};for(i=0;i<r;i++){var c=n[i],u=c.selector+" ";void 0===l[u]&&(l[u]=c.needsContext?-1<e(u,this).index(s):e.find(u,this,null,[s]).length),l[u]&&o.push(c)}o.length&&a.push({elem:s,handlers:o})}return r<n.length&&a.push({elem:this,handlers:n.slice(r)}),a},addProp:function(n,i){Object.defineProperty(e.Event[t],n,{enumerable:!0,configurable:!0,get:e.isFunction(i)?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(e){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[e.expando]?t:new e.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u(this,"input"))return this.click(),!1},_default:function(e){return u(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},e.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},e.Event=function(t,n){if(!(this instanceof e.Event))return new e.Event(t,n);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?d:f,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,n&&e.extend(this,n),this.timeStamp=t&&t.timeStamp||e.now(),this[e.expando]=!0},e.Event[t]={constructor:e.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&g.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&m.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},e.event.addProp),e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var i=t.relatedTarget,a=t.handleObj;if(!i||i!==this&&!e.contains(this,i)){t.type=a.origType;var r=a.handler.apply(this,arguments);t.type=n}return r}}}),e.fn.extend({on:function(e,t,n,i){return p(this,e,t,n,i)},one:function(e,t,n,i){return p(this,e,t,n,i,1)},off:function(t,n,r){if(t&&t.preventDefault&&t.handleObj){var s=t.handleObj;return e(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this}if(a===typeof t){for(s in t)this.off(s,n,t[s]);return this}return!1!==n&&i!==typeof n||(r=n,n=void 0),!1===r&&(r=f),this.each(function(){e.event.remove(this,t,r,n)})}}),e}.apply(r,o))||(e.exports=l)},function(e,n,i){n.__esModule=!0;var a=i(118),r=i(119),s=i(120),o=i(121),l=i(122),c=function(e,t){this.app=e,this.adapters={},this.adapters[c.TYPE_COOKIE]=new a.default(this.app),this.adapters[c.TYPE_LOCAL]=new r.default(this.app),this.adapters[c.TYPE_SESSION]=new o.default(this.app),this.adapters[c.TYPE_FAKE]=new l.default(this.app),t&&0<=["da719","f82eb","98953"].indexOf(t)?this.adapters[c.TYPE_TAGOVE]=new a.default(this.app):this.adapters[c.TYPE_TAGOVE]=new s.default(this.app)};c[t].get=function(e,t,n,i){for(var a=[],r=3;r<arguments.length;++r)a[r-3]=arguments[r];var s=a;t=void 0===t?null:t,n=void 0===n?null:n,0==s.length&&(s[0]=c.TYPE_COOKIE),0<=window.location.href.indexOf("acq_fake_session_s")&&(s=[c.TYPE_SESSION]),0<=window.location.href.indexOf("acq_fake_session_f")&&(s=[c.TYPE_FAKE]);var o,l=0;for(u in this.adapters){var u=parseInt(u);0<=s.indexOf(u)&&!1!==n&&this.adapters[u].get(e,!1,function(e){l++,!1===e&&l==s.length&&!1!==n?(o=t,n&&n(o),n=!1):!1!==e&&!1!==n&&(o=e,n&&n(o),n=!1)})}return o},c[t].set=function(e,t,n,i){for(var a=[],r=3;r<arguments.length;++r)a[r-3]=arguments[r];n=void 0===n?0:n,0==a.length&&(a[0]=c.TYPE_COOKIE),0<=window.location.href.indexOf("acq_fake_session_s")&&(a=[c.TYPE_SESSION]),0<=window.location.href.indexOf("acq_fake_session_f")&&(a=[c.TYPE_FAKE]);for(var s in this.adapters)s=parseInt(s),0<=a.indexOf(s)&&this.adapters[s].set(e,t,n)},n.default=c,c.TYPE_COOKIE=1,c.TYPE_LOCAL=2,c.TYPE_SESSION=3,c.TYPE_TAGOVE=4,c.TYPE_FAKE=5},function(e,a,s){(function(e){function o(e,n){if((l.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<n)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=l[t]):(null===e&&(e=new l(n)),e.length=n),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,i,a,r){if("number"==typeof i)throw new TypeError('"value" argument must not be a number');if(n!==typeof ArrayBuffer&&i instanceof ArrayBuffer){if(i.byteLength,0>a||i.byteLength<a)throw new RangeError("'offset' is out of bounds");if(i.byteLength<a+(r||0))throw new RangeError("'length' is out of bounds");return i=void 0===a&&void 0===r?new Uint8Array(i):void 0===r?new Uint8Array(i,a):new Uint8Array(i,a,r),l.TYPED_ARRAY_SUPPORT?(e=i,e.__proto__=l[t]):e=f(e,i),e}if("string"==typeof i){if(r=e,"string"==typeof(e=a)&&""!==e||(e="utf8"),!l.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return a=0|p(i,e),r=o(r,a),(i=r.write(i,e))!==a&&(r=r.slice(0,i)),r}return function(e,t){if(l.isBuffer(t)){var i=0|h(t.length);return 0===(e=o(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if(n!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return(i="number"!=typeof t.length)||(i=t.length,i=i!=i),i?o(e,0):f(e,t);if("Buffer"===t.type&&D(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,i)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=o(e,0>t?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=0>t.length?0:0|h(t.length);e=o(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e){if(e>=(l.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(l.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if(n!==typeof ArrayBuffer&&i===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var a=e.length;if(0===a)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return E(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return O.toByteArray(S(e)).length;default:if(r)return E(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function m(e,n,a,r,s){if(0===e.length)return-1;if("string"==typeof a?(r=a,a=0):2147483647<a?a=2147483647:-2147483648>a&&(a=-2147483648),a=+a,isNaN(a)&&(a=s?0:e.length-1),0>a&&(a=e.length+a),a>=e.length){if(s)return-1;a=e.length-1}else if(0>a){if(!s)return-1;a=0}if("string"==typeof n&&(n=l.from(n,r)),l.isBuffer(n))return 0===n.length?-1:v(e,n,a,r,s);if("number"==typeof n)return n&=255,l.TYPED_ARRAY_SUPPORT&&i===typeof Uint8Array[t].indexOf?s?Uint8Array[t].indexOf.call(e,n,a):Uint8Array[t].lastIndexOf.call(e,n,a):v(e,[n],a,r,s);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,i,a){function r(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,o=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=(i+"").toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(2>e.length||2>t.length)return-1;s=2,o/=2,l/=2,n/=2}if(a)for(i=-1;n<o;n++)if(r(e,n)===r(t,-1===i?0:n-i)){if(-1===i&&(i=n),n-i+1===l)return i*s}else-1!==i&&(n-=n-i),i=-1;else for(n+l>o&&(n=o-l);0<=n;n--){for(o=!0,i=0;i<l;i++)if(r(e,n+i)!==r(t,i)){o=!1;break}if(o)return n}return-1}function y(e,t,n){n=Math.min(e.length,n);for(var i=[];t<n;){var a=e[t],r=null,s=239<a?4:223<a?3:191<a?2:1;if(t+s<=n)switch(s){case 1:128>a&&(r=a);break;case 2:var o=e[t+1];128==(192&o)&&127<(a=(31&a)<<6|63&o)&&(r=a);break;case 3:o=e[t+1];var l=e[t+2];128==(192&o)&&128==(192&l)&&2047<(a=(15&a)<<12|(63&o)<<6|63&l)&&(55296>a||57343<a)&&(r=a);break;case 4:o=e[t+1],l=e[t+2];var c=e[t+3];128==(192&o)&&128==(192&l)&&128==(192&c)&&65535<(a=(15&a)<<18|(63&o)<<12|(63&l)<<6|63&c)&&1114112>a&&(r=a)}null===r?(r=65533,s=1):65535<r&&(r-=65536,i.push(r>>>10&1023|55296),r=56320|1023&r),i.push(r),t+=s}if((e=i.length)<=F)i=String.fromCharCode.apply(String,i);else{for(n="",t=0;t<e;)n+=String.fromCharCode.apply(String,i.slice(t,t+=F));i=n}return i}function b(e,t,n){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,n,i,a,r){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<r)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function w(e,t,n,i){0>t&&(t=65535+t+1);for(var a=0,r=Math.min(e.length-n,2);a<r;++a)e[n+a]=(t&255<<8*(i?a:1-a))>>>8*(i?a:1-a)}function x(e,t,n,i){0>t&&(t=4294967295+t+1);for(var a=0,r=Math.min(e.length-n,4);a<r;++a)e[n+a]=t>>>8*(i?a:3-a)&255}function k(e,t,n,i,a,r){if(n+i>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function C(e,t,n,i,a){return a||k(e,0,n,4),N.write(e,t,n,i,23,4),n+4}function T(e,t,n,i,a){return a||k(e,0,n,8),N.write(e,t,n,i,52,8),n+8}function S(e){if(e=e.trim?e.trim():e.replace(/^\s+|\s+$/g,""),2>(e=e.replace(I,"")).length)return"";for(;0!=e.length%4;)e+="=";return e}function E(e,t){t=t||1/0;for(var n,i=e.length,a=null,r=[],s=0;s<i;++s){if(55295<(n=e.charCodeAt(s))&&57344>n){if(!a){if(56319<n){-1<(t-=3)&&r.push(239,191,189);continue}if(s+1===i){-1<(t-=3)&&r.push(239,191,189);continue}a=n;continue}if(56320>n){-1<(t-=3)&&r.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&-1<(t-=3)&&r.push(239,191,189);if(a=null,128>n){if(0>--t)break;r.push(n)}else if(2048>n){if(0>(t-=2))break;r.push(n>>6|192,63&n|128)}else if(65536>n){if(0>(t-=3))break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw Error("Invalid code point");if(0>(t-=4))break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function A(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function M(e,t,n,i){for(var a=0;a<i&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}var O=s(114),N=s(115),D=s(59);a.Buffer=l,a.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},a.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array[t],foo:function(){return 42}},42===e.foo()&&i===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),a.kMaxLength=l.TYPED_ARRAY_SUPPORT?2147483647:1073741823,l.poolSize=8192,l._augment=function(e){return e.__proto__=l[t],e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l[t].__proto__=Uint8Array[t],l.__proto__=Uint8Array,r.s(),r.s(),r.s(),n!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&(r.s(),Object.defineProperty(l,Symbol.species,{value:null,configurable:!0}))),l.alloc=function(e,t,n){return u(e),e=0>=e?o(null,e):void 0!==t?"string"==typeof n?o(null,e).fill(t,n):o(null,e).fill(t):o(null,e)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,a=0,r=Math.min(n,i);a<r;++a)if(e[a]!==t[a]){n=e[a],i=t[a];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!D(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;t=l.allocUnsafe(t);var i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(t,i),i+=a.length}return t},l.byteLength=p,l[t]._isBuffer=!0,l[t].swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l[t].swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l[t].swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l[t].toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?y(this,0,e):function(e,t,n){var i=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":for(e=t,t=n,n=this.length,(!e||0>e)&&(e=0),(!t||0>t||t>n)&&(t=n),i="",n=e;n<t;++n)e=i,i=this[n],i=16>i?"0"+i.toString(16):i.toString(16),i=e+i;return i;case"utf8":case"utf-8":return y(this,t,n);case"ascii":for(e="",n=Math.min(this.length,n);t<n;++t)e+=String.fromCharCode(127&this[t]);return e;case"latin1":case"binary":for(e="",n=Math.min(this.length,n);t<n;++t)e+=String.fromCharCode(this[t]);return e;case"base64":return t=0===t&&n===this.length?O.fromByteArray(this):O.fromByteArray(this.slice(t,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(t=this.slice(t,n),n="",e=0;e<t.length;e+=2)n+=String.fromCharCode(t[e]+256*t[e+1]);return n;default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},l[t].equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l[t].inspect=function(){var e="",t=a.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},l[t].compare=function(e,t,n,i,a){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),0>t||n>e.length||0>i||a>this.length)throw new RangeError("out of range index");if(i>=a&&t>=n)return 0;if(i>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;var r=a-i,s=n-t,o=Math.min(r,s);for(i=this.slice(i,a),e=e.slice(t,n),t=0;t<o;++t)if(i[t]!==e[t]){r=i[t],s=e[t];break}return r<s?-1:s<r?1:0},l[t].includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l[t].indexOf=function(e,t,n){return m(this,e,t,n,!0)},l[t].lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l[t].write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),0<e.length&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(i||(i="utf8"),a=!1;;)switch(i){case"hex":e:{if(t=+t||0,i=this.length-t,n?(n=+n)>i&&(n=i):n=i,0!=(i=e.length)%2)throw new TypeError("Invalid hex string");for(n>i/2&&(n=i/2),i=0;i<n;++i){if(a=parseInt(e.substr(2*i,2),16),isNaN(a)){e=i;break e}this[t+i]=a}e=i}return e;case"utf8":case"utf-8":return M(E(e,this.length-t),this,t,n);case"ascii":return M(A(e),this,t,n);case"latin1":case"binary":return M(A(e),this,t,n);case"base64":return M(O.toByteArray(S(e)),this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=e,a=this.length-t;for(var r=[],s=0;s<i.length&&!(0>(a-=2));++s){var o=i.charCodeAt(s);e=o>>8,o%=256,r.push(o),r.push(e)}return M(r,this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},l[t].toJSON=function(){return{type:"Buffer",data:Array[t].slice.call(this._arr||this,0)}};var F=4096;l[t].slice=function(e,n){var i=this.length;if(e=~~e,n=void 0===n?i:~~n,0>e?0>(e+=i)&&(e=0):e>i&&(e=i),0>n?0>(n+=i)&&(n=0):n>i&&(n=i),n<e&&(n=e),l.TYPED_ARRAY_SUPPORT)n=this.subarray(e,n),n.__proto__=l[t];else{n=new l(i=n-e,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},l[t].readUIntLE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length),n=this[e];for(var i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},l[t].readUIntBE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length),n=this[e+--t];for(var i=1;0<t&&(i*=256);)n+=this[e+--t]*i;return n},l[t].readUInt8=function(e,t){return t||b(e,1,this.length),this[e]},l[t].readUInt16LE=function(e,t){return t||b(e,2,this.length),this[e]|this[e+1]<<8},l[t].readUInt16BE=function(e,t){return t||b(e,2,this.length),this[e]<<8|this[e+1]},l[t].readUInt32LE=function(e,t){return t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l[t].readUInt32BE=function(e,t){return t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l[t].readIntLE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length),n=this[e];for(var i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=128*i&&(n-=Math.pow(2,8*t)),n},l[t].readIntBE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length),n=t;for(var i=1,a=this[e+--n];0<n&&(i*=256);)a+=this[e+--n]*i;return a>=128*i&&(a-=Math.pow(2,8*t)),a},l[t].readInt8=function(e,t){return t||b(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l[t].readInt16LE=function(e,t){return t||b(e,2,this.length),32768&(e=this[e]|this[e+1]<<8)?4294901760|e:e},l[t].readInt16BE=function(e,t){return t||b(e,2,this.length),32768&(e=this[e+1]|this[e]<<8)?4294901760|e:e},l[t].readInt32LE=function(e,t){return t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l[t].readInt32BE=function(e,t){return t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l[t].readFloatLE=function(e,t){return t||b(e,4,this.length),N.read(this,e,!0,23,4)},l[t].readFloatBE=function(e,t){return t||b(e,4,this.length),N.read(this,e,!1,23,4)},l[t].readDoubleLE=function(e,t){return t||b(e,8,this.length),N.read(this,e,!0,52,8)},l[t].readDoubleBE=function(e,t){return t||b(e,8,this.length),N.read(this,e,!1,52,8)},l[t].writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||_(this,e,t,n,Math.pow(2,8*n)-1,0),i=1;var a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},l[t].writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||_(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1;for(this[t+(i=n-1)]=255&e;0<=--i&&(a*=256);)this[t+i]=e/a&255;return t+n},l[t].writeUInt8=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l[t].writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):w(this,e,t,!0),t+2},l[t].writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):w(this,e,t,!1),t+2},l[t].writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},l[t].writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},l[t].writeIntLE=function(e,t,n,i){e=+e,t|=0,i||(i=Math.pow(2,8*n-1),_(this,e,t,n,i-1,-i)),i=0;var a=1,r=0;for(this[t]=255&e;++i<n&&(a*=256);)0>e&&0===r&&0!==this[t+i-1]&&(r=1),this[t+i]=(e/a>>0)-r&255;return t+n},l[t].writeIntBE=function(e,t,n,i){e=+e,t|=0,i||(i=Math.pow(2,8*n-1),_(this,e,t,n,i-1,-i));var a=1,r=0;for(this[t+(i=n-1)]=255&e;0<=--i&&(a*=256);)0>e&&0===r&&0!==this[t+i+1]&&(r=1),this[t+i]=(e/a>>0)-r&255;return t+n},l[t].writeInt8=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},l[t].writeInt16LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):w(this,e,t,!0),t+2},l[t].writeInt16BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):w(this,e,t,!1),t+2},l[t].writeInt32LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},l[t].writeInt32BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},l[t].writeFloatLE=function(e,t,n){return C(this,e,t,!0,n)},l[t].writeFloatBE=function(e,t,n){return C(this,e,t,!1,n)},l[t].writeDoubleLE=function(e,t,n){return T(this,e,t,!0,n)},l[t].writeDoubleBE=function(e,t,n){return T(this,e,t,!1,n)},l[t].copy=function(e,n,i,a){if(i||(i=0),a||0===a||(a=this.length),n>=e.length&&(n=e.length),n||(n=0),0<a&&a<i&&(a=i),a===i||0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>a)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-n<a-i&&(a=e.length-n+i);var r=a-i;if(this===e&&i<n&&n<a)for(a=r-1;0<=a;--a)e[a+n]=this[a+i];else if(1e3>r||!l.TYPED_ARRAY_SUPPORT)for(a=0;a<r;++a)e[a+n]=this[a+i];else Uint8Array[t].set.call(e,this.subarray(i,i+r),n);return r},l[t].fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var a=e.charCodeAt(0);256>a&&(e=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else for(e=l.isBuffer(e)?e:E(""+new l(e,i)),a=e.length,i=0;i<n-t;++i)this[i+t]=e[i%a];return this};var I=/[^+\/0-9A-Za-z-_]/g}).call(a,s(53))},function(e,n){n.__esModule=!0,(e=function(e){this.app=e})[t].get=function(e,t,n){},e[t].set=function(e,t,n){},n.default=e},function(e,t){t.encode=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n.length&&(n+="&"),n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n},t.decode=function(e){for(var t={},n=0,i=(e=e.split("&")).length;n<i;n++){var a=e[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},function(e,n){e.exports=function(e,n){var i=function(){};i[t]=n[t],e[t]=new i,e[t].constructor=e}},function(e,i,r){(function(s){function o(){try{var e=i.storage.debug}catch(e){}return!e&&n!==typeof s&&"env"in s&&(e=s.env.DEBUG),e}(i=e.exports=r(130)).log=function(){return a===typeof console&&console.log&&Function[t].apply.call(console.log,console,arguments)},i.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+i.humanize(this.diff),t){t="color: "+this.color,e.splice(1,0,t,"color: inherit");var n=0,a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(a=n))}),e.splice(a,0,t)}},i.save=function(e){try{null==e?i.storage.removeItem("debug"):i.storage.debug=e}catch(e){}},i.load=o,i.useColors=function(){return!(n===typeof window||!window.process||"renderer"!==window.process.type)||(n===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(n!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||n!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||n!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||n!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};var l=i;if(n!=typeof chrome&&n!=typeof chrome.storage)var c=chrome.storage.local;else e:{try{c=window.localStorage;break e}catch(e){}c=void 0}l.storage=c,i.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),i.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},i.enable(o())}).call(i,r(18))},function(e,i,r){(function(s){function o(){try{var e=i.storage.debug}catch(e){}return!e&&n!==typeof s&&"env"in s&&(e=s.env.DEBUG),e}(i=e.exports=r(135)).log=function(){return a===typeof console&&console.log&&Function[t].apply.call(console.log,console,arguments)},i.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+i.humanize(this.diff),t){t="color: "+this.color,e.splice(1,0,t,"color: inherit");var n=0,a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(a=n))}),e.splice(a,0,t)}},i.save=function(e){try{null==e?i.storage.removeItem("debug"):i.storage.debug=e}catch(e){}},i.load=o,i.useColors=function(){return!(n===typeof window||!window.process||"renderer"!==window.process.type)||(n===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(n!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||n!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||n!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||n!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};var l=i;if(n!=typeof chrome&&n!=typeof chrome.storage)var c=chrome.storage.local;else e:{try{c=window.localStorage;break e}catch(e){}c=void 0}l.storage=c,i.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),i.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},i.enable(o())}).call(i,r(18))},function(e,t,n){void 0===(t={})||(e.exports=t)},function(e,t,n){var i,r;i=[n(1),n(3),n(15),n(48),n(34),n(22)],void 0===(r=function(e,t,n,i,r){var s=/^(?:focusinfocus|focusoutblur)$/;return e.extend(e.event,{trigger:function(o,l,c,u){var d,f,h=[c||t],p=r.call(o,"type")?o.type:o,g=r.call(o,"namespace")?o.namespace.split("."):[],m=d=c=c||t;if(3!==c.nodeType&&8!==c.nodeType&&!s.test(p+e.event.triggered)){-1<p.indexOf(".")&&(g=p.split("."),p=g.shift(),g.sort());var v=0>p.indexOf(":")&&"on"+p;if(o=o[e.expando]?o:new e.Event(p,a===typeof o&&o),o.isTrigger=u?2:3,o.namespace=g.join("."),o.rnamespace=o.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,o.result=void 0,o.target||(o.target=c),l=null==l?[o]:e.makeArray(l,[o]),g=e.event.special[p]||{},u||!g.trigger||!1!==g.trigger.apply(c,l)){if(!u&&!g.noBubble&&!e.isWindow(c)){var y=g.delegateType||p;for(s.test(y+p)||(m=m.parentNode);m;m=m.parentNode)h.push(m),d=m;d===(c.ownerDocument||t)&&h.push(d.defaultView||d.parentWindow||window)}for(d=0;(m=h[d++])&&!o.isPropagationStopped();)o.type=1<d?y:g.bindType||p,(f=(n.get(m,"events")||{})[o.type]&&n.get(m,"handle"))&&f.apply(m,l),(f=v&&m[v])&&f.apply&&i(m)&&(o.result=f.apply(m,l),!1===o.result&&o.preventDefault());return o.type=p,u||o.isDefaultPrevented()||g._default&&!1!==g._default.apply(h.pop(),l)||!i(c)||!v||!e.isFunction(c[p])||e.isWindow(c)||((d=c[v])&&(c[v]=null),e.event.triggered=p,c[p](),e.event.triggered=void 0,d&&(c[v]=d)),o.result}}},simulate:function(t,n,i){t=e.extend(new e.Event,i,{type:t,isSimulated:!0}),e.event.trigger(t,null,n)}}),e.fn.extend({trigger:function(t,n){return this.each(function(){e.event.trigger(t,n,this)})},triggerHandler:function(t,n){var i=this[0];if(i)return e.event.trigger(t,n,i,!0)}}),e}.apply(t,i))||(e.exports=r)},function(e,t,n){var i,a;i=[n(17)],void 0===(a=function(e){return e.slice}.apply(t,i))||(e.exports=a)},function(e,t,n){void 0===(t={})||(e.exports=t)},function(e,t,n){var i,a;i=[n(33)],void 0===(a=function(e){return e.hasOwnProperty}.apply(t,i))||(e.exports=a)},function(e,t,n){void 0===(t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source)||(e.exports=t)},function(e,t,n){var r,s;r=[n(1),n(32),n(58)],void 0===(s=function(e,t){function n(e){return e}function r(e){throw e}function s(t,n,i,a){var r;try{t&&e.isFunction(r=t.promise)?r.call(t).done(n).fail(i):t&&e.isFunction(r=t.then)?r.call(t,n,i):n.apply(void 0,[t].slice(a))}catch(e){i.apply(void 0,[e])}}return e.extend({Deferred:function(t){var s=[["notify","progress",e.Callbacks("memory"),e.Callbacks("memory"),2],["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),0,"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),1,"rejected"]],o="pending",l={state:function(){return o},always:function(){return c.done(arguments).fail(arguments),this},catch:function(e){return l.then(null,e)},pipe:function(){var t=arguments;return e.Deferred(function(n){e.each(s,function(i,a){var r=e.isFunction(t[a[4]])&&t[a[4]];c[a[1]](function(){var t=r&&r.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,o,l){function c(t,s,o,l){return function(){var d=this,f=arguments,h=function(){if(!(t<u)){var h=o.apply(d,f);if(h===s.promise())throw new TypeError("Thenable self-resolution");var p=h&&(a===typeof h||i===typeof h)&&h.then;e.isFunction(p)?l?p.call(h,c(u,s,n,l),c(u,s,r,l)):(u++,p.call(h,c(u,s,n,l),c(u,s,r,l),c(u,s,n,s.notifyWith))):(o!==n&&(d=void 0,f=[h]),(l||s.resolveWith)(d,f))}},p=l?h:function(){try{h()}catch(n){e.Deferred.exceptionHook&&e.Deferred.exceptionHook(n,p.stackTrace),t+1>=u&&(o!==r&&(d=void 0,f=[n]),s.rejectWith(d,f))}};t?p():(e.Deferred.getStackHook&&(p.stackTrace=e.Deferred.getStackHook()),window.setTimeout(p))}}var u=0;return e.Deferred(function(i){s[0][3].add(c(0,i,e.isFunction(l)?l:n,i.notifyWith)),s[1][3].add(c(0,i,e.isFunction(t)?t:n)),s[2][3].add(c(0,i,e.isFunction(o)?o:r))}).promise()},promise:function(t){return null!=t?e.extend(t,l):l}},c={};return e.each(s,function(e,t){var n=t[2],i=t[5];l[t[1]]=n.add,i&&n.add(function(){o=i},s[3-e][2].disable,s[0][2].lock),n.add(t[3].fire),c[t[0]]=function(){return c[t[0]+"With"](this===c?void 0:this,arguments),this},c[t[0]+"With"]=n.fireWith}),l.promise(c),t&&t.call(c,c),c},when:function(n){var i=arguments.length,a=i,r=Array(a),o=t.call(arguments),l=e.Deferred(),c=function(e){return function(n){r[e]=this,o[e]=1<arguments.length?t.call(arguments):n,--i||l.resolveWith(r,o)}};if(1>=i&&(s(n,l.done(c(a)).resolve,l.reject,!i),"pending"===l.state()||e.isFunction(o[a]&&o[a].then)))return l.then();for(;a--;)s(o[a],c(a),l.reject);return l.promise()}}),e}.apply(t,r))||(e.exports=s)},function(e,s,o){s.__esModule=!0;var l=o(5),c=window.document,u=window.navigator;(function(e,s){function o(e,t){return(null===e||typeof e in y)&&e===t}function d(e,t){var n;return function(){n||(n=v.utils.setTimeout(function(){n=void 0,e()},t))}}function f(e,t){var n;return function(){clearTimeout(n),n=v.utils.setTimeout(e,t)}}function h(e,t){t&&"change"!==t?"beforeChange"===t?this._limitBeforeChange(e):this._origNotifySubscribers(e,t):this._limitChange(e)}function p(e,t){null!==t&&t.dispose&&t.dispose()}function g(e,t){var n=this.computedObservable,i=n[k];i.isDisposed||(this.disposalCount&&this.disposalCandidates[t]?(n.addDependencyTracking(t,e,this.disposalCandidates[t]),this.disposalCandidates[t]=null,--this.disposalCount):i.dependencyTracking[t]||n.addDependencyTracking(t,e,i.isSleeping?{_target:e}:n.subscribeToDependency(e)),e._notificationIsPending&&e._notifyNextChangeIfValueIsDifferent())}function m(e,t,n,i){v.bindingHandlers[e]={init:function(e,a,r,s,o){var l,c;return v.computed(function(){var r=a(),s=v.utils.unwrapObservable(r);s=!n!=!s;var u=!c;(u||t||s!==l)&&(u&&v.computedContext.getDependenciesCount()&&(c=v.utils.cloneNodes(v.virtualElements.childNodes(e),!0)),s?(u||v.virtualElements.setDomNodeChildren(e,v.utils.cloneNodes(c)),v.applyBindingsToDescendants(i?i(o,r):o,e)):v.virtualElements.emptyNode(e),l=s)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},v.expressionRewriting.bindingRewriteValidators[e]=!1,v.virtualElements.allowedBindings[e]=!0}var v=n!==typeof e?e:{};v.exportSymbol=function(e,t){e=e.split(".");for(var n=v,i=0;i<e.length-1;i++)n=n[e[i]];n[e[e.length-1]]=t},v.exportProperty=function(e,t,n){e[t]=n},v.version="3.4.2",v.exportSymbol("version",v.version),v.options={deferUpdates:!1,useOnlyNativeEvents:!0},v.utils=function(){function e(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function s(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e,t){return e.__proto__=t,e}function d(e,t,n,i){var a=e[t].match(b)||[];v.utils.arrayForEach(n.match(b),function(e){v.utils.addOrRemoveItem(a,e,i)}),e[t]=a.join(" ")}var f={__proto__:[]}instanceof Array;r.s();var h=i===typeof Symbol,p={},g={};p[u&&/Firefox\/2/i.test(u.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),e(p,function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)g[t[n]]=e});var m={propertychange:!0},y=c&&function(){for(var e=3,t=c.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:void 0}(),b=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)},arrayIndexOf:function(e,n){if(i==typeof Array[t].indexOf)return Array[t].indexOf.call(e,n);for(var a=0,r=e.length;a<r;a++)if(e[a]===n)return a;return-1},arrayFirst:function(e,t,n){for(var i=0,a=e.length;i<a;i++)if(t.call(n,e[i],i))return e[i];return null},arrayRemoveItem:function(e,t){0<(t=v.utils.arrayIndexOf(e,t))?e.splice(t,1):0===t&&e.shift()},arrayGetDistinctValues:function(e){for(var t=[],n=0,i=(e=e||[]).length;n<i;n++)0>v.utils.arrayIndexOf(t,e[n])&&t.push(e[n]);return t},arrayMap:function(e,t){for(var n=[],i=0,a=(e=e||[]).length;i<a;i++)n.push(t(e[i],i));return n},arrayFilter:function(e,t){for(var n=[],i=0,a=(e=e||[]).length;i<a;i++)t(e[i],i)&&n.push(e[i]);return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,t,n){var i=v.utils.arrayIndexOf(v.utils.peekObservable(e),t);0>i?n&&e.push(t):n||e.splice(i,1)},canSetPrototype:f,extend:s,setPrototypeOf:o,setPrototypeOfOrExtend:f?o:s,objectForEach:e,objectMap:function(e,t){if(!e)return e;var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=t(e[n],n,e));return i},emptyDomNode:function(e){for(;e.firstChild;)v.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var t=((e=v.utils.makeArray(e))[0]&&e[0].ownerDocument||c).createElement("div"),n=0,i=e.length;n<i;n++)t.appendChild(v.cleanNode(e[n]));return t},cloneNodes:function(e,t){for(var n=0,i=e.length,a=[];n<i;n++){var r=e[n].cloneNode(!0);a.push(t?v.cleanNode(r):r)}return a},setDomNodeChildren:function(e,t){if(v.utils.emptyDomNode(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},replaceDomNodes:function(e,t){if(0<(e=e.nodeType?[e]:e).length){for(var n=e[0],i=n.parentNode,a=0,r=t.length;a<r;a++)i.insertBefore(t[a],n);for(a=0,r=e.length;a<r;a++)v.removeNode(e[a])}},fixUpContinuousNodeArray:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){t=e[0];var n=e[e.length-1];for(e.length=0;t!==n;)e.push(t),t=t.nextSibling;e.push(n)}}return e},setOptionNodeSelectionState:function(e,t){7>y?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return null===e||void 0===e?"":e.trim?e.trim():(""+e).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},domNodeIsAttachedToDocument:function(e){return v.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!v.utils.arrayFirst(e,v.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},catchFunctionErrors:function(e){return v.onError?function(){try{return e.apply(this,arguments)}catch(e){throw v.onError&&v.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(v.utils.catchFunctionErrors(e),t)},deferError:function(e){setTimeout(function(){throw v.onError&&v.onError(e),e},0)},registerEventHandler:function(e,t,a){var r=v.utils.catchFunctionErrors(a);if(y&&m[t]||i!=typeof e.addEventListener){if(n==typeof e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var s=function(t){r.call(e,t)},o="on"+t;e.attachEvent(o,s),v.utils.domNodeDisposal.addDisposeCallback(e,function(){e.detachEvent(o,s)})}else e.addEventListener(t,r,!1)},triggerEvent:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");if("input"===v.utils.tagNameLower(e)&&e.type)if("click"!=t.toLowerCase())var a=!1;else a=e.type,a="checkbox"==a||"radio"==a;else a=!1;if(i==typeof c.createEvent){if(i!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(a=c.createEvent(g[t]||"HTMLEvents")).initEvent(t,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(a)}else if(a&&e.click)e.click();else{if(n==typeof e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}},unwrapObservable:function(e){return v.isObservable(e)?e():e},peekObservable:function(e){return v.isObservable(e)?e.peek():e},toggleDomNodeCssClass:function(e,t,n){if(t)if(a===typeof e.classList){var i=e.classList[n?"add":"remove"];v.utils.arrayForEach(t.match(b),function(t){i.call(e.classList,t)})}else"string"==typeof e.className.baseVal?d(e.className,"baseVal",t,n):d(e,"className",t,n)},setTextContent:function(e,t){null!==(t=v.utils.unwrapObservable(t))&&void 0!==t||(t="");var n=v.virtualElements.firstChild(e);!n||3!=n.nodeType||v.virtualElements.nextSibling(n)?v.virtualElements.setDomNodeChildren(e,[e.ownerDocument.createTextNode(t)]):n.data=t,v.utils.forceRefresh(e)},setElementName:function(e,t){if(e.name=t,7>=y)try{e.mergeAttributes(c.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},forceRefresh:function(e){9<=y&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},ensureSelectElementIsRenderedCorrectly:function(e){if(y){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=v.utils.unwrapObservable(e),t=v.utils.unwrapObservable(t);for(var n=[];e<=t;e++)n.push(e);return n},makeArray:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},createSymbolOrString:function(e){return r.s(),h?Symbol(e):e},isIe6:6===y,isIe7:7===y,ieVersion:y,getFormFields:function(e,t){e=v.utils.makeArray(e.getElementsByTagName("input")).concat(v.utils.makeArray(e.getElementsByTagName("textarea")));for(var n="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],a=e.length-1;0<=a;a--)n(e[a])&&i.push(e[a]);return i},parseJson:function(e){return"string"==typeof e&&(e=v.utils.stringTrim(e))?l&&l.parse?l.parse(e):Function("return "+e)():null},stringifyJson:function(e,t,n){if(!l||!l.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return l.stringify(v.utils.unwrapObservable(e),t,n)},postJson:function(t,n,i){var r=(i=i||{}).params||{},s=i.includeFields||this.fieldsIncludedWithJsonPost,o=t;if(a==typeof t&&"form"===v.utils.tagNameLower(t)){o=t.action;for(var l=s.length-1;0<=l;l--)for(var u=v.utils.getFormFields(t,s[l]),d=u.length-1;0<=d;d--)r[u[d].name]=u[d].value}n=v.utils.unwrapObservable(n);var f=c.createElement("form");f.style.display="none",f.action=o,f.method="post";for(var h in n)t=c.createElement("input"),t.type="hidden",t.name=h,t.value=v.utils.stringifyJson(v.utils.unwrapObservable(n[h])),f.appendChild(t);e(r,function(e,t){var n=c.createElement("input");n.type="hidden",n.name=e,n.value=t,f.appendChild(n)}),c.body.appendChild(f),i.submitter?i.submitter(f):f.submit(),setTimeout(function(){f.parentNode.removeChild(f)},0)}}}(),v.exportSymbol("utils",v.utils),v.exportSymbol("utils.arrayForEach",v.utils.arrayForEach),v.exportSymbol("utils.arrayFirst",v.utils.arrayFirst),v.exportSymbol("utils.arrayFilter",v.utils.arrayFilter),v.exportSymbol("utils.arrayGetDistinctValues",v.utils.arrayGetDistinctValues),v.exportSymbol("utils.arrayIndexOf",v.utils.arrayIndexOf),v.exportSymbol("utils.arrayMap",v.utils.arrayMap),v.exportSymbol("utils.arrayPushAll",v.utils.arrayPushAll),v.exportSymbol("utils.arrayRemoveItem",v.utils.arrayRemoveItem),v.exportSymbol("utils.extend",v.utils.extend),v.exportSymbol("utils.fieldsIncludedWithJsonPost",v.utils.fieldsIncludedWithJsonPost),v.exportSymbol("utils.getFormFields",v.utils.getFormFields),v.exportSymbol("utils.peekObservable",v.utils.peekObservable),v.exportSymbol("utils.postJson",v.utils.postJson),v.exportSymbol("utils.parseJson",v.utils.parseJson),v.exportSymbol("utils.registerEventHandler",v.utils.registerEventHandler),v.exportSymbol("utils.stringifyJson",v.utils.stringifyJson),v.exportSymbol("utils.range",v.utils.range),v.exportSymbol("utils.toggleDomNodeCssClass",v.utils.toggleDomNodeCssClass),v.exportSymbol("utils.triggerEvent",v.utils.triggerEvent),v.exportSymbol("utils.unwrapObservable",v.utils.unwrapObservable),v.exportSymbol("utils.objectForEach",v.utils.objectForEach),v.exportSymbol("utils.addOrRemoveItem",v.utils.addOrRemoveItem),v.exportSymbol("utils.setTextContent",v.utils.setTextContent),v.exportSymbol("unwrap",v.utils.unwrapObservable),Function[t].bind||(Function[t].bind=function(e){var n=this;if(1===arguments.length)return function(){return n.apply(e,arguments)};var i=Array[t].slice.call(arguments,1);return function(){var t=i.slice(0);return t.push.apply(t,arguments),n.apply(e,t)}}),v.utils.domData=new function(){function e(e,a){var r=e[n];if(!r||"null"===r||!i[r]){if(!a)return;r=e[n]="ko"+t++,i[r]={}}return i[r]}var t=0,n="__ko__"+(new Date).getTime(),i={};return{get:function(t,n){return void 0===(t=e(t,!1))?void 0:t[n]},set:function(t,n,i){void 0===i&&void 0===e(t,!1)||(e(t,!0)[n]=i)},clear:function(e){var t=e[n];return!!t&&(delete i[t],e[n]=null,!0)},nextKey:function(){return t+++n}}},v.exportSymbol("utils.domData",v.utils.domData),v.exportSymbol("utils.domData.clear",v.utils.domData.clear),v.utils.domNodeDisposal=new function(){function e(e,t){var i=v.utils.domData.get(e,n);return void 0===i&&t&&(i=[],v.utils.domData.set(e,n,i)),i}function t(n){var i=e(n,!1);if(i){i=i.slice(0);for(var a=0;a<i.length;a++)i[a](n)}if(v.utils.domData.clear(n),v.utils.domNodeDisposal.cleanExternalData(n),r[n.nodeType])for(i=n.firstChild;n=i;)i=n.nextSibling,8===n.nodeType&&t(n)}var n=v.utils.domData.nextKey(),a={1:!0,8:!0,9:!0},r={1:!0,9:!0};return{addDisposeCallback:function(t,n){if(i!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},removeDisposeCallback:function(t,i){var a=e(t,!1);a&&(v.utils.arrayRemoveItem(a,i),0==a.length&&v.utils.domData.set(t,n,void 0))},cleanNode:function(e){if(a[e.nodeType]&&(t(e),r[e.nodeType])){var n=[];v.utils.arrayPushAll(n,e.getElementsByTagName("*"));for(var i=0,s=n.length;i<s;i++)t(n[i])}return e},removeNode:function(e){v.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){}}},v.cleanNode=v.utils.domNodeDisposal.cleanNode,v.removeNode=v.utils.domNodeDisposal.removeNode,v.exportSymbol("cleanNode",v.cleanNode),v.exportSymbol("removeNode",v.removeNode),v.exportSymbol("utils.domNodeDisposal",v.utils.domNodeDisposal),v.exportSymbol("utils.domNodeDisposal.addDisposeCallback",v.utils.domNodeDisposal.addDisposeCallback),v.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",v.utils.domNodeDisposal.removeDisposeCallback),function(){var e=[0,"",""],t=[1,"<table>","</table>"],n=[3,"<table><tbody><tr>","</tr></tbody></table>"],a=[1,"<select multiple='multiple'>","</select>"],r={thead:t,tbody:t,tfoot:t,tr:[2,"<table><tbody>","</tbody></table>"],td:n,th:n,option:a,optgroup:a},s=8>=v.utils.ieVersion;v.utils.parseHtmlFragment=function(t,n){n||(n=c);var a=n.parentWindow||n.defaultView||window,o=v.utils.stringTrim(t).toLowerCase(),l=n.createElement("div"),u=(o=o.match(/^<([a-z]+)[ >]/))&&r[o[1]]||e;for(o=u[0],t="ignored<div>"+u[1]+t+u[2]+"</div>",i==typeof a.innerShiv?l.appendChild(a.innerShiv(t)):(s&&n.appendChild(l),l.innerHTML=t,s&&l.parentNode.removeChild(l));o--;)l=l.lastChild;return v.utils.makeArray(l.lastChild.childNodes)},v.utils.setHtml=function(e,t){if(v.utils.emptyDomNode(e),null!==(t=v.utils.unwrapObservable(t))&&void 0!==t){"string"!=typeof t&&(t=""+t),t=v.utils.parseHtmlFragment(t,e.ownerDocument);for(var n=0;n<t.length;n++)e.appendChild(t[n])}}}(),v.exportSymbol("utils.parseHtmlFragment",v.utils.parseHtmlFragment),v.exportSymbol("utils.setHtml",v.utils.setHtml),v.memoization=function(){function e(t,n){if(t)if(8==t.nodeType){var i=v.memoization.parseMemoText(t.nodeValue);null!=i&&n.push({domNode:t,memoId:i})}else if(1==t.nodeType){i=0;for(var a=(t=t.childNodes).length;i<a;i++)e(t[i],n)}}var t={};return{memoize:function(e){if(i!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return t[n]=e,"\x3c!--[ko_memo:"+n+"]--\x3e"},unmemoize:function(e,n){var i=t[e];if(void 0===i)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return i.apply(null,n||[]),!0}finally{delete t[e]}},unmemoizeDomNodeAndDescendants:function(t,n){var i=[];e(t,i),t=0;for(var a=i.length;t<a;t++){var r=i[t].domNode,s=[r];n&&v.utils.arrayPushAll(s,n),v.memoization.unmemoize(i[t].memoId,s),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)}},parseMemoText:function(e){return(e=e.match(/^\[ko_memo:(.*?)\]$/))?e[1]:null}}}(),v.exportSymbol("memoization",v.memoization),v.exportSymbol("memoization.memoize",v.memoization.memoize),v.exportSymbol("memoization.unmemoize",v.memoization.unmemoize),v.exportSymbol("memoization.parseMemoText",v.memoization.parseMemoText),v.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",v.memoization.unmemoizeDomNodeAndDescendants),v.tasks=function(){function e(){if(i)for(var e,t=i,a=0;r<i;)if(e=n[r++]){if(r>t){if(5e3<=++a){r=i,v.utils.deferError(Error("'Too much recursion' after processing "+a+" task groups."));break}t=i}try{e()}catch(e){v.utils.deferError(e)}}}function t(){e(),r=i=n.length=0}var n=[],i=0,a=1,r=0;return{scheduler:window.MutationObserver?function(e){var t=c.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(t):c&&"onreadystatechange"in c.createElement("script")?function(e){var t=c.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,c.documentElement.removeChild(t),t=null,e()},c.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},schedule:function(e){return i||v.tasks.scheduler(t),n[i++]=e,a++},cancel:function(e){(e-=a-i)>=r&&e<i&&(n[e]=null)},resetForTesting:function(){var e=i-r;return r=i=n.length=0,e},runEarly:e}}(),v.exportSymbol("tasks",v.tasks),v.exportSymbol("tasks.schedule",v.tasks.schedule),v.exportSymbol("tasks.runEarly",v.tasks.runEarly),v.extenders={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return v.dependentObservable({read:e,write:function(i){clearTimeout(n),n=v.utils.setTimeout(function(){e(i)},t)}})},rateLimit:function(e,t){if("number"==typeof t)var n=t;else{n=t.timeout;var i=t.method}e._deferUpdates=!1;var a="notifyWhenChangesStop"==i?f:d;e.limit(function(e){return a(e,n)})},deferred:function(e,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e._deferUpdates||(e._deferUpdates=!0,e.limit(function(t){var n,i=!1;return function(){if(!i){v.tasks.cancel(n),n=v.tasks.schedule(t);try{i=!0,e.notifySubscribers(void 0,"dirty")}finally{i=!1}}}}))},notify:function(e,t){e.equalityComparer="always"==t?null:o}};var y={undefined:1,boolean:1,number:1,string:1};v.exportSymbol("extenders",v.extenders),v.subscription=function(e,t,n){this._target=e,this.callback=t,this.disposeCallback=n,this.isDisposed=!1,v.exportProperty(this,"dispose",this.dispose)},v.subscription[t].dispose=function(){this.isDisposed=!0,this.disposeCallback()},v.subscribable=function(){v.utils.setPrototypeOfOrExtend(this,b),b.init(this)};var b={init:function(e){e._subscriptions={change:[]},e._versionNumber=1},subscribe:function(e,t,n){var i=this;n=n||"change",e=t?e.bind(t):e;var a=new v.subscription(i,e,function(){v.utils.arrayRemoveItem(i._subscriptions[n],a),i.afterSubscriptionRemove&&i.afterSubscriptionRemove(n)});return i.beforeSubscriptionAdd&&i.beforeSubscriptionAdd(n),i._subscriptions[n]||(i._subscriptions[n]=[]),i._subscriptions[n].push(a),a},notifySubscribers:function(e,t){if("change"===(t=t||"change")&&this.updateVersion(),this.hasSubscriptionsForEvent(t)){t=this._subscriptions[t].slice(0);try{v.dependencyDetection.begin();for(var n,i=0;n=t[i];++i)n.isDisposed||n.callback(e)}finally{v.dependencyDetection.end()}}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var t,n,i,a,r=this,s=v.isObservable(r);r._origNotifySubscribers||(r._origNotifySubscribers=r.notifySubscribers,r.notifySubscribers=h);var o=e(function(){r._notificationIsPending=!1,s&&a===r&&(a=r._evalIfChanged?r._evalIfChanged():r());var e=n||r.isDifferent(i,a);n=t=!1,e&&r._origNotifySubscribers(i=a)});r._limitChange=function(e){r._notificationIsPending=t=!0,a=e,o()},r._limitBeforeChange=function(e){t||(i=e,r._origNotifySubscribers(e,"beforeChange"))},r._notifyNextChangeIfValueIsDifferent=function(){r.isDifferent(i,r.peek(!0))&&(n=!0)}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var t=0;return v.utils.objectForEach(this._subscriptions,function(e,n){"dirty"!==e&&(t+=n.length)}),t},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var t=this;return e&&v.utils.objectForEach(e,function(e,n){e=v.extenders[e],i==typeof e&&(t=e(t,n)||t)}),t}};v.exportProperty(b,"subscribe",b.subscribe),v.exportProperty(b,"extend",b.extend),v.exportProperty(b,"getSubscriptionsCount",b.getSubscriptionsCount),v.utils.canSetPrototype&&v.utils.setPrototypeOf(b,Function[t]),v.subscribable.fn=b,v.isSubscribable=function(e){return null!=e&&i==typeof e.subscribe&&i==typeof e.notifySubscribers},v.exportSymbol("subscribable",v.subscribable),v.exportSymbol("isSubscribable",v.isSubscribable),v.computedContext=v.dependencyDetection=function(){function e(e){i.push(n),n=e}function t(){n=i.pop()}var n,i=[],a=0;return{begin:e,end:t,registerDependency:function(e){if(n){if(!v.isSubscribable(e))throw Error("Only subscribable things can act as dependencies");n.callback.call(n.callbackTarget,e,e._id||(e._id=++a))}},ignore:function(n,i,a){try{return e(),n.apply(i,a||[])}finally{t()}},getDependenciesCount:function(){if(n)return n.computed.getDependenciesCount()},isInitial:function(){if(n)return n.isInitial}}}(),v.exportSymbol("computedContext",v.computedContext),v.exportSymbol("computedContext.getDependenciesCount",v.computedContext.getDependenciesCount),v.exportSymbol("computedContext.isInitial",v.computedContext.isInitial),v.exportSymbol("ignoreDependencies",v.ignoreDependencies=v.dependencyDetection.ignore);var _=v.utils.createSymbolOrString("_latestValue");v.observable=function(e){function t(){return 0<arguments.length?(t.isDifferent(t[_],arguments[0])&&(t.valueWillMutate(),t[_]=arguments[0],t.valueHasMutated()),this):(v.dependencyDetection.registerDependency(t),t[_])}return t[_]=e,v.utils.canSetPrototype||v.utils.extend(t,v.subscribable.fn),v.subscribable.fn.init(t),v.utils.setPrototypeOfOrExtend(t,w),v.options.deferUpdates&&v.extenders.deferred(t,!0),t};var w={equalityComparer:o,peek:function(){return this[_]},valueHasMutated:function(){this.notifySubscribers(this[_])},valueWillMutate:function(){this.notifySubscribers(this[_],"beforeChange")}};v.utils.canSetPrototype&&v.utils.setPrototypeOf(w,v.subscribable.fn);var x=v.observable.protoProperty="__ko_proto__";w[x]=v.observable,v.hasPrototype=function(e,t){return null!==e&&void 0!==e&&void 0!==e[x]&&(e[x]===t||v.hasPrototype(e[x],t))},v.isObservable=function(e){return v.hasPrototype(e,v.observable)},v.isWriteableObservable=function(e){return!!(i==typeof e&&e[x]===v.observable||i==typeof e&&e[x]===v.dependentObservable&&e.hasWriteFunction)},v.exportSymbol("observable",v.observable),v.exportSymbol("isObservable",v.isObservable),v.exportSymbol("isWriteableObservable",v.isWriteableObservable),v.exportSymbol("isWritableObservable",v.isWriteableObservable),v.exportSymbol("observable.fn",w),v.exportProperty(w,"peek",w.peek),v.exportProperty(w,"valueHasMutated",w.valueHasMutated),v.exportProperty(w,"valueWillMutate",w.valueWillMutate),v.observableArray=function(e){if(e=e||[],a!=typeof e||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=v.observable(e),v.utils.setPrototypeOfOrExtend(e,v.observableArray.fn),e.extend({trackArrayChanges:!0})},v.observableArray.fn={remove:function(e){for(var t=this.peek(),n=[],a=i!=typeof e||v.isObservable(e)?function(t){return t===e}:e,r=0;r<t.length;r++){var s=t[r];a(s)&&(0===n.length&&this.valueWillMutate(),n.push(s),t.splice(r,1),r--)}return n.length&&this.valueHasMutated(),n},removeAll:function(e){if(void 0===e){var t=this.peek(),n=t.slice(0);return this.valueWillMutate(),t.splice(0,t.length),this.valueHasMutated(),n}return e?this.remove(function(t){return 0<=v.utils.arrayIndexOf(e,t)}):[]},destroy:function(e){var t=this.peek(),n=i!=typeof e||v.isObservable(e)?function(t){return t===e}:e;this.valueWillMutate();for(var a=t.length-1;0<=a;a--)n(t[a])&&(t[a]._destroy=!0);this.valueHasMutated()},destroyAll:function(e){return void 0===e?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=v.utils.arrayIndexOf(e,t)}):[]},indexOf:function(e){var t=this();return v.utils.arrayIndexOf(t,e)},replace:function(e,t){0<=(e=this.indexOf(e))&&(this.valueWillMutate(),this.peek()[e]=t,this.valueHasMutated())}},v.utils.canSetPrototype&&v.utils.setPrototypeOf(v.observableArray.fn,v.observable.fn),v.utils.arrayForEach("pop push reverse shift sort splice unshift".split(" "),function(e){v.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(t,e,arguments);var n=t[e].apply(t,arguments);return this.valueHasMutated(),n===t?this:n}}),v.utils.arrayForEach(["slice"],function(e){v.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),v.exportSymbol("observableArray",v.observableArray),v.extenders.trackArrayChanges=function(e,t){if(e.compareArrayOptions={},t&&a==typeof t&&v.utils.extend(e.compareArrayOptions,t),e.compareArrayOptions.sparse=!0,!e.cacheDiffForKnownOperation){var n,i,r=!1,s=null,o=0,l=e.beforeSubscriptionAdd,c=e.afterSubscriptionRemove;e.beforeSubscriptionAdd=function(t){l&&l.call(e,t),"arrayChange"===t&&function(){if(!r){r=!0,i=e.notifySubscribers,e.notifySubscribers=function(e,t){return t&&"change"!==t||++o,i.apply(this,arguments)};var t=[].concat(e.peek()||[]);s=null,n=e.subscribe(function(n){if(n=[].concat(n||[]),e.hasSubscriptionsForEvent("arrayChange")){(!s||1<o)&&(s=v.utils.compareArrays(t,n,e.compareArrayOptions));var i=s}t=n,s=null,o=0,i&&i.length&&e.notifySubscribers(i,"arrayChange")})}}()},e.afterSubscriptionRemove=function(t){c&&c.call(e,t),"arrayChange"!==t||e.hasSubscriptionsForEvent("arrayChange")||(i&&(e.notifySubscribers=i,i=void 0),n.dispose(),r=!1)},e.cacheDiffForKnownOperation=function(e,t,n){function i(e,t,n){return a[a.length]={status:e,value:t,index:n}}if(r&&!o){var a=[],l=e.length,c=n.length,u=0;switch(t){case"push":u=l;case"unshift":for(t=0;t<c;t++)i("added",n[t],u+t);break;case"pop":u=l-1;case"shift":l&&i("deleted",e[u],u);break;case"splice":t=Math.min(Math.max(0,0>n[0]?l+n[0]:n[0]),l),l=1===c?l:Math.min(t+(n[1]||0),l),u=Math.max(l,c=t+c-2);for(var d=[],f=[],h=2;t<u;++t,++h)t<l&&f.push(i("deleted",e[t],t)),t<c&&d.push(i("added",n[h],t));v.utils.findMovesInArrayComparison(f,d);break;default:return}s=a}}}};var k=v.utils.createSymbolOrString("_state");v.computed=v.dependentObservable=function(e,t,n){function r(){if(0<arguments.length){if(i!==typeof s)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return s.apply(o.evaluatorFunctionTarget,arguments),this}return v.dependencyDetection.registerDependency(r),(o.isDirty||o.isSleeping&&r.haveDependenciesChanged())&&r.evaluateImmediate(),o.latestValue}if(a===typeof e?n=e:(n=n||{},e&&(n.read=e)),i!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var s=n.write,o={latestValue:void 0,isStale:!0,isDirty:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:n.read,evaluatorFunctionTarget:t||n.owner,disposeWhenNodeIsRemoved:n.disposeWhenNodeIsRemoved||n.disposeWhenNodeIsRemoved||null,disposeWhen:n.disposeWhen||n.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return r[k]=o,r.hasWriteFunction=i===typeof s,v.utils.canSetPrototype||v.utils.extend(r,v.subscribable.fn),v.subscribable.fn.init(r),v.utils.setPrototypeOfOrExtend(r,C),n.pure?(o.pure=!0,o.isSleeping=!0,v.utils.extend(r,T)):n.deferEvaluation&&v.utils.extend(r,S),v.options.deferUpdates&&v.extenders.deferred(r,!0),o.disposeWhenNodeIsRemoved&&(o.suppressDisposalUntilDisposeWhenReturnsFalse=!0,o.disposeWhenNodeIsRemoved.nodeType||(o.disposeWhenNodeIsRemoved=null)),o.isSleeping||n.deferEvaluation||r.evaluateImmediate(),o.disposeWhenNodeIsRemoved&&r.isActive()&&v.utils.domNodeDisposal.addDisposeCallback(o.disposeWhenNodeIsRemoved,o.domNodeDisposalCallback=function(){r.dispose()}),r};var C={equalityComparer:o,getDependenciesCount:function(){return this[k].dependenciesCount},addDependencyTracking:function(e,t,n){if(this[k].pure&&t===this)throw Error("A 'pure' computed must not be called recursively");this[k].dependencyTracking[e]=n,n._order=this[k].dependenciesCount++,n._version=t.getVersion()},haveDependenciesChanged:function(){var e,t=this[k].dependencyTracking;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(this._evalDelayed&&n._target._notificationIsPending||n._target.hasChanged(n._version))return!0}},markDirty:function(){this._evalDelayed&&!this[k].isBeingEvaluated&&this._evalDelayed(!1)},isActive:function(){var e=this[k];return e.isDirty||0<e.dependenciesCount},respondToChange:function(){this._notificationIsPending?this[k].isDirty&&(this[k].isStale=!0):this.evaluatePossiblyAsync()},subscribeToDependency:function(e){if(e._deferUpdates&&!this[k].disposeWhenNodeIsRemoved){var t=e.subscribe(this.markDirty,this,"dirty"),n=e.subscribe(this.respondToChange,this);return{_target:e,dispose:function(){t.dispose(),n.dispose()}}}return e.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[k].evaluationTimeoutInstance),this[k].evaluationTimeoutInstance=v.utils.setTimeout(function(){e.evaluateImmediate(!0)},t)):e._evalDelayed?e._evalDelayed(!0):e.evaluateImmediate(!0)},evaluateImmediate:function(e){var t=this[k],n=t.disposeWhen,i=!1;if(!t.isBeingEvaluated&&!t.isDisposed){if(t.disposeWhenNodeIsRemoved&&!v.utils.domNodeIsAttachedToDocument(t.disposeWhenNodeIsRemoved)||n&&n()){if(!t.suppressDisposalUntilDisposeWhenReturnsFalse)return void this.dispose()}else t.suppressDisposalUntilDisposeWhenReturnsFalse=!1;t.isBeingEvaluated=!0;try{i=this.evaluateImmediate_CallReadWithDependencyDetection(e)}finally{t.isBeingEvaluated=!1}return t.dependenciesCount||this.dispose(),i}},evaluateImmediate_CallReadWithDependencyDetection:function(e){var t=this[k],n=!1,i=t.pure?void 0:!t.dependenciesCount,a={computedObservable:this,disposalCandidates:t.dependencyTracking,disposalCount:t.dependenciesCount};return v.dependencyDetection.begin({callbackTarget:a,callback:g,computed:this,isInitial:i}),t.dependencyTracking={},t.dependenciesCount=0,a=this.evaluateImmediate_CallReadThenEndDependencyDetection(t,a),this.isDifferent(t.latestValue,a)&&(t.isSleeping||this.notifySubscribers(t.latestValue,"beforeChange"),t.latestValue=a,t.isSleeping?this.updateVersion():e&&this.notifySubscribers(t.latestValue),n=!0),i&&this.notifySubscribers(t.latestValue,"awake"),n},evaluateImmediate_CallReadThenEndDependencyDetection:function(e,t){try{var n=e.readFunction;return e.evaluatorFunctionTarget?n.call(e.evaluatorFunctionTarget):n()}finally{v.dependencyDetection.end(),t.disposalCount&&!e.isSleeping&&v.utils.objectForEach(t.disposalCandidates,p),e.isStale=e.isDirty=!1}},peek:function(e){var t=this[k];return(t.isDirty&&(e||!t.dependenciesCount)||t.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),t.latestValue},limit:function(e){v.subscribable.fn.limit.call(this,e),this._evalIfChanged=function(){return this[k].isStale?this.evaluateImmediate():this[k].isDirty=!1,this[k].latestValue},this._evalDelayed=function(e){this._limitBeforeChange(this[k].latestValue),this[k].isDirty=!0,e&&(this[k].isStale=!0),this._limitChange(this)}},dispose:function(){var e=this[k];!e.isSleeping&&e.dependencyTracking&&v.utils.objectForEach(e.dependencyTracking,function(e,t){t.dispose&&t.dispose()}),e.disposeWhenNodeIsRemoved&&e.domNodeDisposalCallback&&v.utils.domNodeDisposal.removeDisposeCallback(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback),e.dependencyTracking=null,e.dependenciesCount=0,e.isDisposed=!0,e.isStale=!1,e.isDirty=!1,e.isSleeping=!1,e.disposeWhenNodeIsRemoved=null}},T={beforeSubscriptionAdd:function(e){var t=this,n=t[k];if(!n.isDisposed&&n.isSleeping&&"change"==e){if(n.isSleeping=!1,n.isStale||t.haveDependenciesChanged())n.dependencyTracking=null,n.dependenciesCount=0,t.evaluateImmediate()&&t.updateVersion();else{var i=[];v.utils.objectForEach(n.dependencyTracking,function(e,t){i[t._order]=e}),v.utils.arrayForEach(i,function(e,i){var a=n.dependencyTracking[e],r=t.subscribeToDependency(a._target);r._order=i,r._version=a._version,n.dependencyTracking[e]=r})}n.isDisposed||t.notifySubscribers(n.latestValue,"awake")}},afterSubscriptionRemove:function(e){var t=this[k];t.isDisposed||"change"!=e||this.hasSubscriptionsForEvent("change")||(v.utils.objectForEach(t.dependencyTracking,function(e,n){n.dispose&&(t.dependencyTracking[e]={_target:n._target,_order:n._order,_version:n._version},n.dispose())}),t.isSleeping=!0,this.notifySubscribers(void 0,"asleep"))},getVersion:function(){var e=this[k];return e.isSleeping&&(e.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),v.subscribable.fn.getVersion.call(this)}},S={beforeSubscriptionAdd:function(e){"change"!=e&&"beforeChange"!=e||this.peek()}};v.utils.canSetPrototype&&v.utils.setPrototypeOf(C,v.subscribable.fn),e=v.observable.protoProperty,v.computed[e]=v.observable,C[e]=v.computed,v.isComputed=function(e){return v.hasPrototype(e,v.computed)},v.isPureComputed=function(e){return v.hasPrototype(e,v.computed)&&e[k]&&e[k].pure},v.exportSymbol("computed",v.computed),v.exportSymbol("dependentObservable",v.computed),v.exportSymbol("isComputed",v.isComputed),v.exportSymbol("isPureComputed",v.isPureComputed),v.exportSymbol("computed.fn",C),v.exportProperty(C,"peek",C.peek),v.exportProperty(C,"dispose",C.dispose),v.exportProperty(C,"isActive",C.isActive),v.exportProperty(C,"getDependenciesCount",C.getDependenciesCount),v.pureComputed=function(e,t){return i===typeof e?v.computed(e,t,{pure:!0}):(e=v.utils.extend({},e),e.pure=!0,v.computed(e,t))},v.exportSymbol("pureComputed",v.pureComputed),function(){function e(t,s,o){if(o=o||new r,t=s(t),a!=typeof t||null===t||void 0===t||t instanceof RegExp||t instanceof Date||t instanceof String||t instanceof Number||t instanceof Boolean)return t;var l=t instanceof Array?[]:{};return o.save(t,l),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);i==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}(t,function(r){var c=s(t[r]);switch(typeof c){case"boolean":case"number":case"string":case i:l[r]=c;break;case a:case n:var u=o.get(c);l[r]=void 0!==u?u:e(c,s,o)}}),l}function r(){this.keys=[],this.values=[]}v.toJS=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;v.isObservable(e)&&10>t;t++)e=e();return e})},v.toJSON=function(e,t,n){return e=v.toJS(e),v.utils.stringifyJson(e,t,n)},r[t]={constructor:r,save:function(e,t){var n=v.utils.arrayIndexOf(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){return 0<=(e=v.utils.arrayIndexOf(this.keys,e))?this.values[e]:void 0}}}(),v.exportSymbol("toJS",v.toJS),v.exportSymbol("toJSON",v.toJSON),v.selectExtensions={readValue:function(e){switch(v.utils.tagNameLower(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?v.utils.domData.get(e,v.bindingHandlers.options.optionValueDomDataKey):7>=v.utils.ieVersion?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?v.selectExtensions.readValue(e.options[e.selectedIndex]):void 0;default:return e.value}},writeValue:function(e,t,n){switch(v.utils.tagNameLower(e)){case"option":switch(typeof t){case"string":v.utils.domData.set(e,v.bindingHandlers.options.optionValueDomDataKey,void 0),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:v.utils.domData.set(e,v.bindingHandlers.options.optionValueDomDataKey,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:""}break;case"select":""!==t&&null!==t||(t=void 0);for(var i,a=-1,r=0,s=e.options.length;r<s;++r)if((i=v.selectExtensions.readValue(e.options[r]))==t||""==i&&void 0===t){a=r;break}(n||0<=a||void 0===t&&1<e.size)&&(e.selectedIndex=a);break;default:null!==t&&void 0!==t||(t=""),e.value=t}}},v.exportSymbol("selectExtensions",v.selectExtensions),v.exportSymbol("selectExtensions.readValue",v.selectExtensions.readValue),v.exportSymbol("selectExtensions.writeValue",v.selectExtensions.writeValue),v.expressionRewriting=function(){function e(e){123===(e=v.utils.stringTrim(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t=[],n=e.match(a),i=[],o=0;if(n){n.push(",");for(var l,c=0;l=n[c];++c){var u=l.charCodeAt(0);if(44===u){if(0>=o){t.push(d&&i.length?{key:d,value:i.join("")}:{unknown:d||i.join("")});var d=o=0;i=[];continue}}else if(58===u){if(!o&&!d&&1===i.length){d=i.pop();continue}}else 47===u&&c&&1<l.length?(u=n[c-1].match(r))&&!s[u[0]]&&(e=e.substr(e.indexOf(l)+1),(n=e.match(a)).push(","),c=-1,l="/"):40===u||123===u||91===u?++o:41===u||125===u||93===u?--o:d||i.length||34!==u&&39!==u||(l=l.slice(1,-1));i.push(l)}}return t}var t=["true","false","null",n],i=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,a=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,r=/[\])"'A-Za-z0-9_$]+$/,s={in:1,return:1,typeof:1},o={};return{bindingRewriteValidators:[],twoWayBindings:o,parseObjectLiteral:e,preProcessBindings:function(n,a){function r(e,n){if(!u){var a=v.getBindingHandler(e);if(a&&a.preprocess&&!(n=a.preprocess(n,e,r)))return;if(a=o[e]){var d=n;0<=v.utils.arrayIndexOf(t,d)?d=!1:(a=d.match(i),d=null!==a&&(a[1]?"Object("+a[1]+")"+a[2]:d)),a=d}a&&l.push("'"+e+"':function(_z){"+d+"=_z}")}c&&(n="function(){return "+n+" }"),s.push("'"+e+"':"+n)}var s=[],l=[],c=(a=a||{}).valueAccessors,u=a.bindingParams;return n="string"==typeof n?e(n):n,v.utils.arrayForEach(n,function(e){r(e.key||e.unknown,e.value)}),l.length&&r("_ko_property_writers","{"+l.join(",")+" }"),s.join(",")},keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},writeValueToProperty:function(e,t,n,i,a){e&&v.isObservable(e)?!v.isWriteableObservable(e)||a&&e.peek()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}}(),v.exportSymbol("expressionRewriting",v.expressionRewriting),v.exportSymbol("expressionRewriting.bindingRewriteValidators",v.expressionRewriting.bindingRewriteValidators),v.exportSymbol("expressionRewriting.parseObjectLiteral",v.expressionRewriting.parseObjectLiteral),v.exportSymbol("expressionRewriting.preProcessBindings",v.expressionRewriting.preProcessBindings),v.exportSymbol("expressionRewriting._twoWayBindings",v.expressionRewriting.twoWayBindings),v.exportSymbol("jsonExpressionRewriting",v.expressionRewriting),v.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",v.expressionRewriting.preProcessBindings),function(){function e(e){return 8==e.nodeType&&r.test(a?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&s.test(a?e.text:e.nodeValue)}function n(n,i){for(var a=n,r=1,s=[];a=a.nextSibling;){if(t(a)&&0==--r)return s;s.push(a),e(a)&&r++}if(!i)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){return(t=n(e,t))?0<t.length?t[t.length-1].nextSibling:e.nextSibling:null}var a=c&&"\x3c!--test--\x3e"===c.createComment("test").text,r=a?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=a?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,o={ul:!0,ol:!0};v.virtualElements={allowedBindings:{},childNodes:function(t){return e(t)?n(t):t.childNodes},emptyNode:function(t){if(e(t))for(var n=0,i=(t=v.virtualElements.childNodes(t)).length;n<i;n++)v.removeNode(t[n]);else v.utils.emptyDomNode(t)},setDomNodeChildren:function(t,n){if(e(t)){v.virtualElements.emptyNode(t),t=t.nextSibling;for(var i=0,a=n.length;i<a;i++)t.parentNode.insertBefore(n[i],t)}else v.utils.setDomNodeChildren(t,n)},prepend:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},insertAfter:function(t,n,i){i?e(t)?t.parentNode.insertBefore(n,i.nextSibling):i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):v.virtualElements.prepend(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},hasBindingValue:e,virtualNodeBindingValue:function(e){return(e=(a?e.text:e.nodeValue).match(r))?e[1]:null},normaliseVirtualElementDomStructure:function(n){if(o[v.utils.tagNameLower(n)]){var a=n.firstChild;if(a)do{if(1===a.nodeType){var r=a.firstChild,s=null;if(r)do{if(s)s.push(r);else if(e(r)){var l=i(r,!0);l?r=l:s=[r]}else t(r)&&(s=[r])}while(r=r.nextSibling);if(r=s)for(s=a.nextSibling,l=0;l<r.length;l++)s?n.insertBefore(r[l],s):n.appendChild(r[l])}}while(a=a.nextSibling)}}}}(),v.exportSymbol("virtualElements",v.virtualElements),v.exportSymbol("virtualElements.allowedBindings",v.virtualElements.allowedBindings),v.exportSymbol("virtualElements.emptyNode",v.virtualElements.emptyNode),v.exportSymbol("virtualElements.insertAfter",v.virtualElements.insertAfter),v.exportSymbol("virtualElements.prepend",v.virtualElements.prepend),v.exportSymbol("virtualElements.setDomNodeChildren",v.virtualElements.setDomNodeChildren),v.bindingProvider=function(){this.bindingCache={}},v.utils.extend(v.bindingProvider[t],{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||v.components.getComponentNameForNode(e);case 8:return v.virtualElements.hasBindingValue(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n=n?this.parseBindingsString(n,t,e):null,v.components.addBindingsForCustomElement(n,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t);return n=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null,v.components.addBindingsForCustomElement(n,e,t,!0)},getBindingsString:function(e,t){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return v.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(e,t,n,i){try{var a,r=this.bindingCache,s=e+(i&&i.valueAccessors||"");if(!(a=r[s])){var o=v.expressionRewriting.preProcessBindings(e,i),l=Function("$context","$element","with($context){with($data||{}){return{"+o+"}}}");a=r[s]=l}return a(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),v.bindingProvider.instance=new v.bindingProvider,v.exportSymbol("bindingProvider",v.bindingProvider),function(){function e(e){return function(){return e}}function n(e){return e()}function a(e){return v.utils.objectMap(v.dependencyDetection.ignore(e),function(t,n){return function(){return e()[n]}})}function r(e,t,n){var i,a=v.virtualElements.firstChild(t),r=v.bindingProvider.instance,o=r.preprocessNode;if(o){for(;i=a;)a=v.virtualElements.nextSibling(i),o.call(r,i);a=v.virtualElements.firstChild(t)}for(;i=a;)a=v.virtualElements.nextSibling(i),s(e,i,n)}function s(e,t,n){var i=!0,a=1===t.nodeType;a&&v.virtualElements.normaliseVirtualElementDomStructure(t),(a&&n||v.bindingProvider.instance.nodeHasBindings(t))&&(i=o(t,null,e,n).shouldBindDescendants),i&&!c[v.utils.tagNameLower(t)]&&r(e,t,!a)}function o(e,t,r,s){var o=v.utils.domData.get(e,u);if(!t){if(o)throw Error("You cannot apply bindings multiple times to the same element.");v.utils.domData.set(e,u,!0)}if(!o&&s&&v.storedBindingContextForNode(e,r),t&&i!==typeof t)var l=t;else{var c=v.bindingProvider.instance,d=c.getBindingAccessors||function(e,t){return a(this.getBindings.bind(this,e,t))},f=v.dependentObservable(function(){return(l=t?t(r,e):d.call(c,e,r))&&r._subscribable&&r._subscribable(),l},null,{disposeWhenNodeIsRemoved:e});l&&f.isActive()||(f=null)}var h;if(l){var p=function(){return v.utils.objectMap(f?f():l,n)},g=f?function(e){return function(){return(0,f()[e])()}}:function(e){return l[e]};p.get=function(e){return l[e]&&g(e)()},p.has=function(e){return e in l},s=function(e){var t=[],n={},i=[];return v.utils.objectForEach(e,function a(r){if(!n[r]){var s=v.getBindingHandler(r);s&&(s.after&&(i.push(r),v.utils.arrayForEach(s.after,function(t){if(e[t]){if(-1!==v.utils.arrayIndexOf(i,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));a(t)}}),i.length--),t.push({key:r,handler:s})),n[r]=!0}}),t}(l),v.utils.arrayForEach(s,function(t){var n=t.handler.init,a=t.handler.update,s=t.key;if(8===e.nodeType&&!v.virtualElements.allowedBindings[s])throw Error("The binding '"+s+"' cannot be used with virtual elements");try{i==typeof n&&v.dependencyDetection.ignore(function(){var t=n(e,g(s),p,r.$data,r);if(t&&t.controlsDescendantBindings){if(void 0!==h)throw Error("Multiple bindings ("+h+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=s}}),i==typeof a&&v.dependentObservable(function(){a(e,g(s),p,r.$data,r)},null,{disposeWhenNodeIsRemoved:e})}catch(e){throw e.message='Unable to process binding "'+s+": "+l[s]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:void 0===h}}function l(e){return e&&e instanceof v.bindingContext?e:new v.bindingContext(e)}v.bindingHandlers={};var c={script:!0,textarea:!0,template:!0};v.getBindingHandler=function(e){return v.bindingHandlers[e]},v.bindingContext=function(e,t,n,a,r){function s(){var i=l?e():e,r=v.utils.unwrapObservable(i);return t?(t._subscribable&&t._subscribable(),v.utils.extend(o,t),o._subscribable=c):(o.$parents=[],o.$root=r,o.ko=v),o.$rawData=i,o.$data=r,n&&(o[n]=r),a&&a(o,t,r),o.$data}var o=this,l=i==typeof e&&!v.isObservable(e);if(r&&r.exportDependencies)s();else{var c=v.dependentObservable(s,null,{disposeWhen:function(){return u&&!v.utils.anyDomNodeIsAttachedToDocument(u)},disposeWhenNodeIsRemoved:!0});if(c.isActive()){o._subscribable=c,c.equalityComparer=null;var u=[];c._addNode=function(e){u.push(e),v.utils.domNodeDisposal.addDisposeCallback(e,function(e){v.utils.arrayRemoveItem(u,e),u.length||(c.dispose(),o._subscribable=c=void 0)})}}}},v.bindingContext[t].createChildContext=function(e,t,n,i){return new v.bindingContext(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)},i)},v.bindingContext[t].extend=function(e){return new v.bindingContext(this._subscribable||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,v.utils.extend(t,i==typeof e?e():e)})},v.bindingContext[t].createStaticChildContext=function(e,t){return this.createChildContext(e,t,null,{exportDependencies:!0})};var u=v.utils.domData.nextKey(),d=v.utils.domData.nextKey();v.storedBindingContextForNode=function(e,t){if(2!=arguments.length)return v.utils.domData.get(e,d);v.utils.domData.set(e,d,t),t._subscribable&&t._subscribable._addNode(e)},v.applyBindingAccessorsToNode=function(e,t,n){return 1===e.nodeType&&v.virtualElements.normaliseVirtualElementDomStructure(e),o(e,t,l(n),!0)},v.applyBindingsToNode=function(t,n,r){return r=l(r),v.applyBindingAccessorsToNode(t,function(t,n,r){return i===typeof t?a(t.bind(null,n,r)):v.utils.objectMap(t,e)}(n,r,t),r)},v.applyBindingsToDescendants=function(e,t){1!==t.nodeType&&8!==t.nodeType||r(l(e),t,!0)},v.applyBindings=function(e,t){if(t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||window.document.body,s(l(e),t,!0)},v.contextFor=function(e){switch(e.nodeType){case 1:case 8:var t=v.storedBindingContextForNode(e);if(t)return t;if(e.parentNode)return v.contextFor(e.parentNode)}},v.dataFor=function(e){return(e=v.contextFor(e))?e.$data:void 0},v.exportSymbol("bindingHandlers",v.bindingHandlers),v.exportSymbol("applyBindings",v.applyBindings),v.exportSymbol("applyBindingsToDescendants",v.applyBindingsToDescendants),v.exportSymbol("applyBindingAccessorsToNode",v.applyBindingAccessorsToNode),v.exportSymbol("applyBindingsToNode",v.applyBindingsToNode),v.exportSymbol("contextFor",v.contextFor),v.exportSymbol("dataFor",v.dataFor)}(),function(e){function t(t,n){return t.hasOwnProperty(n)?t[n]:e}function n(t,i,a,r){r||(r=v.components.loaders.slice(0));var s=r.shift();if(s){var o=s[t];if(o){var l=!1;if(o.apply(s,i.concat(function(e){l?a(null):null!==e?a(e):n(t,i,a,r)}))!==e&&(l=!0,!s.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else n(t,i,a,r)}else a(null)}var i={},a={};v.components={get:function(e,r){var s=t(a,e);s?s.isSynchronousComponent?v.dependencyDetection.ignore(function(){r(s.definition)}):v.tasks.schedule(function(){r(s.definition)}):function(e,r){var s=t(i,e);if(s)s.subscribe(r);else{(s=i[e]=new v.subscribable).subscribe(r),function(e,t){n("getConfig",[e],function(i){i?n("loadComponent",[e,i],function(e){t(e,i)}):t(null,null)})}(e,function(t,n){n=!(!n||!n.synchronous),a[e]={definition:t,isSynchronousComponent:n},delete i[e],o||n?s.notifySubscribers(t):v.tasks.schedule(function(){s.notifySubscribers(t)})});var o=!0}}(e,r)},clearCachedDefinition:function(e){delete a[e]},_getFirstResultFromLoaders:n},v.components.loaders=[],v.exportSymbol("components",v.components),v.exportSymbol("components.get",v.components.get),v.exportSymbol("components.clearCachedDefinition",v.components.clearCachedDefinition)}(),function(e){function t(e,n,a){if(i===typeof n)a(function(e){return new n(e)});else if(i===typeof n[u])a(n[u]);else if("instance"in n){var r=n.instance;a(function(e,t){return r})}else"viewModel"in n?t(e,n.viewModel,a):e("Unknown viewModel value: "+n)}function n(e){switch(v.utils.tagNameLower(e)){case"script":return v.utils.parseHtmlFragment(e.text);case"textarea":return v.utils.parseHtmlFragment(e.value);case"template":if(a(e.content))return v.utils.cloneNodes(e.content.childNodes)}return v.utils.cloneNodes(e.childNodes)}function a(e){return window.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function r(e,t,n){"string"==typeof t.require?s||window.require?(s||window.require)([t.require],n):e("Uses require, but no AMD loader is present"):n(t)}function o(e){return function(t){throw Error("Component '"+e+"': "+t)}}var l={};v.components.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(v.components.isRegistered(e))throw Error("Component "+e+" is already registered");l[e]=t},v.components.isRegistered=function(e){return l.hasOwnProperty(e)},v.components.unregister=function(e){delete l[e],v.components.clearCachedDefinition(e)},v.components.defaultLoader={getConfig:function(e,t){t(e=l.hasOwnProperty(e)?l[e]:null)},loadComponent:function(e,t,n){var i=o(e);r(i,t,function(t){!function(e,t,n,i){var a={},s=2,o=function(){0==--s&&i(a)},l=n.template;n=n.viewModel,l?r(t,l,function(t){v.components._getFirstResultFromLoaders("loadTemplate",[e,t],function(e){a.template=e,o()})}):o(),n?r(t,n,function(t){v.components._getFirstResultFromLoaders("loadViewModel",[e,t],function(e){a[u]=e,o()})}):o()}(e,i,t,n)})},loadTemplate:function(e,t,i){if(e=o(e),"string"==typeof t)i(v.utils.parseHtmlFragment(t));else if(t instanceof Array)i(t);else if(a(t))i(v.utils.makeArray(t.childNodes));else if(t.element)if(t=t.element,window.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)i(n(t));else if("string"==typeof t){var r=c.getElementById(t);r?i(n(r)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,n,i){t(o(e),n,i)}};var u="createViewModel";v.exportSymbol("components.register",v.components.register),v.exportSymbol("components.isRegistered",v.components.isRegistered),v.exportSymbol("components.unregister",v.components.unregister),v.exportSymbol("components.defaultLoader",v.components.defaultLoader),v.components.loaders.push(v.components.defaultLoader),v.components._allRegisteredComponents=l}(),function(e){v.components.getComponentNameForNode=function(e){var t=v.utils.tagNameLower(e);if(v.components.isRegistered(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=v.utils.ieVersion&&e.tagName===t))return t},v.components.addBindingsForCustomElement=function(e,n,i,a){if(1===n.nodeType){var r=v.components.getComponentNameForNode(n);if(r){if((e=e||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var s={name:r,params:function(e,n){var i=e.getAttribute("params");return i?(n=t.parseBindingsString(i,n,e,{valueAccessors:!0,bindingParams:!0}),n=v.utils.objectMap(n,function(t,n){return v.computed(t,null,{disposeWhenNodeIsRemoved:e})}),(i=v.utils.objectMap(n,function(t,n){return n=t.peek(),t.isActive()?v.computed({read:function(){return v.utils.unwrapObservable(t())},write:v.isWriteableObservable(n)&&function(e){t()(e)},disposeWhenNodeIsRemoved:e}):n})).hasOwnProperty("$raw")||(i.$raw=n),i):{$raw:{}}}(n,i)};e.component=a?function(){return s}:s}}return e};var t=new v.bindingProvider;9>v.utils.ieVersion&&(v.components.register=function(e){return function(t){return c.createElement(t),e.apply(this,arguments)}}(v.components.register),c.createDocumentFragment=function(e){return function(){var t,n=e(),i=v.components._allRegisteredComponents;for(t in i)i.hasOwnProperty(t)&&n.createElement(t);return n}}(c.createDocumentFragment))}(),function(e){var t=0;v.bindingHandlers.component={init:function(e,n,a,r,s){var o,l,c=function(){var e=o&&o.dispose;i===typeof e&&e.call(o),l=o=null},u=v.utils.makeArray(v.virtualElements.childNodes(e));return v.utils.domNodeDisposal.addDisposeCallback(e,c),v.computed(function(){var i=v.utils.unwrapObservable(n());if("string"==typeof i)var a=i;else{a=v.utils.unwrapObservable(i.name);var r=v.utils.unwrapObservable(i.params)}if(!a)throw Error("No component name specified");var d=l=++t;v.components.get(a,function(t){if(l===d){if(c(),!t)throw Error("Unknown component '"+a+"'");!function(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=v.utils.cloneNodes(t),v.virtualElements.setDomNodeChildren(n,e)}(a,t,e);var n=function(e,t,n,i){var a=e.createViewModel;return a?a.call(e,i,{element:t,templateNodes:n}):i}(t,e,u,r);t=s.createChildContext(n,void 0,function(e){e.$component=n,e.$componentTemplateNodes=u}),o=n,v.applyBindingsToDescendants(t,e)}})},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},v.virtualElements.allowedBindings.component=!0}();var E={class:"className",for:"htmlFor"};v.bindingHandlers.attr={update:function(e,t,n){t=v.utils.unwrapObservable(t())||{},v.utils.objectForEach(t,function(t,n){var i=!1===(n=v.utils.unwrapObservable(n))||null===n||void 0===n;i&&e.removeAttribute(t),8>=v.utils.ieVersion&&t in E?(t=E[t],i?e.removeAttribute(t):e[t]=n):i||e.setAttribute(t,""+n),"name"===t&&v.utils.setElementName(e,i?"":""+n)})}},v.bindingHandlers.checked={after:["value","attr"],init:function(e,t,n){function i(){var i=e.checked,r=d?a():i;if(!v.computedContext.isInitial()&&(!s||i)){var o=v.dependencyDetection.ignore(t);if(l){var f=c?o.peek():o;u!==r?(i&&(v.utils.addOrRemoveItem(f,r,!0),v.utils.addOrRemoveItem(f,u,!1)),u=r):v.utils.addOrRemoveItem(f,r,i),c&&v.isWriteableObservable(o)&&o(f)}else v.expressionRewriting.writeValueToProperty(o,n,"checked",r,!0)}}var a=v.pureComputed(function(){return n.has("checkedValue")?v.utils.unwrapObservable(n.get("checkedValue")):n.has("value")?v.utils.unwrapObservable(n.get("value")):e.value}),r="checkbox"==e.type,s="radio"==e.type;if(r||s){var o=t(),l=r&&v.utils.unwrapObservable(o)instanceof Array,c=!(l&&o.push&&o.splice),u=l?a():void 0,d=s||l;s&&!e.name&&v.bindingHandlers.uniqueName.init(e,function(){return!0}),v.computed(i,null,{disposeWhenNodeIsRemoved:e}),v.utils.registerEventHandler(e,"click",i),v.computed(function(){var n=v.utils.unwrapObservable(t());e.checked=l?0<=v.utils.arrayIndexOf(n,a()):r?n:a()===n},null,{disposeWhenNodeIsRemoved:e}),o=void 0}}},v.expressionRewriting.twoWayBindings.checked=!0,v.bindingHandlers.checkedValue={update:function(e,t){e.value=v.utils.unwrapObservable(t())}},v.bindingHandlers.css={update:function(e,t){null!==(t=v.utils.unwrapObservable(t()))&&a==typeof t?v.utils.objectForEach(t,function(t,n){n=v.utils.unwrapObservable(n),v.utils.toggleDomNodeCssClass(e,t,n)}):(t=v.utils.stringTrim((t||"")+""),v.utils.toggleDomNodeCssClass(e,e.__ko__cssValue,!1),e.__ko__cssValue=t,v.utils.toggleDomNodeCssClass(e,t,!0))}},v.bindingHandlers.enable={update:function(e,t){(t=v.utils.unwrapObservable(t()))&&e.disabled?e.removeAttribute("disabled"):t||e.disabled||(e.disabled=!0)}},v.bindingHandlers.disable={update:function(e,t){v.bindingHandlers.enable.update(e,function(){return!v.utils.unwrapObservable(t())})}},v.bindingHandlers.event={init:function(e,t,i,a,r){var s=t()||{};v.utils.objectForEach(s,function(s){"string"==typeof s&&v.utils.registerEventHandler(e,s,function(o){var l=t()[s];if(l){try{var c=v.utils.makeArray(arguments);a=r.$data,c.unshift(a);var u=l.apply(a,c);if(1==e.nodeType&&"A"==e.nodeName){var d=e.getAttribute("href");/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(d)||(u=!1)}n!=typeof u&&null!=u||(u=u||!0)}finally{!0!==u&&(o.preventDefault?o.preventDefault():o.returnValue=!1)}!1===i.get(s+"Bubble")&&(o.cancelBubble=!0,o.stopPropagation&&o.stopPropagation())}})})}},v.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var t=e(),n=v.utils.peekObservable(t);return n&&"number"!=typeof n.length?(v.utils.unwrapObservable(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:v.nativeTemplateEngine.instance}):{foreach:t,templateEngine:v.nativeTemplateEngine.instance}}},init:function(e,t,n,i,a){return v.bindingHandlers.template.init(e,v.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,i,a){return v.bindingHandlers.template.update(e,v.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,i,a)}},v.expressionRewriting.bindingRewriteValidators.foreach=!1,v.virtualElements.allowedBindings.foreach=!0,v.bindingHandlers.hasfocus={init:function(e,t,n){var i=function(i){e.__ko_hasfocusUpdating=!0;var a=e.ownerDocument;if("activeElement"in a){try{var r=a.activeElement}catch(e){r=a.body}i=r===e}a=t(),v.expressionRewriting.writeValueToProperty(a,n,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1},a=i.bind(null,!0);i=i.bind(null,!1),v.utils.registerEventHandler(e,"focus",a),v.utils.registerEventHandler(e,"focusin",a),v.utils.registerEventHandler(e,"blur",i),v.utils.registerEventHandler(e,"focusout",i)},update:function(e,t){t=!!v.utils.unwrapObservable(t()),e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===t||(t?e.focus():e.blur(),!t&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),v.dependencyDetection.ignore(v.utils.triggerEvent,null,[e,t?"focusin":"focusout"]))}},v.expressionRewriting.twoWayBindings.hasfocus=!0,v.bindingHandlers.hasFocus=v.bindingHandlers.hasfocus,v.expressionRewriting.twoWayBindings.hasFocus=!0,v.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){v.utils.setHtml(e,t())}},m("if"),m("ifnot",!1,!0),m("with",!0,!1,function(e,t){return e.createStaticChildContext(t)});var A={};v.bindingHandlers.options={init:function(e){if("select"!==v.utils.tagNameLower(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,a){function r(){return v.utils.arrayFilter(e.options,function(e){return e.selected})}function s(e,t,n){var a=typeof t;return i==a?t(e):"string"==a?e[t]:n}function o(t,n){g&&d?v.selectExtensions.writeValue(e,v.utils.unwrapObservable(a.get("value")),!0):h.length&&(t=0<=v.utils.arrayIndexOf(h,v.selectExtensions.readValue(n[0])),v.utils.setOptionNodeSelectionState(n[0],t),g&&!t&&v.dependencyDetection.ignore(v.utils.triggerEvent,null,[e,"change"]))}var l=e.multiple,c=0!=e.length&&l?e.scrollTop:null,u=v.utils.unwrapObservable(t()),d=a.get("valueAllowUnset")&&a.has("value"),f=a.get("optionsIncludeDestroyed");t={};var h=[];if(d||(l?h=v.utils.arrayMap(r(),v.selectExtensions.readValue):0<=e.selectedIndex&&h.push(v.selectExtensions.readValue(e.options[e.selectedIndex]))),u){n==typeof u.length&&(u=[u]);var p=v.utils.arrayFilter(u,function(e){return f||void 0===e||null===e||!v.utils.unwrapObservable(e._destroy)});a.has("optionsCaption")&&null!==(u=v.utils.unwrapObservable(a.get("optionsCaption")))&&void 0!==u&&p.unshift(A)}var g=!1;t.beforeRemove=function(t){e.removeChild(t)},u=o,a.has("optionsAfterRender")&&i==typeof a.get("optionsAfterRender")&&(u=function(e,t){o(e,t),v.dependencyDetection.ignore(a.get("optionsAfterRender"),null,[t[0],e!==A?e:void 0])}),v.utils.setDomNodeChildrenFromArrayMapping(e,p,function(t,n,i){return i.length&&(h=!d&&i[0].selected?[v.selectExtensions.readValue(i[0])]:[],g=!0),n=e.ownerDocument.createElement("option"),t===A?(v.utils.setTextContent(n,a.get("optionsCaption")),v.selectExtensions.writeValue(n,void 0)):(i=s(t,a.get("optionsValue"),t),v.selectExtensions.writeValue(n,v.utils.unwrapObservable(i)),t=s(t,a.get("optionsText"),i),v.utils.setTextContent(n,t)),[n]},t,u),v.dependencyDetection.ignore(function(){d?v.selectExtensions.writeValue(e,v.utils.unwrapObservable(a.get("value")),!0):(l?h.length&&r().length<h.length:h.length&&0<=e.selectedIndex?v.selectExtensions.readValue(e.options[e.selectedIndex])!==h[0]:h.length||0<=e.selectedIndex)&&v.utils.triggerEvent(e,"change")}),v.utils.ensureSelectElementIsRenderedCorrectly(e),c&&20<Math.abs(c-e.scrollTop)&&(e.scrollTop=c)}},v.bindingHandlers.options.optionValueDomDataKey=v.utils.domData.nextKey(),v.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(e,t,n){v.utils.registerEventHandler(e,"change",function(){var i=t(),a=[];v.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&a.push(v.selectExtensions.readValue(e))}),v.expressionRewriting.writeValueToProperty(i,n,"selectedOptions",a)})},update:function(e,t){if("select"!=v.utils.tagNameLower(e))throw Error("values binding applies only to SELECT elements");var n=v.utils.unwrapObservable(t());t=e.scrollTop,n&&"number"==typeof n.length&&v.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var t=0<=v.utils.arrayIndexOf(n,v.selectExtensions.readValue(e));e.selected!=t&&v.utils.setOptionNodeSelectionState(e,t)}),e.scrollTop=t}},v.expressionRewriting.twoWayBindings.selectedOptions=!0,v.bindingHandlers.style={update:function(e,t){t=v.utils.unwrapObservable(t()||{}),v.utils.objectForEach(t,function(t,n){null!==(n=v.utils.unwrapObservable(n))&&void 0!==n&&!1!==n||(n=""),e.style[t]=n})}},v.bindingHandlers.submit={init:function(e,t,n,a,r){if(i!=typeof t())throw Error("The value for a submit binding must be a function");v.utils.registerEventHandler(e,"submit",function(n){var i=t();try{var a=i.call(r.$data,e)}finally{!0!==a&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},v.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){v.utils.setTextContent(e,t())}},v.bindingHandlers.textx={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){v.utils.setTextContent(e,t())}},v.virtualElements.allowedBindings.text=!0,function(){if(window&&window.navigator)var e=function(e){if(e)return parseFloat(e[1])},t=window.opera&&window.opera.version&&parseInt(window.opera.version()),n=window.navigator.userAgent,i=e(n.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),a=e(n.match(/Firefox\/([^ ]*)/));if(10>v.utils.ieVersion)var r=v.utils.domData.nextKey(),s=v.utils.domData.nextKey(),o=function(e){var t=this.activeElement;(t=t&&v.utils.domData.get(t,s))&&t(e)},l=function(e,t){var n=e.ownerDocument;v.utils.domData.get(n,r)||(v.utils.domData.set(n,r,!0),v.utils.registerEventHandler(n,"selectionchange",o)),v.utils.domData.set(e,s,t)};v.bindingHandlers.textInput={init:function(e,n,r){var s,o,c=e.value,u=function(t){clearTimeout(s),o=s=void 0,t=e.value,c!==t&&(c=t,v.expressionRewriting.writeValueToProperty(n(),r,"textInput",t))},d=function(t){s||(o=e.value,s=v.utils.setTimeout(u,4))},f=9==v.utils.ieVersion?d:u,h=function(){var t=v.utils.unwrapObservable(n());null!==t&&void 0!==t||(t=""),void 0!==o&&t===o?v.utils.setTimeout(h,4):e.value!==t&&(c=t,e.value=t)},p=function(t,n){v.utils.registerEventHandler(e,t,n)};10>v.utils.ieVersion?(p("propertychange",function(e){"value"===e.propertyName&&f(e)}),8==v.utils.ieVersion&&(p("keyup",u),p("keydown",u)),8<=v.utils.ieVersion&&(l(e,f),p("dragend",d))):(p("input",u),5>i&&"textarea"===v.utils.tagNameLower(e)?(p("keydown",d),p("paste",d),p("cut",d)):11>t?p("keydown",d):4>a&&(p("DOMAutoComplete",u),p("dragdrop",u),p("drop",u))),p("change",u),v.computed(h,null,{disposeWhenNodeIsRemoved:e})}},v.expressionRewriting.twoWayBindings.textInput=!0,v.bindingHandlers.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),v.bindingHandlers.uniqueName={init:function(e,t){t()&&(t="ko_unique_"+ ++v.bindingHandlers.uniqueName.currentIndex,v.utils.setElementName(e,t))}},v.bindingHandlers.uniqueName.currentIndex=0,v.bindingHandlers.value={after:["options","foreach"],init:function(e,t,n){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var i=["change"],a=n.get("valueUpdate"),r=!1,s=null;a&&("string"==typeof a&&(a=[a]),v.utils.arrayPushAll(i,a),i=v.utils.arrayGetDistinctValues(i));var o=function(){s=null,r=!1;var i=t(),a=v.selectExtensions.readValue(e);v.expressionRewriting.writeValueToProperty(i,n,"value",a)};!v.utils.ieVersion||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=v.utils.arrayIndexOf(i,"propertychange")||(v.utils.registerEventHandler(e,"propertychange",function(){r=!0}),v.utils.registerEventHandler(e,"focus",function(){r=!1}),v.utils.registerEventHandler(e,"blur",function(){r&&o()})),v.utils.arrayForEach(i,function(t){var n=o;v.utils.stringStartsWith(t,"after")&&(n=function(){s=v.selectExtensions.readValue(e),v.utils.setTimeout(o,0)},t=t.substring(5)),v.utils.registerEventHandler(e,t,n)});var l=function(){var i=v.utils.unwrapObservable(t()),a=v.selectExtensions.readValue(e);if(null!==s&&i===s)v.utils.setTimeout(l,0);else if(i!==a)if("select"===v.utils.tagNameLower(e)){var r=n.get("valueAllowUnset");(a=function(){v.selectExtensions.writeValue(e,i,r)})(),r||i===v.selectExtensions.readValue(e)?v.utils.setTimeout(a,0):v.dependencyDetection.ignore(v.utils.triggerEvent,null,[e,"change"])}else v.selectExtensions.writeValue(e,i)};v.computed(l,null,{disposeWhenNodeIsRemoved:e})}else v.applyBindingAccessorsToNode(e,{checkedValue:t})},update:function(){}},v.expressionRewriting.twoWayBindings.value=!0,v.bindingHandlers.visible={update:function(e,t){t=v.utils.unwrapObservable(t());var n="none"!=e.style.display;t&&!n?e.style.display="":!t&&n&&(e.style.display="none")}},v.bindingHandlers.click={init:function(e,t,n,i,a){return v.bindingHandlers.event.init.call(this,e,function(){var e={};return e.click=t(),e},n,i,a)}},v.templateEngine=function(){},v.templateEngine[t].renderTemplateSource=function(e,t,n,i){throw Error("Override renderTemplateSource")},v.templateEngine[t].createJavaScriptEvaluatorBlock=function(e){throw Error("Override createJavaScriptEvaluatorBlock")},v.templateEngine[t].makeTemplateSource=function(e,t){if("string"==typeof e){if(t=t||c,!(t=t.getElementById(e)))throw Error("Cannot find template with ID "+e);return new v.templateSources.domElement(t)}if(1==e.nodeType||8==e.nodeType)return new v.templateSources.anonymousTemplate(e);throw Error("Unknown template type: "+e)},v.templateEngine[t].renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n,i)},v.templateEngine[t].isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},v.templateEngine[t].rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},v.exportSymbol("templateEngine",v.templateEngine),v.templateRewriting=function(){function e(e,t,n,a){e=v.expressionRewriting.parseObjectLiteral(e);for(var r=v.expressionRewriting.bindingRewriteValidators,s=0;s<e.length;s++){var o=e[s].key;if(r.hasOwnProperty(o)){var l=r[o];if(i===typeof l){if(o=l(e[s].value))throw Error(o)}else if(!l)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+v.expressionRewriting.preProcessBindings(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:"[^"]*"|'[^']*'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ensureTemplateIsRewritten:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return v.templateRewriting.memoizeBindingAttributeSyntax(e,t)},n)},memoizeBindingAttributeSyntax:function(i,a){return i.replace(t,function(t,n,i,r,s){return e(s,n,i,a)}).replace(n,function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",a)})},applyMemoizedBindingsToNextSibling:function(e,t){return v.memoization.memoize(function(n,i){(n=n.nextSibling)&&n.nodeName.toLowerCase()===t&&v.applyBindingAccessorsToNode(n,e,i)})}}}(),v.exportSymbol("__tr_ambtns",v.templateRewriting.applyMemoizedBindingsToNextSibling),function(){v.templateSources={},v.templateSources.domElement=function(e){if(this.domElement=e){var t=v.utils.tagNameLower(e);this.templateType="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},v.templateSources.domElement[t].text=function(){var e=1===this.templateType?"text":2===this.templateType?"value":"innerHTML";if(0==arguments.length)return this.domElement[e];var t=arguments[0];"innerHTML"===e?v.utils.setHtml(this.domElement,t):this.domElement[e]=t};var e=v.utils.domData.nextKey()+"_";v.templateSources.domElement[t].data=function(t){if(1===arguments.length)return v.utils.domData.get(this.domElement,e+t);v.utils.domData.set(this.domElement,e+t,arguments[1])};var n=v.utils.domData.nextKey();v.templateSources.domElement[t].nodes=function(){var e=this.domElement;if(0==arguments.length)return(v.utils.domData.get(e,n)||{}).containerData||(3===this.templateType?e.content:4===this.templateType?e:void 0);v.utils.domData.set(e,n,{containerData:arguments[0]})},v.templateSources.anonymousTemplate=function(e){this.domElement=e},v.templateSources.anonymousTemplate[t]=new v.templateSources.domElement,v.templateSources.anonymousTemplate[t].constructor=v.templateSources.anonymousTemplate,v.templateSources.anonymousTemplate[t].text=function(){if(0==arguments.length){var e=v.utils.domData.get(this.domElement,n)||{};return void 0===e.textData&&e.containerData&&(e.textData=e.containerData.innerHTML),e.textData}v.utils.domData.set(this.domElement,n,{textData:arguments[0]})},v.exportSymbol("templateSources",v.templateSources),v.exportSymbol("templateSources.domElement",v.templateSources.domElement),v.exportSymbol("templateSources.anonymousTemplate",v.templateSources.anonymousTemplate)}(),function(){function e(e,t,n){var i;for(t=v.virtualElements.nextSibling(t);e&&(i=e)!==t;)e=v.virtualElements.nextSibling(i),n(i,e)}function t(t,n){if(t.length){var i=t[0],a=t[t.length-1],r=i.parentNode,s=v.bindingProvider.instance,o=s.preprocessNode;if(o){if(e(i,a,function(e,t){var n=e.previousSibling,r=o.call(s,e);r&&(e===i&&(i=r[0]||t),e===a&&(a=r[r.length-1]||n))}),t.length=0,!i)return;i===a?t.push(i):(t.push(i,a),v.utils.fixUpContinuousNodeArray(t,r))}e(i,a,function(e){1!==e.nodeType&&8!==e.nodeType||v.applyBindings(n,e)}),e(i,a,function(e){1!==e.nodeType&&8!==e.nodeType||v.memoization.unmemoizeDomNodeAndDescendants(e,[n])}),v.utils.fixUpContinuousNodeArray(t,r)}}function a(e){return e.nodeType?e:0<e.length?e[0]:null}function r(e,n,i,r,s){s=s||{};var l=(e&&a(e)||i||{}).ownerDocument,c=s.templateEngine||o;if(v.templateRewriting.ensureTemplateIsRewritten(i,c,l),"number"!=typeof(i=c.renderTemplate(i,r,s,l)).length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,n){case"replaceChildren":v.virtualElements.setDomNodeChildren(e,i),l=!0;break;case"replaceNode":v.utils.replaceDomNodes(e,i),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+n)}return l&&(t(i,r),s.afterRender&&v.dependencyDetection.ignore(s.afterRender,null,[i,r.$data])),i}function s(e,t,n){return v.isObservable(e)?e():i===typeof e?e(t,n):e}var o;v.setTemplateEngine=function(e){if(void 0!=e&&!(e instanceof v.templateEngine))throw Error("templateEngine must inherit from ko.templateEngine");o=e},v.renderTemplate=function(e,t,n,i,l){if(void 0==((n=n||{}).templateEngine||o))throw Error("Set a template engine before calling renderTemplate");if(l=l||"replaceChildren",i){var c=a(i);return v.dependentObservable(function(){var o=t&&t instanceof v.bindingContext?t:new v.bindingContext(t,null,null,null,{exportDependencies:!0}),u=s(e,o.$data,o);o=r(i,l,u,o,n),"replaceNode"==l&&(i=o,c=a(i))},null,{disposeWhen:function(){return!c||!v.utils.domNodeIsAttachedToDocument(c)},disposeWhenNodeIsRemoved:c&&"replaceNode"==l?c.parentNode:c})}return v.memoization.memoize(function(i){v.renderTemplate(e,t,n,i,"replaceNode")})},v.renderTemplateForEach=function(e,i,a,o,l){var c,u=function(t,n){return c=l.createChildContext(t,a.as,function(e){e.$index=n}),t=s(e,t,c),r(null,"ignoreTargetNode",t,c,a)},d=function(e,n,i){t(n,c),a.afterRender&&a.afterRender(n,e),c=null};return v.dependentObservable(function(){var e=v.utils.unwrapObservable(i)||[];n==typeof e.length&&(e=[e]),e=v.utils.arrayFilter(e,function(e){return a.includeDestroyed||void 0===e||null===e||!v.utils.unwrapObservable(e._destroy)}),v.dependencyDetection.ignore(v.utils.setDomNodeChildrenFromArrayMapping,null,[o,e,u,a,d])},null,{disposeWhenNodeIsRemoved:o})};var l=v.utils.domData.nextKey();v.bindingHandlers.template={init:function(e,t){if("string"==typeof(t=v.utils.unwrapObservable(t()))||t.name)v.virtualElements.emptyNode(e);else{if("nodes"in t){if(t=t.nodes||[],v.isObservable(t))throw Error('The "nodes" option must be a plain, non-observable array.');t=v.utils.moveCleanedNodesToContainerElement(t)}else t=v.virtualElements.childNodes(e),t=v.utils.moveCleanedNodesToContainerElement(t);new v.templateSources.anonymousTemplate(e).nodes(t)}return{controlsDescendantBindings:!0}},update:function(e,t,n,a,r){var s=t();n=!0,a=null,"string"==typeof(t=v.utils.unwrapObservable(s))?t={}:(s=t.name,"if"in t&&(n=v.utils.unwrapObservable(t.if)),n&&"ifnot"in t&&(n=!v.utils.unwrapObservable(t.ifnot))),"foreach"in t?a=v.renderTemplateForEach(s||e,n&&t.foreach||[],t,e,r):n?(r="data"in t?r.createStaticChildContext(t.data,t.as):r,a=v.renderTemplate(s||e,r,t,e)):v.virtualElements.emptyNode(e),r=a,(t=v.utils.domData.get(e,l))&&i==typeof t.dispose&&t.dispose(),v.utils.domData.set(e,l,r&&r.isActive()?r:void 0)}},v.expressionRewriting.bindingRewriteValidators.template=function(e){return 1==(e=v.expressionRewriting.parseObjectLiteral(e)).length&&e[0].unknown||v.expressionRewriting.keyValueArrayContainsKey(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},v.virtualElements.allowedBindings.template=!0}(),v.exportSymbol("setTemplateEngine",v.setTemplateEngine),v.exportSymbol("renderTemplate",v.renderTemplate),v.utils.findMovesInArrayComparison=function(e,t,n){if(e.length&&t.length){var i,a,r,s,o;for(i=a=0;(!n||i<n)&&(s=e[a]);++a){for(r=0;o=t[r];++r)if(s.value===o.value){s.moved=o.index,o.moved=s.index,t.splice(r,1),i=r=0;break}i+=r}}},v.utils.compareArrays=function(){function e(e,t,n,i,a){var r,s,o,l=Math.min,c=Math.max,u=[],d=e.length,f=t.length,h=f-d||1,p=d+f+1;for(r=0;r<=d;r++){var g=o;u.push(o=[]);var m=l(f,r+h);for(s=c(0,r-1);s<=m;s++)o[s]=s?r?e[r-1]===t[s-1]?g[s-1]:l(g[s]||p,o[s-1]||p)+1:s+1:r+1}for(l=[],c=[],h=[],r=d,s=f;r||s;)f=u[r][s]-1,s&&f===u[r][s-1]?c.push(l[l.length]={status:n,value:t[--s],index:s}):r&&f===u[r-1][s]?h.push(l[l.length]={status:i,value:e[--r],index:r}):(--s,--r,a.sparse||l.push({status:"retained",value:t[s]}));return v.utils.findMovesInArrayComparison(h,c,!a.dontLimitMoves&&10*d),l.reverse()}return function(t,n,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},t=t||[],n=n||[],t.length<n.length?e(t,n,"added","deleted",i):e(n,t,"deleted","added",i)}}(),v.exportSymbol("utils.compareArrays",v.utils.compareArrays),function(){function e(e,t,n,i,a){var r=[],s=v.dependentObservable(function(){var s=t(n,a,v.utils.fixUpContinuousNodeArray(r,e))||[];0<r.length&&(v.utils.replaceDomNodes(r,s),i&&v.dependencyDetection.ignore(i,null,[n,s,a])),r.length=0,v.utils.arrayPushAll(r,s)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!v.utils.anyDomNodeIsAttachedToDocument(r)}});return{mappedNodes:r,dependentObservable:s.isActive()?s:void 0}}var t=v.utils.domData.nextKey(),n=v.utils.domData.nextKey();v.utils.setDomNodeChildrenFromArrayMapping=function(i,a,r,s,o){function l(e,t){w=d[t],m!==t&&(_[e]=w),w.indexObservable(m++),v.utils.fixUpContinuousNodeArray(w.mappedNodes,i),p.push(w),b.push(w)}function c(e,t){if(e)for(var n=0,i=t.length;n<i;n++)t[n]&&v.utils.arrayForEach(t[n].mappedNodes,function(i){e(i,n,t[n].arrayEntry)})}a=a||[],s=s||{};var u=void 0===v.utils.domData.get(i,t),d=v.utils.domData.get(i,t)||[],f=v.utils.arrayMap(d,function(e){return e.arrayEntry}),h=v.utils.compareArrays(f,a,s.dontLimitMoves),p=[],g=0,m=0,y=[],b=[];a=[];var _=[];f=[];for(var w,x,k,C=0;x=h[C];C++)switch(k=x.moved,x.status){case"deleted":void 0===k&&((w=d[g]).dependentObservable&&(w.dependentObservable.dispose(),w.dependentObservable=void 0),v.utils.fixUpContinuousNodeArray(w.mappedNodes,i).length&&(s.beforeRemove&&(p.push(w),b.push(w),w.arrayEntry===n?w=null:a[C]=w),w&&y.push.apply(y,w.mappedNodes))),g++;break;case"retained":l(C,g++);break;case"added":void 0!==k?l(C,k):(w={arrayEntry:x.value,indexObservable:v.observable(m++)},p.push(w),b.push(w),u||(f[C]=w))}v.utils.domData.set(i,t,p),c(s.beforeMove,_),v.utils.arrayForEach(y,s.beforeRemove?v.cleanNode:v.removeNode),C=0,u=v.virtualElements.firstChild(i);for(var T;w=b[C];C++){for(w.mappedNodes||v.utils.extend(w,e(i,r,w.arrayEntry,o,w.indexObservable)),g=0;h=w.mappedNodes[g];u=h.nextSibling,T=h,g++)h!==u&&v.virtualElements.insertAfter(i,h,T);!w.initialized&&o&&(o(w.arrayEntry,w.mappedNodes,w.indexObservable),w.initialized=!0)}for(c(s.beforeRemove,a),C=0;C<a.length;++C)a[C]&&(a[C].arrayEntry=n);c(s.afterMove,_),c(s.afterAdd,f)}}(),v.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",v.utils.setDomNodeChildrenFromArrayMapping),v.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},v.nativeTemplateEngine[t]=new v.templateEngine,v.nativeTemplateEngine[t].constructor=v.nativeTemplateEngine,v.nativeTemplateEngine[t].renderTemplateSource=function(e,t,n,i){return(t=9>v.utils.ieVersion||!e.nodes?null:e.nodes())?v.utils.makeArray(t.cloneNode(!0).childNodes):(e=e.text(),v.utils.parseHtmlFragment(e,i))},v.nativeTemplateEngine.instance=new v.nativeTemplateEngine,v.setTemplateEngine(v.nativeTemplateEngine.instance),v.exportSymbol("nativeTemplateEngine",v.nativeTemplateEngine),function(){v.jqueryTmplTemplateEngine=function(){var e=this.jQueryTmplVersion=0;this.renderTemplateSource=function(t,n,i,a){if(a=a||c,i=i||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var r=t.data("precompiled");return r||(r=t.text()||"",r=null.template(null,"{{ko_with $item.koBindingContext}}"+r+"{{/ko_with}}"),t.data("precompiled",r)),t=[n.$data],n=null.extend({koBindingContext:n},i.templateOptions),(n=null.tmpl(r,t,n)).appendTo(a.createElement("div")),n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){c.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")}},v.jqueryTmplTemplateEngine[t]=new v.templateEngine,v.jqueryTmplTemplateEngine[t].constructor=v.jqueryTmplTemplateEngine;var e=new v.jqueryTmplTemplateEngine;0<e.jQueryTmplVersion&&v.setTemplateEngine(e),v.exportSymbol("jqueryTmplTemplateEngine",v.jqueryTmplTemplateEngine)}()})(e={}),s.default=e},function(e,n,i){function a(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var r=i(14);n=i(40),e.exports=a,n(a[t]),a[t].onError=function(e,t){return e=Error(e),e.type="TransportError",e.description=t,this.emit("error",e),this},a[t].open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a[t].close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a[t].send=function(e){if("open"!==this.readyState)throw Error("Transport not open");this.write(e)},a[t].onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a[t].onData=function(e){e=r.decodePacket(e,this.socket.binaryType),this.onPacket(e)},a[t].onPacket=function(e){this.emit("packet",e)},a[t].onClose=function(){this.readyState="closed",this.emit("close")}},function(e,r,s){(function(r){function o(e){if(!e||a!==typeof e)return!1;if(l(e)){for(var n=0,s=e.length;n<s;n++)if(o(e[n]))return!0;return!1}if(i===typeof r&&r.isBuffer&&r.isBuffer(e)||i===typeof ArrayBuffer&&e instanceof ArrayBuffer||u&&e instanceof Blob||d&&e instanceof File)return!0;if(e.toJSON&&i===typeof e.toJSON&&1===arguments.length)return o(e.toJSON(),!0);for(n in e)if(Object[t].hasOwnProperty.call(e,n)&&o(e[n]))return!0;return!1}var l=s(124),c=Object[t].toString,u=i===typeof Blob||n!==typeof Blob&&"[object BlobConstructor]"===c.call(Blob),d=i===typeof File||n!==typeof File&&"[object FileConstructor]"===c.call(File);e.exports=o}).call(r,s(24).Buffer)},function(e,n,i){function a(e){if(e){for(var n in a[t])e[n]=a[t][n];return e}}e.exports=a,a[t].on=a[t].addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},a[t].once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},a[t].off=a[t].removeListener=a[t].removeAllListeners=a[t].removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,a=0;a<n.length;a++)if((i=n[a])===t||i.fn===t){n.splice(a,1);break}return this},a[t].emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,a=(n=n.slice(0)).length;i<a;++i)n[i].apply(this,t);return this},a[t].listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},a[t].hasListeners=function(e){return!!this.listeners(e).length}},function(e,n,i){function a(){}function r(e){var t=""+e.type;if(n.BINARY_EVENT!==e.type&&n.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data){try{var i=JSON.stringify(e.data)}catch(e){i=!1}if(!1===i)return f;t+=i}return l("encoded %j as %s",e,t),t}function s(){this.reconstructor=null}function o(e){this.reconPack=e,this.buffers=[]}var l=i(137)("socket.io-parser");e=i(140);var c=i(64),u=i(65),d=i(42);n.protocol=4,n.types="CONNECT DISCONNECT EVENT ACK ERROR BINARY_EVENT BINARY_ACK".split(" "),n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=a,n.Decoder=s;var f=n.ERROR+'"encode error"';a[t].encode=function(e,t){l("encoding packet %j",e),n.BINARY_EVENT===e.type||n.BINARY_ACK===e.type?function(e,t){c.removeBlobs(e,function(e){var n=c.deconstructPacket(e);e=r(n.packet),(n=n.buffers).unshift(e),t(n)})}(e,t):(e=r(e),t([e]))},e(s[t]),s[t].add=function(e){if("string"==typeof e){e:{var t=0,i={type:+e.charAt(0)};if(null==n.types[i.type])e={type:n.ERROR,data:"parser error: unknown packet type "+i.type};else{if(n.BINARY_EVENT===i.type||n.BINARY_ACK===i.type){for(var a="";"-"!==e.charAt(++t)&&(a+=e.charAt(t),t!=e.length););if(a!=+a||"-"!==e.charAt(t))throw Error("Illegal attachments");i.attachments=+a}if("/"===e.charAt(t+1))for(i.nsp="";++t&&","!==(a=e.charAt(t))&&(i.nsp+=a,t!==e.length););else i.nsp="/";if(""!==(a=e.charAt(t+1))&&+a==a){for(i.id="";++t;){if(null==(a=e.charAt(t))||+a!=a){--t;break}if(i.id+=e.charAt(t),t===e.length)break}i.id=+i.id}if(e.charAt(++t)){t=e.substr(t);try{var r=JSON.parse(t)}catch(e){r=!1}if(!1===r||i.type!==n.ERROR&&!u(r)){e={type:n.ERROR,data:"parser error: invalid payload"};break e}i.data=r}l("decoded %s as %j",e,i),e=i}}n.BINARY_EVENT===e.type||n.BINARY_ACK===e.type?(this.reconstructor=new o(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e)}else{if(!d(e)&&!e.base64)throw Error("Unknown type: "+e);if(!this.reconstructor)throw Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",e))}},s[t].destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},o[t].takeBinaryData=function(e){return this.buffers.push(e),this.buffers.length===this.reconPack.attachments?(e=c.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),e):null},o[t].finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){(function(t){e.exports=function(e){var r;return!(r=n&&t.isBuffer(e))&&(r=a)&&((r=e instanceof ArrayBuffer)||(r=i===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)),r};var n=i===typeof t&&i===typeof t.isBuffer,a=i===typeof ArrayBuffer}).call(t,n(24).Buffer)},function(e,t,i){var a=i(143);e.exports=function(e){var t=e.xdomain,i=e.xscheme;e=e.enablesXDR;try{if(n!==typeof XMLHttpRequest&&(!t||a))return new XMLHttpRequest}catch(e){}try{if(n!==typeof XDomainRequest&&!i&&e)return new XDomainRequest}catch(e){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t,n){t.__esModule=!0;var i=n(100);t.default={sanitize:function(e){return i.default?i.default.sanitize(e):e}}},,function(e,t,n){var i,a;i=[n(17)],void 0===(a=function(e){return e.indexOf}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(3)],void 0===(a=function(e){return e.documentElement}.apply(t,i))||(e.exports=a)},function(e,t,n){var i;void 0===(i=function(){return function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i,a;i=[n(35)],void 0===(a=function(e){return RegExp("^("+e+")(?!px)[a-z%]+$","i")}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(1),n(3),n(47),n(30)],void 0===(a=function(e,t,n,i){return function(){function a(){if(u){u.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",u.innerHTML="",n.appendChild(c);var e=window.getComputedStyle(u);r="1%"!==e.top,l="2px"===e.marginLeft,s="4px"===e.width,u.style.marginRight="50%",o="4px"===e.marginRight,n.removeChild(c),u=null}}var r,s,o,l,c=t.createElement("div"),u=t.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",i.clearCloneStyle="content-box"===u.style.backgroundClip,c.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.appendChild(u),e.extend(i,{pixelPosition:function(){return a(),r},boxSizingReliable:function(){return a(),s},pixelMarginRight:function(){return a(),o},reliableMarginLeft:function(){return a(),l}}))}(),i}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(35)],void 0===(a=function(e){return RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i")}.apply(t,i))||(e.exports=a)},,function(e,t){t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){a===typeof window&&(t=window)}e.exports=t},function(e,i,a){i.__esModule=!0;var s=a(75);a(4);var o=a(2),l=a(6);a(74),e=function(e,t,n,i){return t=s.default.SO.call(this,t)||this,t.type=null,t.id=null,t.app=e,t},r.i(e,s.default.SO),e[t].clients=function(){var e=this;return this.clients=o.default.computed(function(){return e.data()?e.data().clients:{}}),this.clients()},e[t].getPhotoUrl=function(){return this.data()&&this.data().photo?this.app.getPhotoUrl(this.data().photo):"agent"===this.type?l.default.mediaDefaultUserPhoto:l.default.mediaDefaultVisitorPhoto},e[t].getName=function(){var e=this;return this._name?this._name:this._name=o.default.computed(function(){return e.data&&e.data()?e.data().details?"f5539"==e.app.accountId&&""!=e.data().details.phone?e.data().details.phone:e.data().details.name:e.data().first_name?e.data().first_name:e.data().id:"n/a"})},e[t].isOnline=function(){return!1===this.data().disabled},e[t].onThreadEvent=function(e,t,i,a){var r=null,s=n!==typeof i.thread_id?i.thread_id:null;"backend"==this.app.type?this.anychat&&this.anychat()&&(r=this.anychat().threadManager()):r=this.app.threadManager(),null!==r&&null!==s&&(r=r.findThreadByPK(s))&&r.onEvent(e,t,i,a)},i.default=e},function(e,t,n){var i,a;i=[n(34)],void 0===(a=function(e){return e.toString}.apply(t,i))||(e.exports=a)},function(e,t,n){void 0===(t=/^margin/)||(e.exports=t)},function(e,t,n){var i;void 0===(i=function(){return function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i,a;i=[n(1),n(16)],void 0===(a=function(e,t){return e.Callbacks=function(n){n="string"==typeof n?function(n){var i={};return e.each(n.match(t)||[],function(e,t){i[t]=!0}),i}(n):e.extend({},n);var i,a,r,s,o=[],l=[],c=-1,u=function(){for(s=s||n.once,r=i=!0;l.length;c=-1)for(a=l.shift();++c<o.length;)!1===o[c].apply(a[0],a[1])&&n.stopOnFalse&&(c=o.length,a=!1);n.memory||(a=!1),i=!1,s&&(o=a?[]:"")},d={add:function(){return o&&(a&&!i&&(c=o.length-1,l.push(a)),function t(i){e.each(i,function(i,a){e.isFunction(a)?n.unique&&d.has(a)||o.push(a):a&&a.length&&"string"!==e.type(a)&&t(a)})}(arguments),a&&!i&&u()),this},remove:function(){return e.each(arguments,function(t,n){for(var i;-1<(i=e.inArray(n,o,i));)o.splice(i,1),i<=c&&c--}),this},has:function(t){return t?-1<e.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return s=l=[],o=a="",this},disabled:function(){return!o},lock:function(){return s=l=[],a||i||(o=a=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=t||[],t=[e,t.slice?t.slice():t],l.push(t),i||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},e}.apply(t,i))||(e.exports=a)},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){t.__esModule=!0,e=function(e,t){var n=function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},r=function(e){return e.toLowerCase()},s=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},o=function(e,t){for(var n,r,s,o,l,c,u=0;u<t.length&&!l;){var d=t[u],f=t[u+1];for(n=r=0;n<d.length&&!l;)if(l=d[n++].exec(e))for(s=0;s<f.length;s++)c=l[++r],o=f[s],a===typeof o&&0<o.length?2==o.length?this[o[0]]=i==typeof o[1]?o[1].call(this,c):o[1]:3==o.length?this[o[0]]=i!==typeof o[1]||o[1].exec&&o[1].test?c?c.replace(o[1],o[2]):void 0:c?o[1].call(this,c,o[2]):void 0:4==o.length&&(this[o[0]]=c?o[3].call(this,c.replace(o[1],o[2])):void 0):this[o]=c||void 0;u+=2}},l=function(e,t){for(var i in t)if(a===typeof t[i]&&0<t[i].length){for(var r=0;r<t[i].length;r++)if(n(t[i][r],e))return"?"===i?void 0:i}else if(n(t[i],e))return"?"===i?void 0:i;return e},c={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},u={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/(opios)[\/\s]+([\w\.]+)/i],[["name","Opera Mini"],"version"],[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name","version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(puffin)\/([\w\.]+)/i],[["name","Puffin"],"version"],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(micromessenger)\/([\w\.]+)/i],[["name","WeChat"],"version"],[/(QQ)\/([\d\.]+)/i],["name","version"],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/xiaomi\/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/;fbav\/([\w\.]+);/i],["version",["name","Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],["version",["name","Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[["name",/(.+)/,"$1 WebView"],"version"],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[["name",/(.+(?:g|us))(.+)/,"$1 $2"],"version"],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],["version",["name","Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],["name","version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/(coast)\/([\w\.]+)/i],[["name","Opera Coast"],"version"],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[["name","GSA"],"version"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",l,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",r]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",r]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",r]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",l,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],["model",["vendor","Sony"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",l,{HTC:"APA",Sprint:"Sprint"}],["model",l,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],["model",["vendor","Huawei"],["type","mobile"]],[/(microsoft);\s(lumia[\s\w]+)/i],["vendor","model",["type","mobile"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[["vendor",s],["model",s],["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor","Samsung"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"],"model"],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],["model",["vendor","Acer"],["type","tablet"]],[/android.+([vl]k\-?\d{3})\s+build/i],["model",["vendor","LG"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],["vendor","model",["type","mobile"]],[/crkey/i],[["model","Chromecast"],["vendor","Google"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+;\s(pixel c)\s/i],["model",["vendor","Google"],["type","tablet"]],[/android.+;\s(pixel xl|pixel)\s/i],["model",["vendor","Google"],["type","mobile"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","tablet"]],[/android.+;\s(m[1-5]\snote)\sbuild/i],["model",["vendor","Meizu"],["type","tablet"]],[/android.+a000(1)\s+build/i],["model",["vendor","OnePlus"],["type","mobile"]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],["model",["vendor","RCA"],["type","tablet"]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],["model",["vendor","Dell"],["type","tablet"]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],["model",["vendor","Verizon"],["type","tablet"]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[["vendor","Barnes & Noble"],"model",["type","tablet"]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],["model",["vendor","NuVision"],["type","tablet"]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[["vendor","ZTE"],"model",["type","tablet"]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],["model",["vendor","Swiss"],["type","mobile"]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],["model",["vendor","Swiss"],["type","tablet"]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],["model",["vendor","Zeki"],["type","tablet"]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[["vendor","Dragon Touch"],"model",["type","tablet"]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],["model",["vendor","Insignia"],["type","tablet"]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],["model",["vendor","NextBook"],["type","tablet"]],[/android.+[;\/]\s*(Xtreme_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[["vendor","Voice"],"model",["type","mobile"]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[["vendor","LvTel"],"model",["type","mobile"]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],["model",["vendor","Envizen"],["type","tablet"]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],["model",["vendor","MachSpeed"],["type","tablet"]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*TU_(1491)\s+build/i],["model",["vendor","Rotor"],["type","tablet"]],[/android.+(KS(.+))\s+build/i],["model",["vendor","Amazon"],["type","tablet"]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],["vendor","model",["type","tablet"]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[["type",r],"vendor","model"],[/(android.+)[;\/].+build/i],["model",["vendor","Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",l,c]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",l,c]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(haiku)\s(\w+)/i],["name","version"],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[["version",/_/g,"."],["name","iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},d=function(t,n){if(a===typeof t&&(n=t,t=void 0),!(this instanceof d))return new d(t,n).getResult();var i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),r=n?function(e,t){var n,i={};for(n in e)i[n]=t[n]&&0==t[n].length%2?t[n].concat(e[n]):e[n];return i}(u,n):u;return this.getBrowser=function(){var e={name:void 0,version:void 0};return o.call(e,i,r.browser),e.major=function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0}(e.version),e},this.getCPU=function(){var e={architecture:void 0};return o.call(e,i,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return o.call(e,i,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return o.call(e,i,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return o.call(e,i,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};return d.VERSION="0.7.17",d.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"},d.CPU={ARCHITECTURE:"architecture"},d.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"},d.ENGINE={NAME:"name",VERSION:"version"},d.OS={NAME:"name",VERSION:"version"},d}(window),t.default=e},function(e,i,a){(function(i){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=f&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(p=h),s.call(this,e)}var s=a(38),o=a(14),l=a(26),c=a(27),u=a(62),d=a(28)("engine.io-client:websocket");if(n!==typeof WebSocket)var f=WebSocket;else if(n!==typeof self)f=self.WebSocket||self.MozWebSocket;else try{var h=a(132)}catch(e){}var p=f||h;e.exports=r,c(r,s),r[t].name="websocket",r[t].supportsBinary=!0,r[t].doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new p(e,t):new p(e):new p(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r[t].addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r[t].write=function(e){function t(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var a=e.length,r=0,s=a;r<s;r++)!function(e){o.encodePacket(e,n.supportsBinary,function(r){if(!n.usingBrowserWebSocket){var s={};e.options&&(s.compress=e.options.compress),n.perMessageDeflate&&("string"==typeof r?i.byteLength(r):r.length)<n.perMessageDeflate.threshold&&(s.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(r):n.ws.send(r,s)}catch(e){d("websocket closed before onclose event")}--a||t()})}(e[r])},r[t].onClose=function(){s[t].onClose.call(this)},r[t].doClose=function(){n!==typeof this.ws&&this.ws.close()},r[t].uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!=+this.port||"ws"===t&&80!=+this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=l.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},r[t].check=function(){return!(!p||"__initialize"in p&&this.name===r[t].name)}}).call(i,a(24).Buffer)},function(e,t,n){function i(e){var t="";do{t=s[e%64]+t,e=Math.floor(e/64)}while(0<e);return t}function a(){var e=i(+new Date);return e!==r?(l=0,r=e):e+"."+i(l++)}for(var r,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},l=0,c=0;64>c;c++)o[s[c]]=c;a.encode=i,a.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=64*t+o[e.charAt(c)];return t},e.exports=a},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");e.exports=function(e){var t=e,a=e.indexOf("["),r=e.indexOf("]");-1!=a&&-1!=r&&(e=e.substring(0,a)+e.substring(a,r).replace(/:/g,";")+e.substring(r,e.length)),e=n.exec(e||"");for(var s={},o=14;o--;)s[i[o]]=e[o]||"";return-1!=a&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,r,s){function o(e,t){if(!e)return e;if(u(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(c(e)){n=Array(e.length);for(var i=0;i<e.length;i++)n[i]=o(e[i],t);return n}if(a===typeof e&&!(e instanceof Date)){n={};for(i in e)n[i]=o(e[i],t);return n}return e}function l(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(c(e))for(var n=0;n<e.length;n++)e[n]=l(e[n],t);else if(a===typeof e)for(n in e)e[n]=l(e[n],t);return e}var c=s(65),u=s(42);e=Object[t].toString;var d=i===typeof Blob||n!==typeof Blob&&"[object BlobConstructor]"===e.call(Blob),f=i===typeof File||n!==typeof File&&"[object FileConstructor]"===e.call(File);r.deconstructPacket=function(e){var t=[];return e.data=o(e.data,t),e.attachments=t.length,{packet:e,buffers:t}},r.reconstructPacket=function(e,t){return e.data=l(e.data,t),e.attachments=void 0,e},r.removeBlobs=function(e,t){function n(e,s,o){if(!e)return e;if(d&&e instanceof Blob||f&&e instanceof File){i++;var l=new FileReader;l.onload=function(){o?o[s]=this.result:r=this.result,--i||t(r)},l.readAsArrayBuffer(e)}else if(c(e))for(l=0;l<e.length;l++)n(e[l],l,e);else if(a===typeof e&&!u(e))for(l in e)n(e[l],l,e)}var i=0,r=e;n(r),i||t(r)}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,n,i){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&a===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],e=t.parser||l,this.encoder=new e.Encoder,this.decoder=new e.Decoder,(this.autoConnect=!1!==t.autoConnect)&&this.open()}var s=i(141),o=i(70);n=i(71);var l=i(41),c=i(72),u=i(73),d=i(29)("socket.io-client:manager"),f=i(69),h=i(147),p=Object[t].hasOwnProperty;e.exports=r,r[t].emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r[t].updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r[t].generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},n(r[t]),r[t].reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r[t].reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r[t].reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r[t].randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r[t].reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r[t].timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r[t].maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r[t].open=r[t].connect=function(e,t){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri);var n=this.engine=s(this.uri,this.opts),i=this;this.readyState="opening",this.skipReconnect=!1;var a=c(n,"open",function(){i.onopen(),e&&e()});if(t=c(n,"error",function(t){if(d("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}),!1!==this._timeout){var r=this._timeout;d("connect attempt will timeout after %d",r);var o=setTimeout(function(){d("connect attempt timed out after %d",r),a.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",r)},r);this.subs.push({destroy:function(){clearTimeout(o)}})}return this.subs.push(a),this.subs.push(t),this},r[t].onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",u(this,"ondata"))),this.subs.push(c(e,"ping",u(this,"onping"))),this.subs.push(c(e,"pong",u(this,"onpong"))),this.subs.push(c(e,"error",u(this,"onerror"))),this.subs.push(c(e,"close",u(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded")))},r[t].onping=function(){this.lastPing=new Date,this.emitAll("ping")},r[t].onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r[t].ondata=function(e){this.decoder.add(e)},r[t].ondecoded=function(e){this.emit("packet",e)},r[t].onerror=function(e){d("error",e),this.emitAll("error",e)},r[t].socket=function(e,t){function n(){~f(a.connecting,i)||a.connecting.push(i)}var i=this.nsps[e];if(!i){i=new o(this,e,t),this.nsps[e]=i;var a=this;i.on("connecting",n),i.on("connect",function(){i.id=a.generateId(e)}),this.autoConnect&&n()}return i},r[t].destroy=function(e){~(e=f(this.connecting,e))&&this.connecting.splice(e,1),this.connecting.length||this.close()},r[t].packet=function(e){d("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))},r[t].processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r[t].cleanup=function(){d("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r[t].close=r[t].disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r[t].onclose=function(e){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r[t].reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();d("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(d("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(d("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(d("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r[t].onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,i){var a=i(43),r=i(144),s=i(145);e=i(61),t.polling=function(e){var t=!1,i=!1,o=!1!==e.jsonp;if(n!==typeof location&&(i="https:"===location.protocol,(t=location.port)||(t=i?443:80),t=e.hostname!==location.hostname||t!==e.port,i=e.secure!==i),e.xdomain=t,e.xscheme=i,"open"in new a(e)&&!e.forceJSONP)return new r(e);if(!o)throw Error("JSONP disabled");return new s(e)},t.websocket=e},function(e,n,i){function a(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}var r=i(38),s=i(26),o=i(14);n=i(27);var l=i(62),c=i(28)("engine.io-client:polling");e.exports=a;var u=null!=new(i(43))({xdomain:!1}).responseType;n(a,r),a[t].name="polling",a[t].doOpen=function(){this.poll()},a[t].pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||t()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||t()}))}else t()},a[t].poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},a[t].onData=function(e){var t=this;c("polling got data %s",e),o.decodePayload(e,this.socket.binaryType,function(e,n,i){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},a[t].doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},a[t].write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},a[t].uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=s.encode(e),this.port&&("https"===t&&443!=+this.port||"http"===t&&80!=+this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},function(e,n,r){function s(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o=r(41);n=r(71);var l=r(146),c=r(72),u=r(73),d=r(29)("socket.io-client:socket"),f=r(26),h=r(39);e.exports=s;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},g=n[t].emit;n(s[t]),s[t].subEvents=function(){if(!this.subs){var e=this.io;this.subs=[c(e,"open",u(this,"onopen")),c(e,"packet",u(this,"onpacket")),c(e,"close",u(this,"onclose"))]}},s[t].open=s[t].connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},s[t].send=function(){var e=l(arguments);return e.unshift("message"),this.emit.apply(this,e),this},s[t].emit=function(e){if(p.hasOwnProperty(e))return g.apply(this,arguments),this;var t=l(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:h(t))?o.BINARY_EVENT:o.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,i===typeof t[t.length-1]&&(d("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},s[t].packet=function(e){e.nsp=this.nsp,this.io.packet(e)},s[t].onopen=function(){if(d("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e=a===typeof this.query?f.encode(this.query):this.query;d("sending connect packet with query %s",e),this.packet({type:o.CONNECT,query:e})}else this.packet({type:o.CONNECT})},s[t].onclose=function(e){d("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},s[t].onpacket=function(e){var t=e.type===o.ERROR&&"/"===e.nsp;if(e.nsp===this.nsp||t)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},s[t].onevent=function(e){var t=e.data||[];d("emitting event %j",t),null!=e.id&&(d("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?g.apply(this,t):this.receiveBuffer.push(t)},s[t].ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=l(arguments);d("sending ack %j",i),t.packet({type:h(i)?o.BINARY_ACK:o.ACK,id:e,data:i})}}},s[t].onack=function(e){var t=this.acks[e.id];i===typeof t?(d("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):d("bad ack %s",e.id)},s[t].onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},s[t].emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)g.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},s[t].ondisconnect=function(){d("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},s[t].destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},s[t].close=s[t].disconnect=function(){return this.connected&&(d("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},s[t].compress=function(e){return this.flags.compress=e,this},s[t].binary=function(e){return this.flags.binary=e,this}},function(e,n,i){function a(e){if(e){for(var n in a[t])e[n]=a[t][n];return e}}e.exports=a,a[t].on=a[t].addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},a[t].once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},a[t].off=a[t].removeListener=a[t].removeAllListeners=a[t].removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,a=0;a<n.length;a++)if((i=n[a])===t||i.fn===t){n.splice(a,1);break}return this},a[t].emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,a=(n=n.slice(0)).length;i<a;++i)n[i].apply(this,t);return this},a[t].listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},a[t].hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),i!=typeof t)throw Error("bind() requires a function");var a=n.call(arguments,2);return function(){return t.apply(e,a.concat(n.call(arguments)))}}},function(e,i,a){i.__esModule=!0,a(37);var s=a(54);e=function(e){return e=s.default.call(this,e)||this,e.type="agent",e},r.i(e,s.default),e[t].onDispose=function(){this._logger&&this._logger.dispose(),s.default[t].onDispose.call(this)},e[t].getDepartments=function(){for(var e=this.app.account().departments||{},t={},i=r.m(this.app.account().agents),a=i.next();!a.done;a=i.next())if((a=a.value).id==this.data().id)for(var s=(a=r.m(a.departments)).next();!s.done;s=a.next())s=s.value,e[s]&&n==typeof t[s]&&(t[s]=e[s]);return t},e[t].getFullName=function(){return this.data().first_name},e.getClassName=function(){return"agent"},i.default=e},function(e,i,a){i.__esModule=!0;var s=a(153),o=a(4),l=a(9);e=function(e){e=void 0===e?{}:e;var t=s.default.SocketObject.call(this)||this;return t._client=!0,e&&e.id&&("chat"==t.constructor.getClassName()?t.id=e.id:t.id=t.constructor.getClassName()+"-"+e.id),t.data=l.default.createWritableComputed(function(i,a){if(!1!==i)return e&&n!==typeof i.tags&&(e.tags=i.tags),i&&i.id&&("chat"==t.constructor.getClassName()?t.id=i.id:t.id=t.constructor.getClassName()+"-"+i.id),o.default.deepExtend({},a,i)},e,!1,0,null,!0),t},r.i(e,s.default.SocketObject),e[t].onOtherDispose=function(){for(var e in this)l.default.disposeKoItem(this[e]),this[e]=void 0},s.default.SO=e,i.default=s.default},function(e,t,i){t.__esModule=!0;var a=i(6),s=i(158),o=i(5),l=i(8),c=i(4),u=i(77),d=i(44),f=a.default.server+"/asset/chat-widget/",h="jpg gif png bmp jpeg gif txt svg doc docx xls xlsx csv ppt pdf ico psd ai zip rar 7z heic mp4".split(" "),p=["b","i","u"],g={filterMsg:function(e,t){return e=g.filterEmoji(e,void 0!==t&&t),e=s.default.js(e,{target:"_blank",rel:"noopener"})},filterEmoji:function(e,t){if(void 0===t||!t){e=e.replace(/[\u00A0-\u9999<>&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});for(var n=(t=r.m(p)).next();!n.done;n=t.next())n=n.value,e=e.replace(RegExp("&#60;"+n+"&#62;","g"),"<"+n+">"),e=e.replace(RegExp("&#60;/"+n+"&#62;","g"),"</"+n+">")}e=(0,u.emojiStandardParse)(e),t=!1;for(var i in u.emojiMapNew)u.emojiMapNew[i].a==e.trim()&&(t=!0);return t&&2==e.trim().length&&(e='<span class="emo-n single">'+e+"</span>"),e},initEmoji:function(e,t,i){var a=function(t,i){d(),i=(e.value||"").trim(),"DIV"==e.nodeName&&(i=e.innerText),""!==i?("DIV"==e.nodeName?e.innerText=e.innerText+" "+t:e.value=e.value+" "+t,function(e){if(e.focus(),n!=typeof window.getSelection&&n!=typeof document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1),(e=window.getSelection()).removeAllRanges(),e.addRange(t)}else n!=typeof document.body.createTextRange&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())}(e),e.focus()):("DIV"==e.nodeName?e.innerText=t:e.value=t,(t=this.document.createEvent("Events")).initEvent("keyup",!0,!0),t.keyCode=13,t.which=13,t.charCode=13,t.key="Enter",t.code="Enter",e.dispatchEvent(t),setTimeout(function(){"DIV"==e.nodeName?e.innerText="":e.value=""}))},r=function(e){if(e.target){e=e.target;for(var t=!1;e&&!t&&"BODY"!=e.nodeName;)e.classList&&0<e.classList.length&&e.classList.contains("emoji-picker")&&(t=!0),e=e.parentNode;t||d()}},s=null,o=null,d=function(){var e=this;if(null==s){(s=document.createElement("div")).classList.add("emoji-picker"),(o=document.createElement("div")).classList.add("emoji-caret"),"backend"==i.app.type&&"standard"==i.app.settings().widget_theme&&(o.classList.remove("emoji-caret"),o.classList.add("emoji-caret-standard")),s.style.display="none",o.style.display="none",t.appendChild(s),(0,l.insertAfter)(o,s);var d=i.app.settings().widget_theme;i.chat&&i.chat()&&i.chat().visitor()&&i.chat().visitor().data()&&(d=c.default.isGifEmojiVisitor(i.chat().visitor().data())?d:"new"),("frontend"==i.app.type&&i.app.tracker.isIOS||i.app.tracker.isAndroid)&&(d="new"),d=i&&"standard"==d?u.emojiMapStandard:u.emojiMapNew;for(var f in d){var p=d[f].a;n!=typeof d[f].c&&d[f].c&&(p='<div class="emoji-gif"><img src="'+u.animojiUrl.replace("{{i}}",f)+'"></div>');var g=document.createElement("a");g.setAttribute("href","javascript:;"),g.setAttribute("data-value",d[f].a),g.innerHTML=p,g.addEventListener("click",function(){var e=this.getAttribute("data-value");a(e,e)}),s.appendChild(g)}}s.style.display="none"==s.style.display?"block":"none",o.style.display="none"==o.style.display?"block":"none",h.classList.remove("activeEmo"),this.document.removeEventListener("click",r),t.ownerDocument.removeEventListener("click",r),"none"!=s.style.display&&(h.classList.add("activeEmo"),setTimeout(function(){t.ownerDocument.addEventListener("click",r),e.document.addEventListener("click",r)},100)),"backend"==i.app.type&&"standard"==i.app.settings().widget_theme&&(h.parentNode.classList.remove("active-link"),"none"!=s.style.display&&h.parentNode.classList.add("active-link"))};if("00fbd"!=acquireIO.accountId||"backend"!==acquireIO.type){if("frontend"==i.app.type&&"standard"==i.app.settings().widget_theme){var h=document.createElement("button");h.classList.add("main-composer-emoji-button"),h.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17"> <g fill="none" fill-rule="evenodd"> <circle cx="8.297" cy="8.297" r="7.797" stroke="#b8bbbf"/> <circle cx="5.171" cy="6.064" r="1.339" fill="#b8bbbf" fill-rule="nonzero"/> <circle cx="11.42" cy="6.064" r="1.339" fill="#b8bbbf" fill-rule="nonzero"/>  <path fill="#b8bbbf" fill-rule="nonzero" d="M8.297 13.655A4.47 4.47 0 0 1 3.832 9.19h8.93a4.47 4.47 0 0 1-4.465 4.465z"/> </g> </svg>';var p=t.querySelector(".main-composer-buttons .separator-bx");p&&p.parentNode&&p.parentNode.insertBefore(h,p)}else if((p=document.createElement("a")).classList.add("button-emoji-opener"),(h=document.createElement("img")).classList.add("emoji-click"),h.setAttribute("src",f+"emoji-new@2x.png"),h.setAttribute("width",20),h.setAttribute("height",20),p.appendChild(h),"backend"==i.app.type&&"standard"==i.app.settings().widget_theme){h.setAttribute("src",f+"emoji-standard.svg"),h.classList.remove("emoji-click"),h.classList.add("emoji-click-standard"),o&&(o.classList.remove("emoji-caret"),o.classList.add("emoji-caret-standard"));var g=t.querySelector(".standard-action-buttons");g&&t.insertBefore(p,g)}else t.appendChild(p);h.addEventListener("click",function(){d()})}i.on("dispose",function(){i=null,s&&s.parentNode&&s.parentNode.removeChild(s),o&&o.parentNode&&o.parentNode.removeChild(o),h&&h.parentNode&&h.parentNode.removeChild(h)})},initFileUploader:function(e,t,r){var s="attach-click";if("frontend"==r.app.type&&"standard"==r.app.settings().widget_theme){var c=document.createElement("button");c.classList.add("main-composer-upload-button"),c.innerHTML='<svg viewBox="0 0 16 18"><path d="M14.154 6.918l-.004.003.001-.004-3.287 3.286-.006-.005-3.574 3.574c-.016.017-.03.036-.048.053l-.05.047-.043.041v-.002c-1.167 1.07-2.692 1.331-3.823.2-1.13-1.13-.89-2.677.18-3.843l-.005-.004.074-.073.016-.018c.006-.005.012-.009.017-.016l6.053-6.053.761.76-6.053 6.054-.029.028v.001l-.005.004-.073.074c.011-.01.025-.018.035-.03-.688.75-.93 1.636-.21 2.356.72.72 1.583.456 2.333-.232l-.03.034.04-.042.01-.008.008-.009.033-.03.031-.034.01-.009.007-.009 5.004-5.003.005.006 1.858-1.859c1.223-1.218 1.51-2.913.291-4.132C12.462.806 10.414.74 9.195 1.958L2.248 8.905c.003 0 .006-.002.008-.004-1.625 1.667-1.542 4.43.103 6.074 1.646 1.646 4.474 1.795 6.141.17-.003.002-.004.008-.008.012l.047-.047 6.053-6.054.042-.042.743.78-.025.021.001.002-6.05 6.05-.002.002-.002.001-.046.046h-.002c-2.094 2.04-5.578 1.894-7.652-.18-2.049-2.049-2.15-5.407-.183-7.505l-.006-.005h-.002l.076-.078 6.943-6.944.003-.002.004-.005c1.641-1.64 4.367-1.574 6.008.066 1.64 1.642 1.353 4.014-.288 5.655z" fill-rule="evenodd"  fill="#b8bbbf"></path></svg>';var u=t.querySelector(".main-composer-buttons .separator-bx");u&&u.parentNode&&u.parentNode.insertBefore(c,u)}else{(u=document.createElement("a")).classList.add("button-attach-opener");var d=document.createElement("img");if(d.setAttribute("class","attach-click"),d.setAttribute("src",f+"attach-new@2x.png"),d.setAttribute("width",20),d.setAttribute("height",20),u.appendChild(d),c=u,"backend"==r.app.type&&"standard"==r.app.settings().widget_theme){if(d.setAttribute("src",f+"attach-standard.svg"),d.setAttribute("class","attach-click-standard"),s=t.querySelector(".standard-action-buttons")){var p=s.querySelector(".button-voice-typing");r&&r.chat()&&r.chat().data()&&"sms"!==r.chat().data().type&&s.insertBefore(c,p)}s="attach-click-standard"}else r&&r.chat()&&r.chat().data()&&"sms"!==r.chat().data().type&&t.appendChild(c);if(r&&r.app&&("backend"==r.app.type&&parseInt(r.app.settings().disable_file_upload||"0")||"frontend"==r.app.type&&parseInt(r.app.settings().disable_file_upload_frontend||"0")))return d.setAttribute("class",s+" disabled"),void u.setAttribute("style","display: none;")}if(r&&r.app&&("backend"==r.app.type&&parseInt(r.app.settings().disable_file_upload||"0")||"frontend"==r.app.type&&parseInt(r.app.settings().disable_file_upload_frontend||"0")))c.classList.add("disabled"),c.classList.add(s);else{var g=document.createElement("div");g.setAttribute("class","drop-area"),g.style.display="none",g.innerHTML="<span>Drop your files here to upload</span>";var m=document.createElement("div");t.appendChild(g),i.e(9).then(function(){var t=[i(320)];(function(t){var i=function(e,t){r.addSelfMessage({id:"file-up-"+e,type:"file",fileName:t,fileUrl:null,fileThumb:null,progress:!1,fileSize:"",seen:"Uploading"})},s=function(e,t,n,i,a){r.updateMessage("file-up-"+e,{progress:i,fileSize:100==i?a:n+"/"+a,onCancel:function(e,t){return!1}})},u=function(e,t,n,i){r.updateMessage("file-up-"+e,{progress:!1,error:i.error,fileName:t,fileThumb:i.fileThumb,fileUrl:i.fileUrl,fileSize:i.fileSize,fileExt:i.fileExt}),r.updateMessage("file-up-"+e,null),i.error||r&&r.addFileMessage([{fileName:t,fileThumb:i.fileThumb,filePath:i.filePath,fileUrl:i.fileUrl,fileSize:i.fileSize,fileExt:i.fileExt}])},d=null;if(d="frontend"==r.app.type?r.app.ui.document.querySelector(".msg-wrap"):(0,l.parentBySelector)(e,".main_tab_boxes"),r.app.settings()&&n!=typeof r.app.settings().security_files_permissions){var f=null;try{f=o.parse(r.app.settings().security_files_permissions)}catch(e){}f&&n!=typeof f.selected&&"allow"==f.selected&&n!=typeof f.values&&f.values&&0<f.values.length&&(f=f.values.replace(/\./g,""),0<(f=f.split(",")).length&&(h=f))}var p=new t.default.FileUploader({element:m,doc:r.app.ui.document?r.app.ui.document:document,accountId:r.app.accountId,droparea:d,debug:!1,multiple:!0,action:a.default.uploadFilesUrl,allowedExtensions:h,sizeLimit:31457280,onFileAdd:function(e,t){return i(e,t),!1},onFileUpdate:function(e,t,n,i,a){return s(e,t,n,i,a),!1},onFileDone:function(e,t,n,i){return u(e,t,n,i),!1}});c.addEventListener("click",function(){("frontend"!=r.app.type||r.app.validateForm(0==r.app.onlineAgents().length?"offline":"online",!0))&&(0,l.triggerNativeEvent)(m.querySelector('input[type="file"]'),"click",!1,"MouseEvents")}),e.addEventListener("paste",function(e){var t=(e.clipboardData||e.originalEvent.clipboardData).items;e={};for(var n in t){var i=t[n];if("file"===i.kind){n=i.getAsFile(),(t=new FormData).append("file",n),e.m_id=Math.ceil(1e7*Math.random()),r.addSelfMessage({id:"file-up-"+e.m_id,type:"file",fileName:"clipboard image",fileUrl:null,fileThumb:null,progress:!1,fileSize:"",seen:"Uploading"});var s=new XMLHttpRequest;return s.onload=function(e){return function(t){if(s.responseText&&200==s.status){if((t=o.parse(s.responseText)).success&&t.data){var n=t.data;r.updateMessage("file-up-"+e.m_id,{progress:!1,error:n.error,fileName:n.fileName,fileThumb:n.fileThumb,fileUrl:n.fileUrl,fileSize:n.fileSize,fileExt:n.fileExt}),r.updateMessage("file-up-"+e.m_id,null),r&&r.addFileMessage([{fileName:n.fileName,fileThumb:n.fileThumb,filePath:n.filePath,fileUrl:n.fileUrl,fileSize:n.fileSize,fileExt:n.fileExt}])}t.success||r.updateMessage("file-up-"+e.m_id,null)}}}(e),s.onerror=function(e){return function(t){r.updateMessage("file-up-"+e.m_id,null)}}(e),s.open("POST",a.default.uploadFilesUrl),s.send(t),!1}e={m_id:e.m_id}}return!0}),r.on("dispose",function(){p.dispose(),r=u=s=i=p=null,m&&m.parentNode&&m.parentNode.removeChild(m),d&&d.parentNode&&d.parentNode.removeChild(d),c&&c.parentNode&&c.parentNode.removeChild(c),g&&g.parentNode&&g.parentNode.removeChild(g),e&&e.parentNode&&e.parentNode.removeChild(e)})}).apply(null,t)}).catch(i.oe)}},initShortCut:function(e){var t=e.inputArea();t.setAttribute("data-init_shortcut",!0);var n=t.querySelector(".textarea.autocomplate"),a=e.app.account().chat_shortcut;if(e.app.account().agents){for(var s=[],o=[],l=r.m(e.app.account().agents),c=l.next();!c.done;c=l.next())if((c=c.value).id===e.app.myself().id){s=c.departments;break}if(0<s.length){c=l=0;for(var u=r.m(a),d=u.next();!d.done;d=u.next())null==(d=d.value).department_id||""==d.department_id||-1!==s.indexOf(d.department_id)?(o.push(d),null!=d.department_id&&""!=d.department_id||l++):-1===s.indexOf(d.department_id)&&c++;0<o.length&&a.length!==l+c&&(a=o)}}i.e(4).then(function(){var t=[i(176)];(function(){new Promise(function(e){e()}).then(function(){var t=[i(52)];(function(t){t.default(n).atwho({at:e.app.settings()&&e.app.settings().chat_shortcut_key?e.app.settings().chat_shortcut_key:"/",displayTpl:"<li>${name}</li>",insertTpl:"${message}",searchKey:"name",data:a,limit:a.length,maxLen:a.length,callbacks:{beforeInsert:function(e,t,i){return(t=n.getAttribute("data-shortcut-ground"))&&(t=document.querySelector("#"+t+" .atwho-view"))&&"block"==t.style.display&&n.setAttribute("data-shortcut-enter",!0),e}}})}).apply(null,t)}).catch(i.oe)}).apply(null,t)}).catch(i.oe),e.on("dispose",function(){e=null,t&&t.parentNode&&t.parentNode.removeChild(t),n&&n.parentNode&&n.parentNode.removeChild(n)})},init:function(e){var t=e.inputArea();if(!t.getAttribute("data-init")&&e.on){t.setAttribute("data-init",!0);var i="backend"==e.app.type?t.querySelector(".textarea"):t.querySelector("textarea");e.app.if("web_spellcheck_ready",function(){e.app.wscInstance=WEBSPELLCHECKER.init({container:i})}),g.initEmoji(i,t,e),g.initFileUploader(i,t,e),i.addEventListener("keydown",function(t){if((13!=t.keyCode||13==t.keyCode&&t.shiftKey)&&e.inputAreaValue(e.getTargetValue(t.target)),13==t.keyCode)return t.shiftKey?""!=(e.inputAreaValue()||"").trim():(t.preventDefault(),!1)},!1),i.addEventListener("paste",function(e){setTimeout(function(){var t=(e.target.innerText+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2");e.target.innerHTML=d.default.sanitize(t)},0)}),i.addEventListener("keyup",function(t){if((13!=t.keyCode||13==t.keyCode&&t.shiftKey)&&e.inputAreaValue(e.getTargetValue(t.target)),13==t.keyCode&&!t.shiftKey&&i.getAttribute("data-shortcut-enter"))return i.removeAttribute("data-shortcut-enter"),t.preventDefault(),!1;e.checkMsgTyped(i,t)},!1);var a=null;if(i&&("frontend"==e.app.type||"standard"==e.app.settings().widget_theme)){var s=i.offsetHeight-i.clientHeight,o=function(t){if(e&&"standard"==e.app.settings().widget_theme)setTimeout(function(){var n=e.inputArea();if(n=n.querySelector("pre"))n.innerText=t.value+"\n",""==(t.value||"")&&(n.innerHTML="<br>"),(n=i.ownerDocument.querySelector(".main-conversation-body-parts"))&&(n.style.bottom=parseInt(0==t.clientHeight?48:t.clientHeight)+"px");else{n=e.messageArea();var a=e.inputArea(),r=0<=(n.parentNode.getAttribute("class")||"").indexOf("bubble_active");a.style.height="auto";var o=t.scrollHeight+s;o=200<(o=59==(o=240<o?240:o)||0==o?60:o)?200:o,a.style.height=o+"px",a=r?207:168,n.style.setProperty("height","calc(100vh - "+(o-60+a)+"px)","important"),n.parentNode.style.setProperty("height","calc(100vh - "+(o-60+a)+"px)","important"),n.scrollTop=n.scrollHeight+22}},1);else{var n=e.messageArea();i.style.height="auto";var a=t.scrollHeight+s;a=61==(a=240<a?240:a)?46:a,i.style.height=a,n.style.setProperty("height","calc(100% - "+(a+28)+"px)","important"),n.scrollTop=n.scrollHeight+18}};e&&e.chat()&&n!==typeof e.chat().suggestionBubbleList&&(a=e.chat().suggestionBubbleList.subscribe(function(){o(i)}));var c=(0,l.parentBySelector)(i,".message-input");c&&(c=c.querySelector(".send-btn"))&&c.addEventListener("click",function(){o(i)});for(var u=(c=r.m(["keyup","input"])).next();!u.done;u=c.next())i.addEventListener(u.value,function(){o(this)});(!e.app.tracker.isAndroid&&!e.app.tracker.isIOS||(e.app.tracker.isAndroid||e.app.tracker.isIOS)&&-2==e.data().thread_id)&&setTimeout(function(){i.focus()},200)}e.on("dispose",function(){t.setAttribute("data-init",!1),i&&i.parentNode&&i.parentNode.removeChild(i),t&&t.parentNode&&t.parentNode.removeChild(t),null!==a&&a.dispose()})}}};t.default=g},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"animojiUrl",function(){return a}),i.d(t,"Emoji",function(){return c}),i.d(t,"emojiMap",function(){return r}),i.d(t,"emojiMapNew",function(){return s}),i.d(t,"emojiMapStandard",function(){return o}),i.d(t,"emojiStandardParse",function(){return l});var a="https://cdn.acquire.io/widget/emoji/animation/{{i}}.gif",r={},s={"1f44b":{a:"👋",b:""},"1f604":{a:"😄",b:""},"1f603":{a:"😃",b:""},"1f600":{a:"😀",b:""},"1f60a":{a:"😊",b:""},"1f609":{a:"😉",b:""},"1f60d":{a:"😍",b:""},"1f618":{a:"😘",b:""},"1f61a":{a:"😚",b:""},"1f617":{a:"😗",b:""},"1f619":{a:"😙",b:""},"1f61c":{a:"😜",b:""},"1f61d":{a:"😝",b:""},"1f61b":{a:"😛",b:""},"1f633":{a:"😳",b:""},"1f601":{a:"😁",b:""},"1f614":{a:"😔",b:""},"1f60c":{a:"😌",b:""},"1f612":{a:"😒",b:""},"1f61e":{a:"😞",b:""},"1f623":{a:"😣",b:""},"1f622":{a:"😢",b:""},"1f602":{a:"😂",b:""},"1f62d":{a:"😭",b:""},"1f62a":{a:"😪",b:""},"1f625":{a:"😥",b:""},"1f630":{a:"😰",b:""},"1f605":{a:"😅",b:""},"1f613":{a:"😓",b:""},"1f629":{a:"😩",b:""},"1f62b":{a:"😫",b:""},"1f628":{a:"😨",b:""},"1f631":{a:"😱",b:""},"1f620":{a:"😠",b:""},"1f621":{a:"😡",b:""},"1f624":{a:"😤",b:""},"1f616":{a:"😖",b:""},"1f606":{a:"😆",b:""},"1f60b":{a:"😋",b:""},"1f637":{a:"😷",b:""},"1f60e":{a:"😎",b:""},"1f634":{a:"😴",b:""},"1f635":{a:"😵",b:""},"1f632":{a:"😲",b:""},"1f61f":{a:"😟",b:""},"1f626":{a:"😦",b:""},"1f627":{a:"😧",b:""},"1f47f":{a:"👿",b:""},"1f62e":{a:"😮",b:""},"1f62c":{a:"😬",b:""},"1f610":{a:"😐",b:""},"1f615":{a:"😕",b:""},"1f62f":{a:"😯",b:""},"1f60f":{a:"😏",b:""},"1f611":{a:"😑",b:""},"1f641":{a:"🙁",b:""},"1f644":{a:"🙄",b:""},"1f914":{a:"🤔",b:""},"1f910":{a:"🤐",b:""},"1f912":{a:"🤒",b:""},"1f915":{a:"🤕",b:""},"1f642":{a:"🙂",b:""},"1f643":{a:"🙃",b:""},"1f911":{a:"🤑",b:""},"1f917":{a:"🤗",b:""},"1f913":{a:"🤓",b:""}},o={"1f44b":{a:"👋",b:"",c:!0},"1f60d":{a:"😍",b:"",c:!0},"1f618":{a:"😘",b:"",c:!0},"1f633":{a:"😳",b:"",c:!0},"1f601":{a:"😁",b:"",c:!0},"1f622":{a:"😢",b:"",c:!0},"1f602":{a:"😂",b:"",c:!0},"1f62d":{a:"😭",b:"",c:!0},"1f629":{a:"😩",b:"",c:!0},"1f631":{a:"😱",b:"",c:!0},"1f92c":{a:"--1f92c--",b:"",c:!0},"1f624":{a:"😤",b:"",c:!0},"1f60e":{a:"😎",b:"",c:!0},"1f634":{a:"😴",b:"",c:!0},"1f47f":{a:"👿",b:"",c:!0},"1f644":{a:"🙄",b:"",c:!0},"1f910":{a:"🤐",b:"",c:!0},"1f911":{a:"🤑",b:"",c:!0},"1f917":{a:"🤗",b:"",c:!0},"1f973":{a:"--1f973--",b:"",c:!0},"1f9d0":{a:"--1f9d0--",b:"",c:!0},"1f92a":{a:"--1f92a--",b:"",c:!0},"1f607":{a:"😇",b:"",c:!0},"1f974":{a:"--1f974--",b:"",c:!0},"1f92f":{a:"--1f92f--",b:"",c:!0},"1f92e":{a:"--1f92e--",b:"",c:!0},"1f976":{a:"--1f976--",b:"",c:!0},"1f4a9":{a:"💩",b:":poo",c:!0},"1f44f":{a:"👏",b:"",c:!0},"1f44d":{a:"👍",b:"",c:!0},"1f44e":{a:"👎",b:"",c:!0},"1f4aa":{a:"💪",b:"",c:!0},"1f937":{a:"🤷",b:"",c:!0},"1f648":{a:"🙈",b:"",c:!0},"1f37e":{a:"🍾",b:"",c:!0},"1f38a":{a:"🎊",b:"",c:!0},"1f496":{a:"💖",b:"",c:!0}},l=function(e,t){return t=void 0!==t&&t,e=function(e,t){return function(n){return n.replace(e,t)}}(/!\[([^\[]+)\]\(([^\)]+)\)/g,function(n,i,a){return n=e.trim()=="!["+i+"]("+a+")",t?i:'<span class="emo-n'+(n?" single":"")+'"><div class="emoji-gif"><img src="'+a+'" alt="'+i+'" /></div></span>'})(e)},c=function(){};c.unicodeEncodeEmoji=function(e,t){if(t=void 0===t?"new":t,""==(e||"").trim())return e;var n,i=(t="standard"==t)?o:s;for(n in i)e=e.replace(RegExp(i[n].a,"gi"),"\\u{"+n+"}");if(t)for(var a in s)e=e.replace(RegExp(s[a].a,"gi"),"\\u{"+a+"}");return e=l(e,!0)},c.unicodeDecodeEmoji=function(e,t,i,r){if(t=void 0===t?"new":t,i=void 0!==i&&i,r=void 0!==r&&r,""==(e||"").trim())return e;var l=9==e.length?" single":"";r=(t="standard"==t&&!r)?o:s;for(var c in r){var u=r[c].a;n!=typeof r[c].c&&r[c].c&&(u=a.replace("{{i}}",c),u=i?"![\\u{"+c+"}]("+u+"#emoji-gif)":'<div class="emoji-gif"><img src="'+u+'"></div>'),e=(e=e.replace(RegExp("\\\\u{"+c+"}","gi"),i?u:'<span class="emo-n'+l+'">'+u+"</span>")).replace(RegExp("--"+c+"--","gi"),i?u:'<span class="emo-n'+l+'">'+u+"</span>")}if(t)for(var d in s)c=s[d].a,e=e.replace(RegExp("\\\\u{"+d+"}","gi"),i?c:'<span class="emo-n'+l+'">'+c+"</span>");return e=e.split("????").join(i?"񥔲":'<span class="emo-n'+l+'">񥔲</span>')},c.e2u=function(e){e=e.replace(/\ufe0f|\u200d/gm,"");for(var t,n=0,i=0,a=[];n<e.length;)t=e.charCodeAt(n++),i?(a.push((65536+(i-55296<<10)+(t-56320)).toString(16)),i=0):55296<=t&&56319>=t?i=t:a.push(t.toString(16));return a.join("-")},c.unicodeSMSEncodeEmoji=function(e,t){if(t=void 0===t?"new":t,""==(e||"").trim())return e;e=this.unicodeEncodeEmoji(e,t),t="standard"==t?o:s;for(var n in t)e=e.replace("\\u{"+n+"}",t[n].a);return e}},function(e,s,o){s.__esModule=!0;var l=o(2),c=o(10),u=o(6),d=o(75),f=o(4),h=o(9),p=o(5),g=o(23),m=o(12),v=o(44),y=o(8),b=f.default.limitCalls(.8);e=function(e,t){var n=d.default.SO.call(this,t)||this;n.app=e,n._creq={},"frontend"===e.type&&(n.thread=l.default.computed(function(){return n.app.threadManager().findThreadByPK(n.data().thread_id)})),n.app.on("dispose",function(){n.trigger&&n.trigger("dispose")},n),n.translate_from=l.default.observable("auto"),n.translate_to=l.default.observable("en"),n.ctranslate_from=l.default.observable("auto"),n.ctranslate_to=l.default.observable(null),n.translate_form_show=l.default.observable(!1),n.detect_language_flag=l.default.observable(!1),n.translate_mode=l.default.observable(!1),n.account_translate_language=l.default.observable(""),n.messages=l.default.observableArray([]),n.chat_users=h.default.createComputedFromObject(n.data,"users",{}),n.session_id=h.default.createComputedFromObject(n.data,"session_id",null),n.myself=l.default.observable(null),n.owners=l.default.observableArray([]),n.visitor=l.default.observable(null),n.users=h.default.createReadableComputed(function(e){if(n.app.myself()){var t=n.chat_users(),i=e.peek(),a=n.app.myself();n.app.__last_agents=[];for(var s in t){var o=t[s],l=a.type==o.type&&parseInt(a.id)===parseInt(o.id_real);if("active"==o.status){o.owner&&0>n.owners.peek().indexOf(o.id)&&n.owners.push(o.id);var c=!1;if(l)n.myself()&&n.myself().data.peek().id==o.id_real&&(c=!0);else for(var u=r.m(i),d=u.next();!d.done;d=u.next())(d=d.value).data&&d.data.peek&&d.data.peek().id==o.id_real&&d.type==o.type&&(c=d);"agent"==o.type&&"active"==o.status&&n.app.__last_agents.push(o),c||(l?n.myself("agent"==o.type?n.getAgent(o.id_real,!1):n.getVisitor(o.id_real)):"agent"==o.type&&n.getAgent(o.id_real,!1)?e.push(n.getAgent(o.id_real,!1)):"visitor"==o.type&&n.getVisitor(o.id_real)&&e.push(n.getVisitor(o.id_real)))}}for(d=(i=r.m(i)).next();!d.done;d=i.next()){a=d.value,s=!1;for(var f in t)t[f].id_real==a.data().id&&(s=!0);s||e.remove(a)}}},[]),n.chat_users.subscribe(function(){n.thread()&&n.thread().manager.loadVisitorThreads(),"frontend"==n.app.type&&n.app.updateChatAgents()}),n.conference_mode=l.default.observable(!!window.acq_conference_mode),n.loadedHistory=l.default.observable(!1),n.loadingMessages=l.default.observable(!1),n.active=l.default.observable(!1),n.typingText=l.default.observable(),n.loadShortCut=!0,n.afterchat_form_display=l.default.observable(!1);var i=n.app.form_settings().chat_wait_time;e=!!n.app.form_settings().after_chat_notification_visible&&n.app.form_settings().after_chat_notification_visible,(!i&&""!==i||0>i)&&(i=10);var a=n.app.availableAgents()&&0<n.app.availableAgents().length?n.app.availableAgents().length:"0";if("pending"==n.data().status&&0<a&&"bot"!=n.data().type&&e&&n.app&&"frontend"==n.app.type&&n.app.threadManager().online_after_chat_form_edits()&&0<n.app.threadManager().online_after_chat_form_edits().length){var s=0,u=setInterval(function(){s>parseInt(i)&&n.afterchat_form_display&&(clearInterval(u),n.afterchat_form_display(!0),n.thread().scrollToBtm()),s++},1e3);n.on("dispose",function(){clearInterval(u)})}n.isSuggested=l.default.observable(!0),n.setSuggVisible=function(e){1==e?n.isSuggested(e):setTimeout(function(){n.isSuggested(e)},150)},n.isChatbotActive=l.default.observable(!1),n.isFeedbackActive=l.default.observable(!1),n.chooseBtnOnlyActive=l.default.observable(!1),n.isSuggestionActive=l.default.observable(!1),n.suggestedQue=l.default.observable(null),n.suggestedQueIndex=l.default.observable(0),n.suggestedQueSel=l.default.observable(null),n.stop_timer=l.default.observable(null),n.init_visitor_name=l.default.observable(""),n.init_visitor_email=l.default.observable(""),n.init_visitor_phone=l.default.observable(""),n.init_visitor_message=l.default.observable(""),n.visitor_name=l.default.observable(""),n.visitor_email=l.default.observable(""),n.translateX=l.default.observable("0"),n.visitor_phone=l.default.observable(""),n.ask_to_visitor_title=l.default.observable(""),n.ask_to_visitor_popup=l.default.observable(!1),n.track_first_msg=l.default.observable(!0),n.track_first_msg_agent=l.default.observable(!0),n.finalData=l.default.observableArray([]),n.ask_to_visitor_popup.subscribe(function(){n.thread().scrolltoBottom(!0),setTimeout(function(){n.thread().scrolltoBottom(!1)},1)}),n.messages.subscribe(function(){(n.thread()&&n.thread().data().typed_msg||"")!=n.typingText()&&n.typingText(null),n.track_first_msg_agent()&&("frontend"!=n.app.type||"09a05"!=n.app.account().uid&&"62019"!=n.app.account().uid||n.getVisitorMsg("agent",function(e){0<e.length&&(1==e.length&&n.app.trackSamsungEvents("button","floating chat:agent first message",e.sender_id),n.track_first_msg_agent(!1))})),n.track_first_msg()&&("frontend"!=n.app.type||"09a05"!=n.app.account().uid&&"62019"!=n.app.account().uid||n.getVisitorMsg("visitor",function(e){0<e.length&&(1==e.length&&n.app.trackSamsungEvents("button","floating chat:customer first message"),n.track_first_msg(!1))}))}),n.translate_to(n.data().translate_to),n.translate_form_show(n.data().translate_form_show),n.translate_mode(n.data().translation_mode),n.translate_mode()&&n.translate_form_show(!0),n.account_translate_language(n.data().account_translate_language);var f=!1;if(n.data.subscribe(function(){!n.data()||"pending"!=n.data().status||"audio"!=n.data().type&&"video"!=n.data().type||n.data.subscribe(function(){n.data()&&"active"==n.data().status&&n.rtcroom(function(e){e.myself()&&!f&&(f=!0,e.myself().startRTCCall("video"==n.data().type,null,!0))})})}),"frontend"==n.app.type){var m=l.default.observable(0),v=Date.now(),y=setInterval(function(){m(m()+Math.ceil((Date.now()-v)/1e3)),v=Date.now()},1e4);n.on("dispose",function(){y&&clearInterval(y)}),n.ahead_chats=l.default.computed(function(){return n.data().ahead_chats?n.data().ahead_chats:0});var b=n.data().ahead_time;n.ahead_time=l.default.computed(function(){if(b===n.data().ahead_time)var e=n.data().ahead_time-m();else b=n.data().ahead_time,e=n.data().ahead_time;return 3600<e?n.app.getTransMsg("{time} hours",{time:Math.round(e/3600,1)}):60<e?n.app.getTransMsg("{time} minutes",{time:Math.round(e/60,1)}):2>e?" "+n.app.getTransMsg("only a few seconds"):n.app.getTransMsg("{time} seconds",{time:Math.round(e)})})}return n.cobrowse=h.default.asyncDependency(function(e){n.app.p2p(null),n.app.frameMananger(null);var t=c.default.trackTimeEvent("modules","cobrowse");o.e(0).then(function(){var i=[o(90)];(function(i){n.app&&n.app.p2p&&n.app.p2p(function(a){t(),a=new i.default(n,a),e(a)})}).apply(null,i)}).catch(o.oe)}),n.app.clientStorage.get("cobrowse_"+n.id+"_state_"+n.app.type,null,function(e){(e=e?p.parse(e):null)&&e.type&&n.cobrowse(null)},g.default.TYPE_TAGOVE),n.rtcroom=h.default.asyncDependency(function(e){n.app.p2p(null),n.app.frameMananger(null),n.app.virtual_user||o.e(1).then(function(){var t=[o(177)];(function(t){n.app&&n.app.p2p?n.app.p2p(function(i){i=new t.default(n,i),e(i)}):e(null)}).apply(null,t)}).catch(o.oe)}),n.rtcroom(null),n.conference_mode()&&n.rtcroom.subscribe(function(e){var t=function(e){var t=function(e){"standby"!==e&&n.app.popUpMananger().sections.push("rtcroom")};n._myself_rtc_subs=e.status.subscribe(t),t(e.status())};n._myself_rtc_sub=e.myself.subscribe(t),e.myself()&&t(e.myself())}),n.__modules=h.default.createComputedFromObject(n.data,"params.modules"),e=function(){if(n.__modules())for(var e in n.__modules())n.__modules()[e]&&(n.app&&n.app.p2p&&n.app.p2p(function(e){e.start()}),n[e](null))},n.__modules.subscribe(e),e(),"frontend"!=n.app.type||"video"!=t.type&&"audio"!=t.type||"pending"!==t.status||setTimeout(function(){"1"==n.app.account().settings.auto_minimize_chat_media_calls&&(n.thread()&&(n.thread().view(),n.thread().loadingThreadMessages(!0),n.__csub12323=n.thread().loadingThreadMessages.subscribe(function(){"pending"===n.data().status&&n.thread().loadingThreadMessages(!0),n.__csub12323&&n.__csub12323.dispose()}),n.__csub12=n.data.subscribe(function(){"pending"!==n.data().status&&(n.thread()&&n.thread().loadingThreadMessages(!1),n.__csub12&&n.__csub12.dispose())})),n.rtcroom(function(e){n.__temp_23492=e.incall.subscribe(function(){if(e.incall())if(0<=window.location.href.indexOf("iostest")||navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)){var t=function(){var t=e.users()[0];n.__temp_2535492&&n.__temp_2535492.dispose(),n.__temp_2535492=t.stream.subscribe(function(){var e=t.stream();e&&e.rtc&&(setTimeout(function(){acquireIO.min()},100),n.__temp_2535492.dispose())})};e.users().length?t():(n.__temp_2556442&&n.__temp_2556442.dispose(),n.__temp_2556442=e.users.subscribe(function(){e.users().length&&(t(),n.__temp_2556442.dispose())}))}else acquireIO.min();else acquireIO.max();0<=["8f14f","d93c6","5d03c","41953"].indexOf(acquireIO.accountId)&&n.$call("updateCallState",[e.incall()])})})),0<="8f14f d93c6 5d03c 41953 ba80f fc385".split(" ").indexOf(acquireIO.accountId)&&("pending"===n.data().status&&n.addMessage({id:n.custome_chat_id++,chat_id:t.chat_id,sender_type:"system",sender_id:null,type:"message",date_created:t.date_created,message:n.app.getTransMsg(n.app.default_text.online_chat_event_message),seen:"seen"},!1),setTimeout(function(){"pending"===n.data().status&&n.addMessage({id:n.custome_chat_id++,chat_id:n.data().chat_id,sender_type:"system",sender_id:null,type:"message",date_created:t.date_created,message:n.app.getTransMsg("Agents might be busy at this moment, please wait for a little more, we'll attend your call soon."),seen:"seen"},!1)},15e3))},1e3),n},r.i(e,d.default.SO),e[t].connectP2P=function(e,t){(t={params:{modules:{}}}).params.modules[e]=!0,this.data(t),this.$call("data",[t])},e[t].stopSalesbotFeedback=function(e){e&&this.thread()&&this.thread().skip_feedback(!0)},e[t].closeChatForce=function(){this.app&&this.app.socket&&this.app.socket.emit("chat_end",this.data().id)},e[t].close=function(){this.active&&this.active(!1)},e[t].onDispose=function(){this.rtcroom()&&(this.rtcroom().trigger("dispose"),this.rtcroom.forceChange(null)),this.cobrowse()&&(this.cobrowse().trigger("dispose"),this.cobrowse.forceChange(null)),d.default.SO[t].onDispose.call(this)},e[t].focus=function(){this.app.maxM()},e[t].params=function(e){e=void 0===e?{}:e,this.$call("data",{params:e})},e[t].getLocationUrl=function(e){this.app&&this.app.theFrame&&this.app.theFrame()&&this.app.theFrame().window?e(this.app.theFrame().window.location.href):e(window.location.href)},e[t].openChat=function(){},e[t].isVisible=function(){return!0},e[t].getAgent=function(e,t){return this.app.getAgent(e,void 0===t||t)},e[t].getVisitor=function(e){return this.app.getVisitor(e)},e[t].getTitle=function(){return this.data()&&this.data().visitor&&this.data().visitor.name&&""!=this.data().visitor.name?this.data().visitor_name:this.data().id},e[t].broadcast=function(e,t,n,a){n=void 0===n?[]:n,i!==typeof(a=void 0===a?null:a)&&(a=null),this.$call("broadcast",[e,t,n,a])},e[t].onBroadCast=function(e,t,i,a){var s=this;if(this.app)if("screen_request"==t)t=function(){s.rtcroom()&&s.rtcroom().myself()&&s.rtcroom()&&s.rtcroom().myself().startScreenShare()},i?t():m.default.confirm(this.app.getTransMsg("Allow screen share"),this.app.getTransMsg("Please click 'ok' to begin sharing your screen with the operator."),t,function(){s.broadcast("screen_response",!1,[e])});else if("redirect_request"==t)0!==i.indexOf("https://")&&0!==i.indexOf("http://")&&(i=window.location.protocol+"//"+i),t=document.createElement("a"),t.href=i,t.host==window.location.host?this.app.theFrame()&&this.app.theFrame().window?this.app.theFrame().window.location.href=i:window.location.href=i:(t=window.open(i,"_blank"))&&t.focus();else if("screenshot_request"==t){var l=this;o.e(8).then(function(){var e=[o(324)];(function(e){e.default(window.document.body,{onrendered:function(e){(e=e.toDataURL("image/png"))&&l.broadcast("screenshot_file",e)}})}).apply(null,e)}).catch(o.oe)}else if("speedtest_request"==t)c.default.get().getSpeedTest(function(e){e.takeFullSpeedTest(function(e,t){s.broadcast("speedtest_result",{result:e,final:void 0!==t&&t})})});else if("ask_to_visior"==t){this.finalData=i.data,n===typeof this.app.onlineExtraFields().find(function(e){return"online_phone_text"===e.name})&&this.app.onlineExtraFields.unshift({type:"text",isSelected:!1,value:this.thread().manager.visitor_phone,label:this.app.form_settings().online_phone_text,require:"required"==this.app.form_settings().online_phone_req,name:"online_phone_text"}),n===typeof this.app.onlineExtraFields().find(function(e){return"online_email_text"===e.name})&&this.app.onlineExtraFields.unshift({type:"text",isSelected:!1,value:this.thread().manager.visitor_email,label:this.app.form_settings().online_email_text,require:"required"==this.app.form_settings().online_email_req,name:"online_email_text"}),n===typeof this.app.onlineExtraFields().find(function(e){return"online_name_text"===e.name})&&this.app.onlineExtraFields.unshift({type:"text",isSelected:!0,value:this.thread().manager.visitor_name,label:this.app.form_settings().online_name_text,require:"required"==this.app.form_settings().online_name_req,name:"online_name_text"}),t={};for(var u=r.m(this.app.onlineExtraFields()),d=u.next();!d.done;t={v:t.v},d=u.next()){if(t.v=d.value,t.v.isSelected=!1,"checkbox-group"==t.v.type&&n!==typeof t.v.values){var h=(t.v.value()||"").split(","),g=[],v=r.m(t.v.values);for(d=v.next();!d.done;d=v.next())d=d.value,g.push({label:d.label,value:d.value,selected:-1!==h.indexOf(d.value)});t.v.values=g}if("checkbox-group"==t.v.type&&n!==typeof t.v.values){for(h=(t.v.value()||"").split(","),g=[],d=(v=r.m(t.v.values)).next();!d.done;d=v.next())d=d.value,g.push({label:d.label,value:d.value,selected:-1!==h.indexOf(d.value)});t.v.values=g}n!==typeof this.finalData&&n!==typeof this.finalData.find(function(e){return function(t){return t.name===e.v.name}}(t))&&(t.v.isSelected=!0)}for(t={},d=(u=r.m(this.app.offlineExtraFields())).next();!d.done;t={v$262:t.v$262},d=u.next())t.v$262=d.value,t.v$262.isSelected=!1,n!==typeof this.finalData&&n!==typeof this.finalData.find(function(e){return function(t){return t.name===e.v$262.name}}(t))&&(t.v$262.isSelected=!0);this.ask_to_visitor_popup(i.checkValue),t=this.data()&&this.data().details?this.data().details.name:null,u=this.data()&&this.data().details?this.data().details.email:null,d=this.data()&&this.data().details?this.data().details.phone:null,h=this.app.getTransMsg(this.app.default_text.ask_to_visitor_title),this.visitor_name(t),this.visitor_email(u),this.visitor_phone(d),this.ask_to_visitor_title(h)}else"suggestionList"==t?(this.suggestedQue(null),this.suggestedQueSel(null),this.suggestedQueIndex(0),this.suggestedQue(i)):"is_chatbot_activate"==t?this.isChatbotActive&&this.isChatbotActive(i):"isBotFeedbackActivate"==t?this.isFeedbackActive(i):"chooseBtnOnly"==t?(t=this.thread().inputArea().querySelector(".textarea"))&&(i?t.blur():t.focus(),this.chooseBtnOnlyActive(i)):"stopSalesbotFeedback"==t?this.stopSalesbotFeedback(i):"isBotSuggestionActive"==t?this.isChatbotActive&&this.isSuggestionActive(i):"chatbotRelatedQues"==t?this.addVirtualMessage("bubbles_message",i,!0):"chatbotCards"!=t&&"imgOnly"!=t&&("benefit_redirect_request"==t?(t=window.open("","BenefitWindow","toolbar=no,location=no,menubar=no,resizable=no,scrollbars=no,width=450,height=400"),t.document.title="BenefitWindow",t.document.write("<html><head><title>BenefitWindow Platform</title><meta name='viewport' content='width=device-width,initial-scale=1'><style>body {font-family: Arial, Helvetica, sans-serif;}* {box-sizing: border-box;}.chat-popup { border: 3px solid #969bff; margin-bottom: 15px;}.form-container { max-width: 100%; padding: 10px; background-color: white; }.form-container .messages { padding: 15px; }.form-container .messages .msg-container{ width: 100%; display: inline-block; padding: 5px 0; }.form-container .messages .msg-container .msg{ width: 70%; background: #e6ecf0; border-radius: 4px; padding: 6px;font-size: 13px; }.form-container .messages .msg-container .msg.agent{ float:left; }.form-container .messages .msg-container .msg.me{  float:right; }.form-container .bottom { width: 100%; display: inline-block; padding: 15px; }.form-container .bottom input { width: 80%; float:left; padding: 15px; border: none; background: #f1f1f1; border-radius: 4px 0 0 4px;}.form-container .bottom input:focus { background-color: #ddd; outline: none; }.form-container .bottom .btn { background-color: #0265ff;float:left;color: white; border-radius: 0 4px 4px 0;padding: 15px 20px; border: none; cursor: pointer; width: 20%; margin-bottom:10px; opacity: 0.8;}</style></head><body><div class='chat-popup' id='myForm'><div class='form-container'><h2>BenefitFocus <> Acquire Bot</h2><div class='messages'><div class='msg-container'><div class='msg agent'><span>Welcome to BenefitFocus benefits service center, is there anything I can help you with today?</span></div></div><div class='msg-container'><div class='msg me'><span>Hi</span></div></div><div class='msg-container'><div class='msg agent'><span>Hello there.</span></div></div><div class='msg-container'><div class='msg me'><span>How are you?</span></div></div></div><div class='bottom'><input placeholder='Type message..' name='msg' required /><button type='submit' class='btn'>Send</button></div></div></div><div style='width:100%;display:inline-block;'><code>"+p.stringify(i,null,"\t")+"</code></div></body></html>"),t&&t.focus()):"get_notified_popup"==t?!1===this.thread().manager.collect_visitor_data()?(this.thread().manager.collect_visitor_data(!0),setTimeout(function(){var e=null;"sales-bot"==i&&(e=1),s.waitForAgent(e,function(){a&&a()})},500)):(this.addVirtualMessage("message",this.app.getTransMsg(this.app.default_text.offline_thankyou)),a&&a()):"call_upgrade_request"==t&&f.default.safeType(i,"Object")&&0<Object.keys(i).length&&(i.chat_id=this.data().id,this.app.call_upgrade_request_config(i),this.app.openAudioRequest()))},e[t].uiRequired=function(){return!0},e[t].typed=function(e,t){var n=this;if(this&&this.typingText&&"active"==this.data().status&&(this.typingText(this.app.filterTransMsg(this.checkSSN(e),"system")),0<t))var i=this._typedLastTimer=setTimeout(function(){n._typedLastTimer==i&&n.typingText(null)},t)},e[t].update_thread=function(e){e=void 0===e?{}:e,this.thread&&this.thread()&&this.thread().manager.processThread(this.thread().data().thread_id,e)},e[t].getAccountLanguage=function(e){e(null,this.app.account().settings.language)},e[t].tranlateMessage=function(e,t,n){this.translate_mode()&&0!==e.indexOf("####****")?this.$call("translateChatMessage",[e,t,function(e){n(e,!0)}]):n(e,!1)},e[t].waitForAgent=function(e,t){var i=this;e=void 0===e?null:e,t=void 0===t?null:t,this.stop_timer=null;var a=this.app.form_settings().offline_data_collect_delay||1;null!=e&&(a=e);var r=0;if("on"==this.app.form_settings().offline_email&&(n===typeof this.app.userDetails().email||""===this.app.userDetails().email)||"on"==this.app.form_settings().offline_phone&&(n===typeof this.app.userDetails().phone||""===this.app.userDetails().phone))var s=setInterval(function(){r>a&&(clearInterval(s),n!==typeof i.app&&(i.app.threadManager().findThreadByPK(i.data().thread_id,i.data().session_id)&&"offline"==i.app.chat_form_type()&&i.addVirtualMessage("message",i.app.getTransMsg(i.app.default_text.offline_agents)),i.typingText(null)),t&&t()),r++},1e3);else"active-offline-chat"==this.data().status&&(e=this.app.getTransMsg(this.app.default_text.offline_chat_event_message),this.addVirtualMessage("message",e)),f.default.safeType(this.data().users,"Object")&&-1!=Object.values(this.data().users).map(function(e){return 0>e.id_real}).indexOf(!0)&&this.addVirtualMessage("message",this.app.getTransMsg(this.app.default_text.offline_thankyou)),t&&t()},e[t].addVirtualMessage=function(e,t,n){e=void 0===e?"message":e,n=void 0!==n&&n;var i=f.default.toMysqlTime(new Date),r="agent",s=this.app.getTransMsg("Support team"),o=null,l=null;if(-1<["bubbles_message","cards_message","img-only"].indexOf(e)){var c=null;try{c=p.parse(t)}catch(e){}if(c&&a===typeof c)if(r="bot",s=c.author?c.author:author,o=c.author_id?c.author_id:null,l=c.author_photo?c.author_photo:null,i=c.time?c.time:i,"bubbles_message"===e)e="bubbles",t=c.message?c.message:t;else if("cards_message"===e){e="cards";try{t=c.message?p.parse(c.message):""}catch(e){t=c.message?c.message:""}}else if("img-only"===e){e="img-only";try{t=c.message?p.parse(c.message):""}catch(e){t=c.message?c.message:""}}}t&&(n||"message"!==e)&&this.addMessage({id:this.custome_chat_id++,chat_id:this.data().chat_id,sender_type:r,sender_id:o,type:e,date_created:i,message:t,user:{id:o?-1*o:null,type:r,name:s,photo:l},seen:"unseen"},!1),"message"!=e||n||this.sendOfflineMessage(t,"message","Bot")},e[t].botMessageFeedback=function(e){null!=(e=void 0===e?null:e)&&this.$call("botMessageFeedback",[e])},e[t].submitVirtualMessage=function(e){this.$call("passVirtualMessageToBot",[void 0===e?"":e])},e[t].submitMessage=function(e,t,n,i){var a=this;n=void 0===n?"":n;var s=i=void 0===i?"":i;if(e=null,"1"===this.app.settings().supbot_front_suggestion_bubble&&b(function(){a.$call("getSuggestedBotData",[""])}),!s)if("string"==typeof t)s=t;else{if(n?e=t.currentTarget||t.target:(s=t.currentTarget||t.target,(e=(0,y.parentBySelector)(s,".message-input").querySelector(".textarea"))&&(e=(0,y.parentBySelector)(s,".send-box").querySelector(".textarea"))),13==t.keyCode&&!t.shiftKey&&"DIV"==e.nodeName&&(t=e.querySelectorAll("tgv-block"))&&0<t.length)for(t=r.m(t),s=t.next();!s.done;s=t.next()){s=s.value;var o={};o.block=s.getAttribute("data-block"),o.type=s.getAttribute("data-type"),o.block_id=s.getAttribute("data-block_id"),o.text=s.getAttribute("data-text"),s.innerText="####****"+p.stringify(o)+"####****"}s=this.thread().getTargetValue(e)}if(""!=(s||"").trim()){if(""!==s)if(s=this.checkSSN(s),"sugg_passed"==n&&(t=this.thread().inputArea().querySelector(".textarea"))&&(this.thread().setTargetValue(t,""),b(function(){a.$call("getSuggestedBotData",[""])})),"active-offline-chat"==this.data().status)this.sendOfflineMessage(s,"message","visitor");else{var l="en";"agent"==this.app.myself().type&&(l=this.translate_to()),"visitor"==this.app.myself().type&&(l=this.account_translate_language());var c=s;this.tranlateMessage(c,l,function(e,t){t?(e="#TRANSLATED#:"+p.stringify({message:c,translated_text:e,translated_language:l}),e=v.default.sanitize(e),a.$call("addMessage",["message",e])):(c=v.default.sanitize(c),"do_custom_task"==n||"do_default_task"==n?a.$call("addMessage",[n,c]):a.$call("addMessage",["message",c]))}),this.textMessage&&(this.textMessage(""),this.voiceTypingText=""),i||this.thread().setTargetValue(e,"")}return i||this.thread().setTargetValue(e,""),!0}},e[t].sendOfflineMessage=function(e,t,i,a){var s=this;a=void 0===a?[]:a;var o=this.app.threadManager&&this.app.threadManager()&&this.app.threadManager().active_thread()?this.app.threadManager().active_thread().data().thread_id:-1,l=this.app.selected_agent();0<location.href.indexOf("offline_message_log")&&console.error(Error().stack);var c=[];if(-1==this.data().id&&this.app.offlineExtraFields()&&this.app.offlineFieldsVisibility()&&0<this.app.offlineExtraFields().length)for(var u=r.m(this.app.offlineExtraFields()),d=u.next();!d.done;d=u.next())if("checkbox-group"==(d=d.value).type){for(var h=[],g=r.m(d.values),v=g.next();!v.done;v=g.next())(v=v.value).selected&&h.push(v.value);0<h.length&&(h=h.join(","),c.push({n:d.name,v:h}))}else d.value&&""!=d.value()&&c.push({n:d.name,v:d.value()});u=null,0<c.length&&(u=p.stringify({custom_field:c})),-1==this.data().id&&this.app.chat_start_wait(!0),this.app.socket.emit("offline_message",{agent:l,chat_id:this.data().id,message:e,type:t,thread_id:o,page:window.location.href,remarks:"",user:i,fields:u,pre_messages:a},function(e,t,a,l,c,u,d){if(u=void 0===u?[]:u,s.app.chat_start_wait(!1),e)m.default.alert("Error",""+e);else{if(s.data({id:a,session_id:n!=typeof d&&d?d:s.app.myself().id},!1),s.app.myself&&f.default.safeType(s.app.myself().o_chat,"Object")&&(s.app.myself().o_chat[l]=a),-2==o&&(s.app.threadManager().active_thread().threadMessages([]),s.app.threadManager().active_thread()._data().thread_id=l,s.app.threadManager().active_thread()._data.valueHasMutated(),s.data({thread_id:l},!1),s.app.threadManager().active_thread().inputAreaValue("")),null!=c&&s.addMessage(c),u&&0<u.length)for(e=r.m(u),t=e.next();!t.done;t=e.next())s.addMessage(t.value);s.app.init_message(""),"visitor"===i&&!1===s.thread().manager.collect_visitor_data()&&(s.thread().manager.collect_visitor_data(!0),setTimeout(function(){s.waitForAgent()},500))}})},e[t].detectLanguage=function(){var e=this;0<this.thread().allMessages().length&&!this.translate_mode()&&this.getAllVisitorMsg(function(t){0<t.length&&e.$call("detectMessageLanguage",[(0,t[t.length-1])().message,function(t,n){t?console.log(n):(e.translate_to(n.toLowerCase()),e.detect_language_flag(!0))}])})},e[t].chatLanguageUpdate=function(){this.$call("update_chat_language",[this.translate_to()])},e[t].translate_show=function(e){var t=this;"translated"==e?(this.translate_mode(!0),this.getGoogleTranslationLanguages(function(e){t.account_translate_language(e),t.$call("update_translate_mode",[!0,e]),t.$call("updateAccountLanguage",[e])})):(this.translate_mode(!1),this.$call("update_translate_mode",[!1,this.account_translate_language()]));for(var n=r.m(this.messages()),i=n.next();!i.done;i=n.next())"system"!==(i=i.value)().sender_type&&"agent"!==i().sender_type&&(i().translation_mode=e,this.updateMessage(i().id,i()))},e[t].update_translate_mode=function(e,t){for(var n=r.m(this.messages()),i=n.next();!i.done;i=n.next())(i=i.value)().id==e&&(i().translation_mode=t,this.updateMessage(i().id,i()))},e[t].getAllVisitorMsg=function(e){var t=[];if(this.thread().allMessages())for(var n=r.m(this.thread().allMessages()),i=n.next();!i.done;i=n.next())"visitor"!=(i=i.value)().sender_type||"message"!=i().type&&"translated"!=i().type||t.push(i);e(t)},e[t].getVisitorMsg=function(e,t){var n=[];if(this.thread().allMessages())for(var i=r.m(this.thread().allMessages()),a=i.next();!a.done;a=i.next())(a=a.value)().sender_type==e&&"message"==a().type&&n.push(a());t(n)},e[t].checkSSN=function(e){if(e&&n!=typeof this.app.settings().check_ssn&&n!=typeof this.app.settings().social_security_number&&"1"==this.app.settings().check_ssn&&this.app.settings().social_security_number){var t=this.app.settings().social_security_number.split("\n");if(t)try{for(var i=e,a=r.m(t),s=a.next();!s.done;s=a.next()){var o=RegExp(s.value.trim(),"gim");t="x";var l=i.match(o);l&&(l=l[0],t=l.replace(/\d/gim,"x")),i=i.replace(o,t)}e=i}catch(e){}}return e},e[t].checkMsgTyped=function(e,t){var i=this,s=t.target,o=this.thread().getTargetValue(s);if(13!==t.keyCode&&this&&this.data&&"active-offline-chat"!=this.data().status&&setTimeout(function(){i.$call("typed",[o]),i.thread()&&i.thread().data(Object.assign({},i.thread().data(),{typed_msg:o}))},1),"1"===this.app.settings().supbot_front_suggestion_bubble&&(13!==t.keyCode&&38!==t.keyCode&&40!==t.keyCode&&"active-offline-chat"!=this.data().status?b(function(){setTimeout(function(){i.$call("getSuggestedBotData",[o.replace(/[&\/\\#,+()$~%.'":;*?<>{}[\]=_\-^@!`|]/g,"")])},1)}):13===t.keyCode&&b(function(){i.$call("getSuggestedBotData",[""])})),this.suggestedQue()&&0<this.suggestedQue().length&&38===t.keyCode?(this.suggestedQueIndex(this.suggestedQueIndex()-1),0>this.suggestedQueIndex()&&this.suggestedQueIndex(this.suggestedQue().length-1),this.suggestedQueSel(this.suggestedQue()[this.suggestedQueIndex()])):this.suggestedQue()&&0<this.suggestedQue().length&&40===t.keyCode&&(this.suggestedQueIndex(this.suggestedQueIndex()+1),this.suggestedQue().length<=this.suggestedQueIndex()&&this.suggestedQueIndex(0),this.suggestedQueSel(this.suggestedQue()[this.suggestedQueIndex()])),""==o&&(this.voiceTypingText=""),""!==o&&(this.voiceTypingText=o),13==t.keyCode){if(""==o)return;if(this.suggestedQue()&&this.suggestedQueSel()&&(o=this.suggestedQueSel().question),n!=typeof this.suggestedQue()&&null!=this.suggestedQue()&&0!=this.suggestedQue().length&&this.suggestedQue(null),t.shiftKey)return!0;if("active-offline-chat"!=this.data().status){if(""===o||!o)return!0;if("backend"==this.app.type&&(e=(0,y.parentBySelector)(s,".chat-pop-box").querySelectorAll(".atwho-view")))for(e=r.m(e),t=e.next();!t.done;t=e.next())if("block"==t.value.style.display)return!0;var l="en";"agent"==this.app.myself().type&&(l=this.translate_to()),"visitor"==this.app.myself().type&&(l=this.account_translate_language());var c=o;c=this.checkSSN(c),this.tranlateMessage(c,l,function(e,t){if(t){var n="#TRANSLATED#:"+p.stringify({message:c,translated_text:e,translated_language:l});n=v.default.sanitize(n),i.$call("addMessage",["message",n])}else if("standard"==i.app.settings().widget_theme){if((e=(c||"").split("####****"))&&0<e.length)for(e=r.m(e),t=e.next();!t.done;t=e.next())if(""!=(t=t.value).trim())try{if(n=p.parse(t)){if(a!=typeof n)throw"Not a json object";t=v.default.sanitize(t),i.$call("addMessage",["tpl",t])}else t=v.default.sanitize(t),i.$call("addMessage",["message",t])}catch(e){t=v.default.sanitize(t),i.$call("addMessage",["message",t])}}else c=v.default.sanitize(c),i.$call("addMessage",["message",c])}),this.textMessage&&(this.textMessage(""),this.voiceTypingText="")}else this.submitMessage(e,t,"1");return this.thread().setTargetValue(s,""),!1}return!0},e[t].scrollAlwaysBottom=function(){},e[t].addSelfMessage=function(e){e=(0,y.extendObject)({},{chat_id:this.data().id,sender_type:this.app.myself().type,sender_id:this.app.myself().id,date_created:f.default.toMysqlTime(),message:null==e.message?"":e.message},e),this.addMessage(e)},e[t].updateMessage=function(e,t){for(var n=!1,i=r.m(this.messages()),a=i.next();!a.done;a=i.next())(a=a.value)().id==e&&(n=a);if(null===t)return this.messages.remove(n);n&&n((0,y.extendObject)({},n(),t))},e[t].filterMsg=function(e){return this.app.filterMsg(e)},e[t].getGoogleTranslationLanguages=function(e){var t={ar:"ar","en-US":"en","zh-CN":"zh-cn",nl:"nl",fi:"fi",fr:"fr",de:"de",el:"el",id:"id",it:"it",ja:"ja",jw:"jw",ko:"ko",mn:"mn",no:"no",pl:"pl","pt-PT":"pt",ro:"ro",ru:"ru",es:"es",th:"th",tr:"tr",vi:"vi"};localStorage.getItem("_web_lang")&&t.hasOwnProperty(localStorage.getItem("_web_lang"))?e(t[localStorage.getItem("_web_lang")]):e("en")},e[t].setTranslateLanguage=function(e){this.translate_mode()||(this.translate_to(e),this.translate_form_show(!0))},e[t].update_translating_mode=function(e){this.translate_mode(e)},e[t].updateAccountLanguage=function(e){this.account_translate_language(e)},e[t].update_chat_message=function(e,t){this.thread()&&this.thread().updateMessage(e,t)},e[t].addMessage=function(e,t){if(t=void 0!==t&&t,this.app){if("sms"==this.data().type&&("message"==e.type||"sms"==e.type)&&(e.type="sms","agent"==e.sender_type&&this.app.myself().id==e.sender_id)){for(var n={},i=this.app.voipDefualtNumber(),a=this.data().details.meta.split(";"),r=0;r<a.length;r++){var s=a[r].trim().split(":");n[s[0].trim()]=s[1]}n.incoming_sms_voip_number&&(i=n.incoming_sms_voip_number),this.app.sendmessage(!0,e.message,this.visitor_phone()?this.visitor_phone():n.from_number,i,e.id)}this.addMessage2(e,t),"frontend"==this.app.type&&"agent"==this.data().initiator&&"system"!==e.sender_type&&(this.thread()?this.thread().view():this.app.threadManager().loadVisitorThreads(null,null,this.data().thread_id),this.app.ui.status("max")),this.thread()&&("system"!=e.sender_type&&"message"==e.type&&e.sender_type+"-"+e.sender_id!=this.app.myself().type+"-"+this.app.myself().id&&(this.thread().data().unseen_count++,"frontend"==this.app.type&&this.app.instant_chat_msgs_closed([])),this.thread().addThreadMessage(e,t),this.thread().scrollToBtm())}},e[t].addMessage2=function(e,t){var n=this;if(t=void 0!==t&&t,this.app){for(var i=!1,a=r.m(this.messages()),s=a.next();!s.done;s=a.next())(s=s.value)().id==e.id&&(i=!0);if(!i){if(e.message&&""!=e.message&&"file"==e.type)try{var o=p.parse(e.message);e=(0,y.extendObject)({},e,o)}catch(e){}if(e.message&&-1<["bubbles","cards","img-only"].indexOf(e.type))try{e.message=p.parse(e.message)}catch(e){}if("message"==e.type&&e.message&&0===e.message.indexOf("#TRANSLATED#:")){e.message=e.message.replace("#TRANSLATED#:","");try{var c=p.parse(e.message);(e=(0,y.extendObject)(e,c)).type="translated"}catch(e){}}if(i=this.translate_mode()&&"visitor"==e.sender_type&&"backend"==this.app.type?"translated":"agent"==e.sender_type&&"frontend"==this.app.type?"translated":"orignal",i=l.default.observable((0,y.extendObject)({},{id:"",chat_id:"",sender_type:"",sender_id:"",type:"",date_created:"",message:"",user:{name:"",photo:null},translation_mode:i},e)),"visitor"==e.sender_type&&(i().user.photo=u.default.mediaDefaultVisitorPhoto),t?(0<this.messages().length&&"message"==i().type&&"message"==this.messages()[0]().type&&(this.messages()[0](),i()),this.messages.unshift(i)):(0<this.messages().length&&"message"==i().type&&"message"==this.messages()[this.messages().length-1]().type&&(this.messages()[this.messages().length-1](),i()),this.messages.push(i)),setTimeout(function(){n.typingText&&n.typingText("")},5e3),"frontend"==this.app.type){if(a=!1,this.app.onlineAgents&&0<this.app.onlineAgents().length)for(o=r.m(this.app.onlineAgents()),c=o.next();!c.done;c=o.next())"bot"==c.value.data().type&&(a=!0);a||t||!this.thread()||0!=this.thread().currentChatMsgCounter||"message"!=i().type||"active-offline-chat"===this.data().status||setTimeout(function(){"video"!=n.data().type&&"audio"!=n.data().type&&n.addMessage({id:n.custome_chat_id++,chat_id:n.data().chat_id,sender_type:"system",sender_id:null,type:"event",date_created:e.date_created,message:n.app.getTransMsg(n.app.default_text.online_chat_event_message),seen:"seen"},!1)},500)}}}},e[t].transferChatToAgents=function(){this.$call("transferChatToAgents",[null,!0])},e[t].saveVisitorData=function(e){var t=this,n=(this.visitor_name()||"").trim(),i=(this.visitor_email()||"").trim(),a=(this.visitor_phone()||"").trim(),r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,s=/^(\+?\d{1,3}[- ]?)?(\([0-9]{3}\)[ ]?|[0-9]{3}[- ]?)[0-9]{3}[- ]?[0-9]{1,4}([x]\d{1,10})?$/;setTimeout(function(){n&&i&&a?r.test(i)?s.test(a)?setTimeout(function(){t.$call("updateVisitorInfo",[{name:n,email:i,phone:a},function(e,n){if(e)return m.default.alert("Update Error",e);t.ask_to_visitor_popup(!1),t.broadcast("response_ask_to_visitor",!0)}])},300):m.default.alert(t.app.getTransMsg("Validation Failed"),t.app.getTransMsg("Please enter a valid phone number.")):m.default.alert(t.app.getTransMsg("Validation Failed"),t.app.getTransMsg("Please enter a valid email.")):m.default.alert(t.app.getTransMsg("Validation Failed"),t.app.getTransMsg("Please fill all the details."))},500)},e.getClassName=function(){return"chat"},s.default=e},function(e,s,o){s.__esModule=!0;var l=o(5),c=o(1);o(22),o(31),o(88),o(21);var u=[],d=function(e,t){if(e=void 0===e?window:e,t=void 0===t?document:t,null==e&&(e=[]),!(this instanceof d))return new d(e,t);!function(e){e.length=0,r.s(),r.sIterator();for(var t=["indexOf","push","pop","splice","entries","slice","shift",Symbol.iterator],n=0;n<t.length;n++)e[t[n]]=u[t[n]]}(this),this.push(t),"string"==typeof e?this.set(this.find(e)):this.set(e instanceof d?e:e instanceof NodeList||e instanceof Array?e:[e])};for(d[t].set=function(e){this.splice(0);for(var t=(e=r.m(e)).next();!t.done;t=e.next())this.push(t.value)},d[t].data=function(e,t){if(n===typeof t)try{return l.parse(this[0].getAttribute("data-"+e))}catch(e){return null}i!==typeof this[0]&&this[0].setAttribute("data-"+e,l.stringify(t))},d[t].append=function(e){if(this.length){if(e&&n!==typeof e.nodeType)return this[0].appendChild(e);e instanceof d||(e=d.html(e,this.base));for(var t=(e=r.m(e)).next();!t.done;t=e.next())t=t.value,i!==typeof this[0]&&this[0].appendChild(t)}},d[t].submit=function(){return this.trigger("submit")},d[t].html=function(e){return this.length?(void 0!==e&&(this[0].innerHTML=e),this[0].innerHTML):""},d[t].parents=function(e){var t=[];if(n!==typeof this[0]&&i!==typeof this[0]){e=this[0].ownerDocument.querySelectorAll(e);for(var a=(e=r.m(e)).next();!a.done;a=e.next()){a=a.value;for(var s=!1,o=this[0];o.parentNode;){if(o==a){s=!0;break}o=o.parentNode}s&&t.push(a)}}return new d(t)},d[t].not=function(e){if(this&&this.length&&this[0].ownerDocument){e=this[0].ownerDocument.querySelectorAll(e);for(var t=this.length;t--;)for(var n=r.m(e),i=n.next();!i.done;i=n.next())i.value===this[t]&&this.splice(t,1)}return this},d[t].children=function(e){e=this.find(e);for(var t=[],n=r.m(this),i=n.next();!i.done;i=n.next())if((i=i.value)&&i.childNodes)for(var a=r.m(i.childNodes),s=a.next();!s.done;s=a.next()){s=s.value;for(var o=r.m(e),l=o.next();!l.done;l=o.next())(l=l.value)===s&&0>t.indexOf(i)&&t.push(l)}return new d(t)},d[t].find=function(e){if("string"==typeof e){for(var t=[],n=r.m(this),a=n.next();!a.done;a=n.next()){var s=a.value;if(i!==typeof s)for(s=s.querySelectorAll(e),s=r.m(s),a=s.next();!a.done;a=s.next())a=a.value,0>t.indexOf(a)&&t.push(a)}return new d(t)}return this},d[t].hasClass=function(e){var t=this.attr("class");return!!t&&0<=t.split(" ").indexOf(e)},d[t].removeClass=function(e){e=e.split(" ");for(var t=r.m(this),n=t.next();!n.done;n=t.next()){n=n.value;for(var i=r.m(e),a=i.next();!a.done;a=i.next())if(a=a.value,n.classList)n.classList.remove(a);else{var s=n.className.split(" ");s.splice(s.indexOf(a),1),n.className=s.join(" ")}}return this},d[t].toggleClass=function(e,t){return null===(t=void 0===t?null:t)&&this.hasClass(e)||!0===t?this.removeClass(e):(null===t&&!this.hasClass(e)||!1===t)&&this.addClass(e),this},d[t].addClass=function(e){e=e.split(" ");for(var t=r.m(this),n=t.next();!n.done;n=t.next()){n=n.value;for(var i=r.m(e),a=i.next();!a.done;a=i.next())if(a=a.value,n.classList)n.classList.add(a);else if(!n.hasClass(a)){var s=n.className.split(" ");s.push(a),n.className=s.join(" ")}}return this},d[t].isChecked=function(){return!(!this.length||!this[0].checked)},d[t].add=function(e){if(e instanceof d||e instanceof Array||e instanceof NodeList)for(var t=(e=r.m(e)).next();!t.done;t=e.next())this.push(t.value);else this.push(e);return this},d[t].isVisible=function(){return this.length?"none"!=this[0].style.display:""},d[t].toggle=function(){this.isVisible()?this.hide():this.show()},d[t].parent=function(){return this.length&&this[0].parentNode?new d(this[0].parentNode):null},d[t].show=function(){for(var e=r.m(this),t=e.next();!t.done;t=e.next())t=t.value,t.style.display=t.__prev_display?t.__prev_display:"block"},d[t].hide=function(){for(var e=r.m(this),t=e.next();!t.done;t=e.next())t=t.value,t.__prev_display=t.style.display,t.style.display="none"},d[t].val=function(e){return n!==typeof e&&this.length&&(this[0].value=e),"string"==typeof(e=this.length?this[0].value:"")&&(e=e.replace(/\r/g,"")),e},d[t].removeAttr=function(e){for(var t=r.m(this),n=t.next();!n.done;n=t.next()){if(n=n.value,i!=typeof n.removeAttribute){console.error(n);break}n.removeAttribute(e)}},d[t].attr=function(e,t){if(t=void 0===t?null:t,a!=typeof e){if(!this.length)return"";if(null!==t)for(var n=(s=r.m(this)).next();!n.done;n=s.next()){if(n=n.value,i!=typeof n.setAttribute)return void console.error(n);n.setAttribute(e,t)}return this[0].getAttribute(e)}for(var s in e)this.attr(s,e[s])},d[t].slideToggle=function(e){if(e=void 0===e?null:e,this.length){var t=this[0];t.____toggling||(t.____toggling=!0,this.css({"overflow-y:":"hidden","max-height":"500px","-webkit-transition":"max-height 0.5s ease","moz-transition":"max-height 0.5s ease","-o-transition":"max-height 0.5s ease",transition:"max-height 0.5s ease;"}));var n=!("none"==this[0].style.display||"0px"==this.css("max-height"));null===e&&(e=!n),t.__toggle_timer&&clearTimeout(t.__toggle_timer),e?(this[0].style.display="block",this.css({"max-height":"500px"})):this.css({"max-height":"0px"})}},o=(e=r.m("trigger on  style remove detach css off height width outerWidth outerHeight children after before".split(" "))).next();!o.done;o=e.next())!function(e){d[t][e]=function(){if(this.length){for(var t=[],n=r.m(this),i=n.next();!i.done;i=n.next())t.push(i.value);if(t=c(t),(n=t[e].apply(t,arguments))!==t)return n}return this}}(o.value);d[t].bind=d[t].on,d.html=function(e,t,n){return t=void 0===t?document:t,n=void 0!==n&&n,t=t.createElement("div"),t.innerHTML=e,n?t.childNodes:new d(t.childNodes)},d.param=function(e,t){var i=[],r=function(e,n){e=t?t+"["+e+"]":e,i.push(null!==n&&a===typeof n?d.param(n,e):encodeURIComponent(e)+"="+encodeURIComponent(n))};if(a==typeof e)if(n!==typeof e.length)for(var s=0;s<e.length;s++)r(s,e[s]);else for(s in e)r(s,e[s]);else i.push(encodeURIComponent(e));return i.join("&")},d.ajax=function(e){var t=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");if(e.type="post"==e.type?"POST":e.type,t.open(e.type||"GET",e.url,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"==e.type&&t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.headers)for(var n in e)t.setRequestHeader(n,e[n]);if(e.xhrFields)for(var i in e.xhrFields)t[i]=e.xhrFields[i];t.onload=function(){if(200<=t.status&&400>t.status)try{var n="json"==e.dataType?l.parse(t.responseText):t.responseText;e.success&&e.success(n)}catch(n){e.error?e.error(t,n):console.error(n)}else e.error&&e.error(t)},t.onerror=function(){e.error&&e.error(t)},e.data?t.send(d.param(e.data)):t.send()},d.extend=function(){var e,t,n,r=arguments[0]||{},s=1,o=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[s]||{},s++),a!==typeof r&&i!==typeof r&&(r={}),s===o&&(r=this,s--);s<o;s++)if(null!=(e=arguments[s]))for(t in e){var c=r[t],u=e[t];r!==u&&(l&&u&&(a==typeof u||(n=Array.isArray(u)))?(n?(n=!1,c=c&&Array.isArray(c)?c:[]):c=c&&a==typeof c?c:{},r[t]=d.extend(l,c,u)):void 0!==u&&(r[t]=u))}return r},d.trim=function(e){return"string"!=typeof e?"":e.trim()},e={scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},o={};for(var f in e)o.k=f,o.prop=e[o.k],d[t][o.k]=function(e){return function(t){var n="pageYOffset"===e.prop;if(!this.length)return 0;var i=this[0];if(null!=i&&i===i.window)var a=i;else 9===i.nodeType&&(a=i.defaultView);if(void 0===t)return a?a[e.prop]:i[e.k];a?a.scrollTo(n?a.pageXOffset:t,n?t:a.pageYOffset):i[e.k]=t}}(o),o={prop:o.prop,k:o.k};f=function(e,t,n){return e instanceof c?e:new d(e,t,n)};for(var h in d)f[h]=d[h];s.default=f},function(e,t,n){var i,a;i=[n(17)],void 0===(a=function(e){return e.concat}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(17)],void 0===(a=function(e){return e.push}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(3)],void 0===(a=function(e){return function(t,n){var i=(n=n||e).createElement("script");i.text=t,n.head.appendChild(i).parentNode.removeChild(i)}}.apply(t,i))||(e.exports=a)},function(e,n,i){var a,r;a=[i(1),i(16),i(48)],void 0===(r=function(e,n,i){function a(){this.expando=e.expando+a.uid++}return a.uid=1,a[t]={cache:function(e){var t=e[this.expando];return t||(t={},i(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(t,n,i){var a;if(t=this.cache(t),"string"==typeof n)t[e.camelCase(n)]=i;else for(a in n)t[e.camelCase(a)]=n[a];return t},get:function(t,n){return void 0===n?this.cache(t):t[this.expando]&&t[this.expando][e.camelCase(n)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(t,i){var a,r=t[this.expando];if(void 0!==r){if(void 0!==i)for((Array.isArray(i)?i=i.map(e.camelCase):(i=e.camelCase(i),i=i in r?[i]:i.match(n)||[]),a=i.length);a--;)delete r[i[a]];(void 0===i||e.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){return void 0!==(t=t[this.expando])&&!e.isEmptyObject(t)}},a}.apply(n,a))||(e.exports=r)},function(e,t,n){var i,a;i=[n(1),n(46),n(85),n(7)],void 0===(a=function(e,t,n){function i(n,i,r){return e.isFunction(i)?e.grep(n,function(e,t){return!!i.call(e,t,e)!==r}):i.nodeType?e.grep(n,function(e){return e===i!==r}):"string"!=typeof i?e.grep(n,function(e){return-1<t.call(i,e)!==r}):a.test(i)?e.filter(i,n,r):(i=e.filter(i,n),e.grep(n,function(e){return-1<t.call(i,e)!==r&&1===e.nodeType}))}var a=/^.[^:#\[\.,]*$/;e.filter=function(t,n,i){var a=n[0];return i&&(t=":not("+t+")"),1===n.length&&1===a.nodeType?e.find.matchesSelector(a,t)?[a]:[]:e.find.matches(t,e.grep(n,function(e){return 1===e.nodeType}))},e.fn.extend({find:function(t){var n,i=this.length,a=this;if("string"!=typeof t)return this.pushStack(e(t).filter(function(){for(n=0;n<i;n++)if(e.contains(a[n],this))return!0}));var r=this.pushStack([]);for(n=0;n<i;n++)e.find(t,a[n],r);return 1<i?e.uniqueSort(r):r},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&n.test(t)?e(t):t||[],!1).length}})}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(1),n(7)],void 0===(a=function(e){return e.expr.match.needsContext}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(1),n(49),n(56),n(57),n(50),n(7)],void 0===(a=function(e,t,n,i,a){return function(r,s,o){var l=r.style;if(o=o||i(r)){var c=o.getPropertyValue(s)||o[s];if(""!==c||e.contains(r.ownerDocument,r)||(c=e.style(r,s)),!a.pixelMarginRight()&&t.test(c)&&n.test(s)){r=l.width,s=l.minWidth;var u=l.maxWidth;l.minWidth=l.maxWidth=l.width=c,c=o.width,l.width=r,l.minWidth=s,l.maxWidth=u}}return void 0!==c?c+"":c}}.apply(t,i))||(e.exports=a)},function(e,t,n){var i;void 0===(i=function(){return function(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i,a;i=[n(1),n(20),n(21)],void 0===(a=function(e,t){return e.each({Height:"height",Width:"width"},function(n,i){e.each({padding:"inner"+n,content:i,"":"outer"+n},function(a,r){e.fn[r]=function(s,o){var l=arguments.length&&(a||"boolean"!=typeof s),c=a||(!0===s||!0===o?"margin":"border");return t(this,function(t,i,a){return e.isWindow(t)?0===r.indexOf("outer")?t["inner"+n]:t.document.documentElement["client"+n]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+n],i["scroll"+n],t.body["offset"+n],i["offset"+n],i["client"+n])):void 0===a?e.css(t,i,c):e.style(t,i,a,c)},i,l?s:void 0,l)}})}),e}.apply(t,i))||(e.exports=a)},function(e,i,a){i.__esModule=!0;var r=a(2),s=a(11),o=a(117),l=a(10);a(61);var c=a(133),u=function(e,t,n,i,a){s.default.create(this),this.status=this.server=null,this.app=t,this.keepConnected=a,this.name=e,this.disconnected=!1,this.host=n,0<=window.location.href.indexOf("acq-hostx=")&&(this.host=this.host.replace("s.acquire.io",window.location.href.split("acq-hostx=")[1])),this.first_time=!0,this.path=i,this.init=!1,this.retryWait=r.default.observable(0),this.alternate_host=this.manual_reconnect=!1,this.connect()};u.getText=function(e){return e==u.STATUS_CONNECTED?"connected":e==u.STATUS_CONNECTING?"connecting":e==u.STATUS_DISCONNECTED?"disconnected":e==u.STATUS_RECONNECTING?"reconnecting":e==u.STATUS_SUSPENDED?"suspended":"unknown"},u[t].suspend=function(e){e=void 0===e||e,this.tryReconnect=function(){},this.connect=function(){},this.disconnect=function(){},this.errorHandler=function(){},this.server.emit=function(){},this.server.on=function(){},this.server.clearEvents(),this.update(e?u.STATUS_SUSPENDED:u.STATUS_DISCONNECTED),this.server&&this.server.disconnect(),"app"==this.name&&"frontend"==this.app.type&&this.app.ui&&this.app.dispose()},u[t].tryReconnect=function(){},u[t].errorHandler=function(e){var t=this;return function(n){t.manual_reconnect||"connect_error"===e||console.error("["+t.name+"] socket error ["+e+":"+n+"]"),t.update(u.STATUS_DISCONNECTED),t.trigger("disconnect")}},u[t].update=function(e,t){var n=this;t=void 0!==t&&t,this.status==u.STATUS_DISCONNECTED&&this.waiting_status&&e==u.STATUS_RECONNECTING||(this.status=e,e==u.STATUS_DISCONNECTED?(this.waiting_status=!0,setTimeout(function(){n.waiting_status=!1,n.status==u.STATUS_DISCONNECTED&&n.trigger("status",{status:n.status,retryIn:n.retryWait},t)},5e3)):this.trigger("status",{status:e,retryIn:this.retryWait},t))},u[t].switchHost=function(){this.alternate_host=!this.alternate_host,this.server&&this.server.io&&this.server.io.uri&&(this.server.io.uri=this.getHost())},u[t].getHost=function(){return 0<=window.location.href.indexOf("acq-hostx=")?this.host:this.alternate_host?this.host.replace("s.acquire.io","ws.acquire.io"):this.host},u[t].connect=function(){var e=this;if(null===this.status){var t=l.default.trackTimeEvent("network",this.name+"-connect");this.server=c.connect(this.getHost(),{path:this.path,parser:a(148),transports:0<=window.location.href.indexOf("_tg_only_poll")?["polling","xhr-polling","jsonp-polling","htmlfile","flashsocket"]:["websocket"],"sync disconnect on unload":!0,reconnectionDelay:1e3,reconnection:!1,reconnectionDelayMax:3e3,reconnectionAttempts:0,timeout:1e4,pingTimeout:15e3,pingInterval:5e3,"force new connection":!0,forceNew:!0}),o.default.init(this.server,null,null,this.name),this.update(u.STATUS_CONNECTED,!0);var i=n==typeof window.tagoveConfigReconnect||window.tagoveConfigReconnect,r=200,s=this.try_reconnect=function(){e.status==u.STATUS_SUSPENDED||0>=r||(r--,setTimeout(function(){t=l.default.trackTimeEvent("network",e.name+"-reconnect"),i?(e.status=u.STATUS_RECONNECTING,e.server.connect()):console.error("S::: reconnecting disabled by api")},1200))},d=0,f=0;this.server.on("error",function(e){console.error("on error on socket"),console.error(e)}),this.server.on("disconnect",function(t){d++,e.status=u.STATUS_DISCONNECTED,s(),2<=d&&(e.switchHost(),d=0)}),window.addEventListener("unload",function(){i=!1}),this.server.on("connect_error",function(t){f++,e.status=u.STATUS_DISCONNECTED;try{1<=f&&(e.switchHost(),f=0)}catch(e){console.error(e)}s()}),this.server.on("connect",function(){t(),r=50,e.status==u.STATUS_SUSPENDED?e.server.disconnect():(e.update(u.STATUS_CONNECTED),e.trigger("connect",e.first_time),e.first_time=!1)}),this.server.on("reconnect",function(){e.update(u.STATUS_RECONNECTING),console.error("["+e.name+"] reconnecting")}),this.server.on("connect_error",this.errorHandler("connect_error")),this.server.on("disconnect",this.errorHandler("disconnect")),this.server.on("close",this.errorHandler("close")),this.server.on("error",this.errorHandler("error")),this.server.on("connectFailed",this.errorHandler("connectFailed")),this.server.on("connect_failed",this.errorHandler("connect_failed")),this.server.on("ping_check",function(e){e(!0)});var h={};this.server.on("ping-speed-test",function(e,t){h[e]&&(h[e](),delete h[e])}),window["_acquire_flood_test_"+this.name]=function(t,n){for(var i="",a=0;a<n;a++)i+="a";for(n={i$286:0};n.i$286<t;n={i$286:n.i$286},n.i$286++)setTimeout(function(t){return function(){var n=Math.random();h[n]=l.default.trackTimeEvent("network",e.name+"-ping-speed-"+t.i$286,null,!0,!0),e.server.emit("ping-speed-test",n,i)}}(n),0)}}},u[t].disconnect=function(){var e=this;this.server.disconnect(),setTimeout(function(){e.try_reconnect&&e.try_reconnect()},100)},u.STATUS_CONNECTED=1,u.STATUS_DISCONNECTED=0,u.STATUS_CONNECTING=-1,u.STATUS_RECONNECTING=3,u.STATUS_SUSPENDED=-2,u.MAX_RETRIES=600,i.default=u,window.AcqConnector=u},,,function(e,t,n){void 0===(t=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i)||(e.exports=t)},function(e,t,n){void 0===(t=["Top","Right","Bottom","Left"])||(e.exports=t)},function(e,t,n){var i;void 0===(i=function(){return function(e,t,n,i){var a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];n=n.apply(e,i||[]);for(a in t)e.style[a]=r[a];return n}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i,a;i=[n(1),n(51)],void 0===(a=function(e,t){return function(n,i,a,r){var s=1,o=20,l=r?function(){return r.cur()}:function(){return e.css(n,i,"")},c=l(),u=a&&a[3]||(e.cssNumber[i]?"":"px"),d=(e.cssNumber[i]||"px"!==u&&+c)&&t.exec(e.css(n,i));if(d&&d[3]!==u){u=u||d[3],a=a||[],d=+c||1;do{s=s||".5",d/=s,e.style(n,i,d+u)}while(s!==(s=l()/c)&&1!==s&&--o)}if(a){d=+d||+c||0;var f=a[1]?d+(a[1]+1)*a[2]:+a[2];r&&(r.unit=u,r.start=d,r.end=f)}return f}}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(1),n(3),n(106),n(36)],void 0===(a=function(e,t){function n(){t.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),e.ready()}var i=e.Deferred();e.fn.ready=function(t){return i.then(t).catch(function(t){e.readyException(t)}),this},e.extend({isReady:!1,readyWait:1,ready:function(n){(!0===n?--e.readyWait:e.isReady)||(e.isReady=!0,!0!==n&&0<--e.readyWait||i.resolveWith(t,[e]))}}),e.ready.then=i.then,"complete"===t.readyState||"loading"!==t.readyState&&!t.documentElement.doScroll?window.setTimeout(e.ready):(t.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))}.apply(t,i))||(e.exports=a)},function(e,t){t.__esModule=!0;var n=function(){for(var e,t=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],n=0,i=t.length,a={};n<i;n++)if((e=t[n])&&e[1]in document){for(n=0,i=e.length;n<i;n++)a[t[0][n]]=e[n];return a}return!1}();Object.defineProperties(e={request:function(e){var t=n.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent),e[t]()},exit:function(){document[n.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:n},{isFullscreen:{get:function(){return!!document[n.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[n.fullscreenEnabled]}}}),t.default=e},function(i,s,o){s.__esModule=!0;var l=o(2),c=o(6),u=o(9),d=o(4),f=o(76),h=o(8),p=o(5),g=o(166),m=o(11),v=o(77);(i=function(e,t,i){var a=this;m.default.create(this),this.app=e,this.manager=t;var s=i.date_updated?new Date(i.date_updated.replace(" ","T")).getTime():0;i.timestamp=s,this._data=l.default.observable(i),this.threadMessages=l.default.observableArray([]),this.snapInterval=120,this.loadedLastId=l.default.observable(!1),this.firstUnseenMessage=l.default.observable(null),this.unseenMessagesFrom=l.default.observable(null),this.first_unseen_time_interval=null,this.messagePage=l.default.observable(1),this.forceBottom=l.default.observable(!1),this.loadingThreadMessages=l.default.observable(!1),this.scrolltoBottom=l.default.observable(!1),this.translate_from=l.default.observable("auto"),this.translate_to=l.default.observable("en"),this.translate_form_show=l.default.observable(!1),this.translate_mode=l.default.observable(!1),this.account_translate_language=l.default.observable(""),this.active=l.default.observable(!1),this.messageArea=l.default.observable(null),this.inputArea=l.default.observable(null),this.inputAreaValue=l.default.observable(""),this.loadShortCut=l.default.observable(1),this.inputArea.subscribe(function(e){a.inputArea&&a.inputArea()&&(f.default.init(a),"backend"==a.app.type&&(document.body.contains(e)?2>=a.loadShortCut()&&(f.default.initShortCut(a),a.loadShortCut(a.loadShortCut()+1)):a.loadShortCut(1)),"frontend"==a.app.type&&a.inputAreaValue()&&(e=a.inputArea().querySelector("textarea"))&&(e.value=a.inputAreaValue()))}),this.inputAreaValue.subscribe(function(e){if(a.inputArea()){var t=a.inputArea().querySelector(".main-composer-upload-button");t&&(t.style.display=""==e?"":"none")}}),this.isTplReply=l.default.observable(!1),this.threadMessages.subscribe(function(){if(a.chat()&&(a.data().typed_msg||"")!=a.chat().typingText()&&(a.chat().typingText(null),a.data().typed_msg="",a.inputAreaValue("")),"backend"===a.app.type&&a.chat()&&a.chat().suggestionBubbleFlag())if(0<a.threadMessages().length){var e=a.allMessages()[Object.keys(a.allMessages()).length-1]();"event"==e.type&&2<=Object.keys(a.allMessages()).length&&(e=a.allMessages()[Object.keys(a.allMessages()).length-2]()),"visitor"===e.sender_type&&"message"===e.type?a.chat().getSuggestionBubbleList(e.message):a.chat().suggestionBubbleList([])}else a.chat().suggestionBubbleList([])}),this.data=l.default.computed({read:function(){return"file"==a._data().last_message_type&&(a._data().message="File attached"),"message"==a._data().last_message_type&&"string"==typeof a._data().message&&"<tgv-block"===a._data().message.slice(0,10)&&(a._data().message=""),d.default.safeType(a._data().visitor_id,"Undefined")&&"frontend"===a.app.type&&a.app.myself&&a.app.myself()&&(a._data().visitor_id=a.app.myself().id),a._data()},write:function(e){e=void 0!==e&&e;var t=a._data();if(e)if(t){var n=e.date_updated?new Date(e.date_updated.replace(" ","T")).getTime():0;e.timestamp=n,a._data(Object.assign({},t,e)),a._data.valueHasMutated()}else a._data(e)}}),this.data.subscribe(function(){setTimeout(function(){a.app&&a.manager.threadArrange()},10)}),this.chat="frontend"==this.app.type?l.default.computed(function(){var e;return a.manager&&a.data()&&(e=a.manager.findChatByThread(a.data().thread_id,null))&&"closed"!=e.data().status?e:a.data()&&a.data().chats&&0<a.data().chats.length?e=a.manager.findChatByPK(a.data().chats[0].id,a.data().chats[0].session_id):null}):l.default.observable(t.chat?t.chat:null),this.isText=l.default.computed(function(){return""!=a.inputAreaValue()}),this.tplMessageHold=[],this.messageLoaded=!1,this.app.ui.blockManager.subscribe(function(e){if(e&&a.tplMessageHold&&0<a.tplMessageHold.length){for(var t=(e=r.m(a.tplMessageHold)).next();!t.done;t=e.next()){t=t.value;var n=a.app.ui.blockManager().addBlock(t.msga);n&&(n=n.render(),a.updateMessage(t.message_id,{elements:n}))}a.tplMessageHold=[]}}),this.currentChatMsgCounter=0,this.lastMessage=l.default.computed(function(){if(a.data()){if("translated"==a.data().last_message_type)return"&nbsp;";var t=a.data().message,n=document.createElement("div");return n.innerText=e.filterMsg(t),""==((t=(n.innerText||"").trim())||"").trim()?".":t}return"."}),this.lastMessageOn=l.default.computed(function(){return a.data()?a.data().date_updated:""}),this.active.subscribe(function(){a.chat()&&a.chat().active(!0),a.loadThreadMessages()}),this.allMessages=l.default.computed(function(){a.threadMessages().sort(function(e,t){var n=d.default.getTimeFromDate(e().date_created,!1).getTime(),i=d.default.getTimeFromDate(t().date_created,!1).getTime();return n===i?e().id-t().id:n-i});var e=[],t=d.default.getCurrentTime();a.currentChatMsgCounter=0;for(var n=r.m(a.threadMessages()),i=n.next();!i.done;i=n.next())if(i=i.value,"backend"!==a.app.type||"message"!=i().type&&"sms"!=i().type||!a.chat()||!a.chat().filter_text().trim()||-1!=i().message.toLowerCase().indexOf(a.chat().filter_text().toLowerCase())){i().isFirst=!0,i().isLast=!0,i().isGroup=!1;var s=d.default.getTimeFromDate(i().date_created,!1).getTime();0<e.length&&("message"==i().type||"sms"==i().type)&&o&&o().sender_type==i().sender_type&&o().sender_id==i().sender_id&&o().type==i().type&&s/1e3-t/1e3<=a.snapInterval&&(i().isGroup=!0,i().isFirst=!1,i().isLast=!0,o().isLast=!1,e[e.length-1]=o),t=[],"frontend"===a.app.type&&"visitor"==i().sender_type&&t.push("me"),"backend"!==a.app.type||"agent"!=i().sender_type&&"bot"!=i().sender_type||t.push("me"),"event"==i().type&&t.push("event"),"message"!=i().type&&"translated"!=i().type&&"file"!=i().type&&"tpl"!=i().type&&"bubbles"!=i().type&&"cards"!=i().type&&"img-only"!=i().type&&"sms"!=i().type||t.push("message"),"file"==i().type&&t.push("file"),"file"==i().type&&i().fileUrl&&null!=i().fileUrl.match(/\.(jpeg|jpg|gif|png|bmp)$/)&&t.push("image-file"),"tpl"==i().type&&t.push("tpl"),i().isGroup&&t.push("isGroup"),i().cssCls=t.join(" "),e.push(i),t=s;var o=i;!d.default.safeType(i().chat_id,"Undefined")&&a.chat()&&a.chat().data().id==i().chat_id&&"message"==i().type&&a.currentChatMsgCounter++}return e}),this.isRTCCall=l.default.computed(function(){var e=a.manager.activeRoomInRTC()&&a.manager.activeRoomInRTC().rtcroom&&a.manager.activeRoomInRTC().rtcroom().incall()&&null===a.manager.activeRoomInRTC().rtcroom().myself().sholudWePickCall()?a.manager.activeRoomInRTC():null;return!(!e||e.data().thread_id!==a.data().thread_id)});var o=this;"frontend"==this.app.type&&(this.participants=l.default.computed(function(){return a.data()&&a.data().agents&&""!=a.data().agents?(a.data().agents||"").replace(/(^,)|(,$)/g,""):a.app.getTransMsg(a.app.default_text.chat_form_heading)},this.manager),this.feedback_chat=l.default.observable(!1),this.skip_feedback=l.default.observable(!1),this.feedback_chat.subscribe(function(e){a.skip_feedback()?a.feedback_chat(null):(d.default.safeType(e,"Number")||a.feedback_chat(null),e&&(a.scrollToBtm(),a.app.googleAnalyticscheck("feedback_asked","click","Feedback asked")))}),this.feedback=u.default.asyncDependency(function(e){e(new g.default(o.app,o))}),this.feedback(null)),this.tplReplyMessage="Thanks! Your data successfully updated and the team typically replies in a few hours.",this.unseenMessages=l.default.computed(function(){for(var t=a.data().unseen_count,n=parseInt(a.app.clientStorage.get("_lastmsgnotification")||0),i={},s=r.m(a.threadMessages()),o=s.next();!o.done;i={e$288:i.e$288},o=s.next())i.e$288=o.value,"system_log"!=i.e$288().type&&"unseen"==i.e$288().seen&&("frontend"==a.app.type&&"agent"==i.e$288().sender_type||"backend"==a.app.type&&"visitor"==i.e$288().sender_type)&&setTimeout(function(t){return function(){if(a.app&&"unseen"==t.e$288().seen&&!t.e$288()._n){if(t.e$288(),n<t.e$288().id&&("message"==t.e$288().type||"sms"==t.e$288().type)){n=t.e$288().id,e.clientStorage.set("_lastmsgnotification",t.e$288().id);var i=a.app.settings().widget_theme;(a.app.tracker.isIOS||a.app.tracker.isAndroid)&&(i="new"),i=v.Emoji.unicodeDecodeEmoji(v.Emoji.unicodeEncodeEmoji(t.e$288().message,i,!0,!0),i),t.e$288().noticedone=a.app.notify("new_message",a.app.getTransMsg("{num} new messages !"),i,null)}"system_log"!=t.e$288().type&&(t.e$288().seenAction=function(){t.e$288().seen="seen"},a.on("dispose",function(){t.e$288().seenAction=void 0})),t.e$288()._n=!0}}}(i),100);return 0==t&&a.firstUnseenMessage(null),t}),this.event_move=function(){if(a.app){if(0<a.unseenMessages()){if("frontend"==a.app.type){if("min"==a.app.ui.status()||"max"==a.app.ui.status()&&"thread_chat"===a.app.status()&&"view"!=a.manager.status())return;var e=a.manager.active_thread()?a.manager.active_thread().data().thread_id:null;if(null===e||null!==e&&parseInt(a.data().thread_id)!==parseInt(e))return}a.unseenAllThreadMessage()}for(var t=(e=r.m(a.threadMessages())).next();!t.done;t=e.next())(t=t.value)()&&t().noticedone&&(t().noticedone(),t().noticedone=void 0),t()&&t().seenAction&&(t().seenAction(),t().seenAction=void 0)}},this.messageArea.subscribe(function(){if(a.messageArea()){var e=a.messageArea().ownerDocument.defaultView,t="backend"==a.app.type?window:window.top;if(e&&t){if(d.default.safeType(a.__off_message_area,"Undefined"))for(var n=r.m("mousemove click touchstart touchmove touchend touchcancel scroll resize".split(" ")),i=n.next();!i.done;i=n.next())i=i.value,e.addEventListener(i,a.event_move),t.addEventListener(i,a.event_move);a.__off_message_area=function(){if(e){for(var n=r.m("mousemove click touchstart touchmove touchend touchcancel scroll resize".split(" ")),i=n.next();!i.done;i=n.next())i=i.value,e.removeEventListener(i,a.event_move),t.removeEventListener(i,a.event_move);a.event_move=void 0}},a.once("dispose",a.__off_message_area)}}else a.__off_message_area&&a.__off_message_area()}),this.getTargetValue=function(e){var t="";return e&&0<e.length&&(e=e[0]),"DIV"==e.nodeName&&(t=(e.innerText||"").trim()),"TEXTAREA"==e.nodeName&&(t=(e.value||"").trim()),t},this.setTargetValue=function(e,t){e&&n!==typeof e&&("DIV"==e.nodeName&&(e.innerText=t),"TEXTAREA"==e.nodeName&&(e.value=t))},this.firstUnseenMessage.subscribe(function(e){null==e&&a.first_unseen_time_interval&&(clearInterval(a.first_unseen_time_interval),a.first_unseen_time_interval=null)})})[t].onDestroy=function(){for(var e in this)u.default.disposeKoItem(this[e]),this[e]=null},i[t].onDispose=function(){this.feedback&&this.feedback()&&(this.feedback().trigger("dispose"),this.feedback.forceChange(null))},i[t].scrollToBtm=function(e){var t=this;e=void 0===e?1:e,this.app&&(this.scrolltoBottom(!1),setTimeout(function(){t.app&&(t.scrolltoBottom(!0),setTimeout(function(){t.app&&t.scrolltoBottom(!1)},1))},e))},i[t].getPhotoUrlMultiple=function(){var e=this.data().agent_imgs;null!=e&&"string"!=typeof e||(e=[]);for(var t=[],n=1,i=r.m(e),a=i.next();!a.done;a=i.next())if(a=a.value,3>=n){var s="",o=3<e.length?3:e.length;s+=1<o?"agent-multiple agent-"+o+" agent-"+o+"_"+n:"",t.push({img_url:this.app.getPhotoUrl(a),css_class:s}),n++}return 0==e.length&&t.push({img_url:this.app.settings().company_logo?this.app.settings().company_logo:c.default.mediaDefaultUserPhoto,css_class:""}),t},i[t].unseenAllThreadMessage=function(){var e=this;if(0===this.unseenMessages())this.firstUnseenMessage()&&this.firstUnseenMessage(null);else{if("backend"==this.app.type){var t=this.app.chatManager().current_chat();if(null==t||t&&t.thread()&&this.data().thread_id!==t.thread().data().thread_id)return}var n=[];if(this.data().users){if((n=this.data().users.split(",")).push("visitor-"+this.data().visitor_id),this.chat()&&this.chat().data().users){t=Object.keys(this.chat().data().users);for(var i=(t=r.m(t)).next();!i.done;i=t.next())i=i.value,-1===n.indexOf(i)&&n.push(i)}(n=n.map(function(e){return isNaN(e.trim())?e.trim():"agent-"+e.trim()}).filter(function(t,i){return n.indexOf(t)===i&&e.app.myself().type+"-"+e.app.myself().id!==t}))&&a!==typeof n&&(n=[n])}this.first_unseen_time_interval&&(clearInterval(this.first_unseen_time_interval),this.firstUnseenMessage()&&this.unseenMessagesFrom(this.firstUnseenMessage().data),setTimeout(function(){e.app&&(e.first_unseen_time_interval=null,e.firstUnseenMessage(null))},500)),this.firstUnseenMessage()&&this.firstUnseenMessage(null),this.app.socket.emit("thread_event","seen","frontend"===this.app.type?null:this.manager.chat.data().session_id,this.data().thread_id,n),this._data().unseen_count=0,this._data.valueHasMutated()}},i[t].focus=function(){this.messageArea()&&this.messageArea().getAttribute("data-on-focus-scroll")&&(this.scrollToBtm(),this.messageArea().removeAttribute("data-on-focus-scroll"))},i[t].view=function(){var e=this;this.focus(),this.scrollToBtm(),this.active(!0),this.manager.active_thread(this),this.unseenAllThreadMessage();var t=this.data().typed_msg;if("frontend"==this.app.type&&"max"===this.app.ui.status()&&"thread_chat"===this.app.status()&&(this.manager.status("view"),this.app.tracker.setActiveThread(this.data().thread_id,this.app.userArea),n!=typeof t&&null!=t&&this.inputAreaValue(t)),"backend"==this.app.type&&setTimeout(function(){e.app&&e.chat&&e.chat()&&n!=typeof t&&t&&""!=t&&e.chat().typed(t,0)},5),"standard"==this.app.settings().widget_theme&&"frontend"==this.app.type&&-2==this.data().thread_id&&this.app.visitors().length&&this.app.visitors()[0].data()){var i="1"==this.app.settings().force_single_thread?-1:-2,a=function(){if(e.data().thread_id==i||-1===i&&0===e.threadMessages().length){var t=e.app.visitors()[0].data().temp_invite_msgs;if(t&&d.default.safeType(t,"Array")&&t.length&&t[0].message&&t[0].message.includes("{{visitor_name}}")&&n!=e.app.init_name()&&(t[0].message=t[0].message.replace("{{visitor_name}}",e.app.init_name()),e.app.visitors()[0].data().temp_invite_msgs=t),t&&d.default.safeType(t,"Array")){-2==e.data().thread_id&&0<t.length&&e.threadMessages.removeAll();for(var a=(t=r.m(t)).next();!a.done;a=t.next())a=a.value,e.addThreadMessage({id:a.group_id?-a.group_id:8,chat_id:-1,sender_type:"agent",sender_id:1,type:"tpl",date_created:d.default.toMysqlTime(new Date),message:a.message,user:{name:e.app.getTransMsg("Support team"),photo:null},seen:"seen"},!0)}}};this.messageLoaded||-2===this.data().thread_id?a():this.once("thread_message_loaded",function(){a()})}},i[t].open=function(){"backend"==this.app.type&&(this.scrollToBtm(),this.loadThreadMessages())},i[t].onEvent=function(e,t,n,i){if("seen"==t)for(var a=r.m(this.threadMessages()),s=a.next();!s.done;s=a.next())s=s.value,s().seen="seen",s.valueHasMutated();this.chat()&&this.chat().onBroadCast(e,t,n,i)},i[t].list=function(){"frontend"==this.app.type&&this.manager.status("list"),this.manager.active_thread(null),this.manager.loadVisitorThreads(null!==this.manager.chat?this.manager.chat.data().sesssion_id:null)},i[t].checkMsgTyped=function(e,t){var n=t.target,i="";if(n&&(i=this.getTargetValue(n)),this.chat()){var a=0<this.app.onlineAgents().length?this.app.onlineAgents()[0]:null;return 13==t.keyCode&&""!==i&&"active-offline-chat"==this.chat().data().status&&a?(this.app.init_message(i),this.setTargetValue(n,""),this.manager.removeThreadChat(this.data().thread_id,this.data().visitor_id),this.app.startChat(!1,"text",this.data().thread_id),!1):this.chat().checkMsgTyped(e,t)}if(13==t.keyCode){if(""==i)return;if(!t.shiftKey)return this.app.init_message(i),this.submitMessage(e,t,"1"),this.setTargetValue(n,""),!1}return!0},i[t].submitMessage=function(e,t,n,i){var a=this;n=void 0===n?"":n,i="";var s=null;if("string"==typeof t)i=t;else{var o="";s=t.currentTarget||t.target,n||(o="backend"==this.app.type?".send-box":".message-input",s=(0,h.parentBySelector)(s,o).querySelector(".textarea")),i=this.getTargetValue(s);var l=t.currentTarget||t.target;l&&l.classList.contains("main-composer-send-button")&&(o=(0,h.parentBySelector)(l,o).querySelector(".textarea"))&&o.focus()}var c=0<this.app.onlineAgents().length?this.app.onlineAgents()[0]:null,u=i;s&&this.setTargetValue(s,"");var d=function(e,t,n,i){if(a.chat())return"active-offline-chat"==a.chat().data().status&&c?(a.manager.removeThreadChat(a.data().thread_id,a.data().visitor_id),a.app.init_message(i),void a.app.startChat(!1,"text",a.data().thread_id)):(a.data().typed_msg="",a.chat().submitMessage(e,t,n,i));c?(a.app.init_message(i),a.app.startChat(!1,"text",a.data().thread_id),a.data().typed_msg=""):a.app.validateForm("offline",!0)&&a.manager.initiateVirtualChat("message",i,a.data().thread_id)};return this.chat()?d(e,t,n,u):(this._msg_queue=this._msg_queue||[],this._last_submit_msg?this._msg_queue.push(function(){d(e,t,n,u)}):(this._last_submit_msg=setTimeout(function(){if(a.app){for(var e=r.m(a._msg_queue),t=e.next();!t.done;t=e.next())(t=t.value)();a._msg_queue=null,a._last_submit_msg=null}},3e3),d(e,t,n,u))),!0},i[t].addFileMessage=function(e){var t=0<this.app.onlineAgents().length?this.app.onlineAgents()[0]:null;this.chat()?"active-offline-chat"==this.chat().data().status?t?(this.manager.removeThreadChat(this.data().thread_id,this.data().visitor_id),this.app.init_message(p.stringify(e[0])),this.app.startChat(!1,"file",this.data().thread_id)):this.chat().sendOfflineMessage(e[0],"file","visitor"):this.chat().$call("addFile",e):t?(this.app.init_message(p.stringify(e[0])),this.app.startChat(!1,"file",this.data().thread_id)):this.manager.initiateVirtualChat("file",e[0],this.data().thread_id)},i[t].canRTCCall=function(){return!!(0<this.app.onlineAgents().length&&this.app.onlineAgents()[0]&&this.chat()&&this.chat().rtcroom()&&this.chat().rtcroom().myself())},i[t].startRTCCall=function(e){var t=this;if(e=void 0===e||e,0<this.app.onlineAgents().length&&this.app.onlineAgents()[0]){if(this.chat())return this.chat().rtcroom().ifReady(function(){t.chat().rtcroom().myself().startRTCCall(e)});this.app.startChat(!1,e?"video":"audio",this.data().thread_id)}else console.error("onlineAgentLength == 0")},i[t].saveVisitorData=function(e){if(this.chat())return this.chat().saveVisitorData(e)},i[t].loadThreadMessages=function(e){var t=this;if(e=void 0!==e&&e,-2!=this.data().thread_id&&(!e||e&&120>=(0,h.scrollTop)(e)&&this.loadingThreadMessages&&!this.loadingThreadMessages())&&(this.active()||"frontend"!=this.app.type)){var n=999999999998;this.threadMessages().map(function(e){e&&"event"!=e().type&&0<e().id&&n>e().id&&(n=e().id)}),this.loadedLastId()==n&&999999999998!=n||(this.loadedLastId(n),this.loadingThreadMessages(!0),setTimeout(function(){if(t.app){var i=null;null!==t.manager.chat&&(i=t.manager.chat.data().session_id),t.forceBottom()||t.forceBottom(!e),t.app.socket.emit("thread_message",i,t.data().thread_id,n,t.data()._cache_messages?t.messagePage():null,function(e,i){for(var a=(e=r.m(i)).next();!a.done;a=e.next())t.addThreadMessage(a.value,!0);t.loadingThreadMessages(!1),0<i.length&&t.messagePage(t.messagePage()+1),t.forceBottom()&&(t.forceBottom(!1),t.scrollToBtm()),20>i.length&&0<i.length&&t.loadThreadMessages(),999999999998===n&&t.scrollToBtm(),t.messageLoaded=!0,t.trigger("thread_message_loaded")})}},700))}},i[t].addThreadMessage=function(e,t){var n=this;if(t=void 0!==t&&t,this.app){for(var i=!1,a=r.m(this.threadMessages()),s=a.next();!s.done;s=a.next())(s=s.value)().id==e.id&&(i=!0);if(!i){if(null===e.message&&(e.message=""),e.message&&""!=e.message&&"file"==e.type)try{var o=p.parse(e.message);e.message="",e=(0,h.extendObject)(e,o)}catch(e){}if("message"==e.type&&e&&e.message&&0===e.message.indexOf("#TRANSLATED#:")){e.message=e.message.replace("#TRANSLATED#:","");try{var u=p.parse(e.message);(e=(0,h.extendObject)(e,u)).type="translated"}catch(e){}}if(i=this.translate_mode()&&"visitor"==e.sender_type&&"backend"==this.app.type?"translated":"agent"==e.sender_type&&"frontend"==this.app.type?"translated":"orignal",i=l.default.observable((0,h.extendObject)({id:"",chat_id:"",sender_type:"",sender_id:"",isFirst:!0,isLast:!0,isGroup:!1,cssCls:"",type:"",date_created:"",message:"",user:{name:"",me:!1,photo:null},translation_mode:i},e)),"visitor"==e.sender_type&&(i().user.photo=c.default.mediaDefaultVisitorPhoto),this.app.myself&&this.app.myself()&&this.app.myself().type==e.sender_type&&this.app.myself().id==e.sender_id&&(i().user.me=!0),"file"==e.type&&e.fileUrl&&null!=e.fileUrl.match(/\.(jpeg|jpg|gif|png|bmp)$/)&&(i().is_image=!0,i().fileThumb=[this.app.getMediaThumbUrl(e.fileUrl,270)]),null==this.firstUnseenMessage()&&e.seen&&"unseen"==e.seen)if(i().user.me)this.unseenMessagesFrom(null);else{var f=e;e=this.app.timeDifferencesObserverTimer(f.date_created,null),this.firstUnseenMessage({data:f,timer:e}),this.unseenMessagesFrom(f),this.first_unseen_time_interval=setInterval(function(){if(n.first_unseen_time_interval){var e=n.app.timeDifferencesObserverTimer(f.date_created,null);n.firstUnseenMessage({data:f,timer:e}),n.unseenMessagesFrom(f)}},1e3)}if("standard"==this.app.settings().widget_theme&&"tpl"==i().type&&d.default.safeType(i().message,"String"))try{var g=p.parse(i().message);if(g.canvas){var m=p.parse(g.canvas);if(g.canvas=m.canvas,g.uri=g.block,g.conversation_id=i().id,g.show_in="thread_message",g.thread_id=this.data().thread_id,i().message=g.text,null==this.app.ui.blockManager())this.tplMessageHold.push({message_id:i().id,msga:g});else{var v=this.app.ui.blockManager().addBlock(g);v&&(i().elements=v.render())}}else if(d.default.safeType(g,"Array")){for(m=0;m<g.length;m++)g[m]&&"widget_app"==g[m].type&&(g[m].show_in="thread_message",g[m].thread_id=this.data().thread_id,g[m].conversation_id=i().id);if(null==this.app.ui.blockManager())this.tplMessageHold.push({message_id:i().id,msga:g});else{var y=this.app.ui.blockManager().addBlock(g);y&&(y.show_in="thread_message",y.thread_id=this.data().thread_id,y.conversation_id=i().id,i().elements=y.render())}i().message=""}else g.id&&"collect_visitor_data"==g.id&&(i().collect_visitor_data=!0,i().collect_visitor_data_object=g)}catch(e){}t?(this.app.getTransMsg(this.app.default_text.offline_agents)===i().message&&(t=d.default.getTimeFromDate(i().date_created,!1))&&(t.setSeconds(t.getSeconds()+1),this.addVirtualMessageTpl("tpl",'{"id":"collect_visitor_data", "form":{"email":{"val":"", "required": "on"}, "phone":{"val":"", "required": "on"}}}',d.default.toMysqlFormat(t),i().chat_id)),this.tplReplyMessage===i().message&&this.isTplReply(!0),0<this.threadMessages().length&&"message"==i().type&&"message"==this.threadMessages()[0]().type&&(this.threadMessages()[0](),i()),this.threadMessages.unshift(i)):(0<this.threadMessages().length&&"message"==i().type&&"message"==this.threadMessages()[this.threadMessages().length-1]().type&&(this.threadMessages()[this.threadMessages().length-1](),i()),this.threadMessages.push(i),this.app.trigger("addMessage",this.data().thread_id,Object.assign({},i(),{visitor_id:this.data().visitor_id})),this.app.getTransMsg(this.app.default_text.offline_agents)===i().message&&(t=d.default.getTimeFromDate(i().date_created,!1))&&(t.setSeconds(t.getSeconds()+1),this.addVirtualMessageTpl("tpl",'{"id":"collect_visitor_data", "form":{"email":{"val":"", "required": "on"}, "phone":{"val":"", "required": "on"}}}',d.default.toMysqlFormat(t),i().chat_id))),"message"==i().type&&""!=i().date_created&&"frontend"===this.app.type&&(this.data().message=i().message,this.data().date_updated=i().date_created,t=i().date_created?new Date(i().date_created.replace(" ","T")).getTime():0,this.data().timestamp=t,this.data().last_message_type=i().type,this.data.notifySubscribers())}}},i[t].addVirtualMessageTpl=function(e,t,n,i){e=void 0===e?"message":e,i=void 0===i?1:i;var a=this.chat()?this.chat.custome_chat_id++:9;t&&this.addThreadMessage({id:a,chat_id:i,sender_type:"agent",sender_id:1,type:e,date_created:n,message:t,user:{name:this.app.getTransMsg("Support team"),photo:null},seen:"seen"},!this.chat())},i[t].addSelfMessage=function(e){this.chat()&&this.chat().addSelfMessage(e)},i[t].updateMessage=function(e,t){for(var n=!1,i=r.m(this.threadMessages()),a=i.next();!a.done;a=i.next())(a=a.value)().id==e&&(n=a);if(null===t)return this.threadMessages.remove(n);n&&(n((0,h.extendObject)(n(),t)),this.chat()&&this.chat().updateMessage(e,t))},i[t].update_translate_mode=function(e,t){for(var n=r.m(this.threadMessages()),i=n.next();!i.done;i=n.next())(i=i.value)().id==e&&(i().translation_mode=t,this.updateMessage(i().id,i()))},i[t].chatDetail=function(){if(this.chat()){for(var t,n='<table width="96%" style="line-height: 28px; color: #726e6e;" align="center">',i=this.chat().messages(),a=0;a<i.length;a++)"system"==(t=e()).sender_type?n+='<tr><td align="center" colspan="2" style="font-size: 12px;border-bottom: 1px solid #eee;">'+t.message+"</td> </tr>":(n+=' <tr> <td align="left" style="font-weight: bold;">',"agent"==t.sender_type&&(n+="Agent"),"visitor"==t.sender_type&&(n+="You"),n+='</td><td align="right">',n+=t.date_created,n+="</td></tr>",n+='<tr style="border-bottom: 1px solid #eee;"><td colspan="2" style=" white-space: pre;line-height: 20px;">',"message"==t.type&&(n+=t.message),"file"==t.type&&(n+='File : <a href="'+t.fileUrl+'">'+t.fileName+"</a>"),n+='</td> </tr><tr><td colspan="2" style="height: 2px;">&nbsp;</td></tr>');return'<html><head><title>Chat Transcript</title></head><body><div style="max-width: 800px; margin: auto; margin-bottom: 0; margin-top: 0; padding: 5px;">'+n+"</html></div></body></html>"}return!1},i[t].mailChat=function(){if(this.chatDetail()){var e=prompt(this.chat().app.getTransMsg("Please enter email"),"");null!=e&&this.app.socket.emit("mailChat",e,this.chatDetail())}this.app.googleAnalyticscheck("chat_mail_open","click","Chat Mail Opened")},i[t].printChat=function(){if(this.chatDetail()){this.app.googleAnalyticscheck("chat_printed","click","Chat printed");var e=window.open("","","width=600, height=400, scrollbars=yes");e.document.body.innerHTML=this.chatDetail(),e.print()}},i[t].on=function(){},i[t].dispose=function(){this.active(!1)},s.default=i},,function(e,s,o){function l(e){e=void 0===e?n===typeof window?null:window:e;var t=function(e){return l(e)};if(t.version="1",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var s=e.document,o=!1,v=!1,y=e.document,b=e,_=b.DocumentFragment,w=b.Node,x=b.NodeFilter,k=void 0===b.NamedNodeMap?e.NamedNodeMap||e.MozNamedAttrMap:b.NamedNodeMap,C=b.Text,T=b.Comment,S=b.DOMParser,E=b.TrustedTypes;i===typeof b.HTMLTemplateElement&&(b=y.createElement("template")).content&&b.content.ownerDocument&&(y=b.content.ownerDocument);var A=m(E,s),M=A?A.createHTML(""):"",O=(E=y).implementation,N=E.createNodeIterator,D=E.getElementsByTagName,F=E.createDocumentFragment,I=s.importNode,R={};t.isSupported=O&&n!==typeof O.createHTMLDocument&&9!==y.documentMode;var q=(E=f).MUSTACHE_EXPR,L=E.ERB_EXPR,P=E.DATA_ATTR,B=E.ARIA_ATTR,j=E.IS_SCRIPT_OR_DATA,H=E.ATTR_WHITESPACE,U=f.IS_ALLOWED_URI,V=null,z=(0,d.addToSet)({},[].concat(r.arrayFromIterable(c.html),r.arrayFromIterable(c.svg),r.arrayFromIterable(c.svgFilters),r.arrayFromIterable(c.mathMl),r.arrayFromIterable(c.text))),$=null,W=(0,d.addToSet)({},[].concat(r.arrayFromIterable(u.html),r.arrayFromIterable(u.svg),r.arrayFromIterable(u.mathMl),r.arrayFromIterable(u.xml))),Y=null,K=null,J=!0,X=!0,G=!1,Q=!1,Z=!1,ee=!1,te=!1,ne=!1,ie=!1,ae=!1,re=!1,se=!0,oe=!0,le=!1,ce={},ue=(0,d.addToSet)({},"audio head math script style template svg video".split(" ")),de=(0,d.addToSet)({},["audio","video","img","source","image"]),fe=null,he=(0,d.addToSet)({},"alt class for id label name pattern placeholder summary title value style xmlns".split(" ")),pe=null,ge=y.createElement("form"),me=function(e){pe&&pe===e||(e&&a===typeof e||(e={}),V="ALLOWED_TAGS"in e?(0,d.addToSet)({},e.ALLOWED_TAGS):z,$="ALLOWED_ATTR"in e?(0,d.addToSet)({},e.ALLOWED_ATTR):W,fe="ADD_URI_SAFE_ATTR"in e?(0,d.addToSet)({},e.ADD_URI_SAFE_ATTR):he,Y="FORBID_TAGS"in e?(0,d.addToSet)({},e.FORBID_TAGS):{},K="FORBID_ATTR"in e?(0,d.addToSet)({},e.FORBID_ATTR):{},ce="USE_PROFILES"in e&&e.USE_PROFILES,J=!1!==e.ALLOW_ARIA_ATTR,X=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=e.SAFE_FOR_JQUERY||!1,Z=e.SAFE_FOR_TEMPLATES||!1,ee=e.WHOLE_DOCUMENT||!1,ie=e.RETURN_DOM||!1,ae=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_DOM_IMPORT||!1,ne=e.FORCE_BODY||!1,se=!1!==e.SANITIZE_DOM,oe=!1!==e.KEEP_CONTENT,le=e.IN_PLACE||!1,U=e.ALLOWED_URI_REGEXP||U,Z&&(X=!1),ae&&(ie=!0),ce&&(V=(0,d.addToSet)({},[].concat(r.arrayFromIterable(c.text))),$=[],!0===ce.html&&((0,d.addToSet)(V,c.html),(0,d.addToSet)($,u.html)),!0===ce.svg&&((0,d.addToSet)(V,c.svg),(0,d.addToSet)($,u.svg),(0,d.addToSet)($,u.xml)),!0===ce.svgFilters&&((0,d.addToSet)(V,c.svgFilters),(0,d.addToSet)($,u.svg),(0,d.addToSet)($,u.xml)),!0===ce.mathMl&&((0,d.addToSet)(V,c.mathMl),(0,d.addToSet)($,u.mathMl),(0,d.addToSet)($,u.xml))),e.ADD_TAGS&&(V===z&&(V=(0,d.clone)(V)),(0,d.addToSet)(V,e.ADD_TAGS)),e.ADD_ATTR&&($===W&&($=(0,d.clone)($)),(0,d.addToSet)($,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&(0,d.addToSet)(fe,e.ADD_URI_SAFE_ATTR),oe&&(V["#text"]=!0),ee&&(0,d.addToSet)(V,["html","head","body"]),V.table&&(0,d.addToSet)(V,["tbody"]),g&&g(e),pe=e)},ve=function(e){t.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=M}},ye=function(e,n){try{t.removed.push({attribute:n.getAttributeNode(e),from:n})}catch(e){t.removed.push({attribute:null,from:n})}n.removeAttribute(e)},be=function(e){var t;if(ne?e="<remove></remove>"+e:(t=(t=e.match(/^[\s]+/))&&t[0])&&(e=e.slice(t.length)),o)try{var n=(new S).parseFromString(e,"text/html")}catch(e){}if(v&&(0,d.addToSet)(Y,["title"]),!n||!n.documentElement){var i=(n=O.createHTMLDocument("")).body;i.parentNode.removeChild(i.parentNode.firstElementChild),i.outerHTML=A?A.createHTML(e):e}return t&&n.body.insertBefore(y.createTextNode(t),n.body.childNodes[0]||null),D.call(n,ee?"html":"body")[0]};if(t.isSupported){try{be('<svg><p><style><img src="</style><img src=x onerror=1//">').querySelector("svg img")&&(o=!0)}catch(e){}try{be("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").innerHTML.match(/<\/title/)&&(v=!0)}catch(e){}}var _e=function(e){return N.call(e.ownerDocument||e,e,x.SHOW_ELEMENT|x.SHOW_COMMENT|x.SHOW_TEXT,function(){return x.FILTER_ACCEPT},!1)},we=function(e){return a===typeof w?e instanceof w:e&&a===typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},xe=function(e,n,i){R[e]&&R[e].forEach(function(e){e.call(t,n,i,pe)})},ke=function(e){xe("beforeSanitizeElements",e,null);var n=!(e instanceof C||e instanceof T||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&i===typeof e.removeChild&&e.attributes instanceof k&&i===typeof e.removeAttribute&&i===typeof e.setAttribute);if(n)return ve(e),!0;if(n=e.nodeName.toLowerCase(),xe("uponSanitizeElement",e,{tagName:n,allowedTags:V}),!V[n]||Y[n]){if(oe&&!ue[n]&&i===typeof e.insertAdjacentHTML)try{var a=e.innerHTML;e.insertAdjacentHTML("AfterEnd",A?A.createHTML(a):a)}catch(e){}return ve(e),!0}return"noscript"===n&&e.innerHTML.match(/<\/noscript/i)||"noembed"===n&&e.innerHTML.match(/<\/noembed/i)?(ve(e),!0):(!Q||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(t.removed.push({element:e.cloneNode()}),e.innerHTML=e.innerHTML?e.innerHTML.replace(/</g,"&lt;"):e.textContent.replace(/</g,"&lt;")),Z&&3===e.nodeType&&(a=e.textContent,a=a.replace(q," "),a=a.replace(L," "),e.textContent!==a&&(t.removed.push({element:e.cloneNode()}),e.textContent=a)),xe("afterSanitizeElements",e,null),!1)},Ce=function(e,t,n){return(!se||"id"!==t&&"name"!==t||!(n in y||n in ge))&&!!(X&&P.test(t)||J&&B.test(t)||$[t]&&!K[t]&&(fe[t]||U.test(n.replace(H,""))||("src"===t||"xlink:href"===t)&&"script"!==e&&0===n.indexOf("data:")&&de[e]||G&&!j.test(n.replace(H,""))||!n))},Te=function(e){var n,i;xe("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$};for(i=a.length;i--;){var s=n=a[i],o=s.name;s=s.namespaceURI,n=n.value.trim();var l=o.toLowerCase();if(r.attrName=l,r.attrValue=n,r.keepAttr=!0,xe("uponSanitizeAttribute",e,r),n=r.attrValue,"name"===l&&"IMG"===e.nodeName&&a.id){var c=a.id;a=h(p,a,[]),ye("id",e),ye(o,e),a.indexOf(c)>i&&e.setAttribute("id",c.value)}else{if("INPUT"===e.nodeName&&"type"===l&&"file"===n&&r.keepAttr&&($[l]||!K[l]))continue;"id"===o&&e.setAttribute(o,""),ye(o,e)}if(r.keepAttr&&(Z&&(n=n.replace(q," "),n=n.replace(L," ")),c=e.nodeName.toLowerCase(),Ce(c,l,n)))try{s?e.setAttributeNS(s,o,n):e.setAttribute(o,n),t.removed.pop()}catch(e){}}xe("afterSanitizeAttributes",e,null)}},Se=function(e){var t,n=_e(e);for(xe("beforeSanitizeShadowDOM",e,null);t=n.nextNode();)xe("uponSanitizeShadowNode",t,null),ke(t)||(t.content instanceof _&&Se(t.content),Te(t));xe("afterSanitizeShadowDOM",e,null)};return t.sanitize=function(n,r){if(n||(n="\x3c!--\x3e"),"string"!=typeof n&&!we(n)){if(i!==typeof n.toString)throw new TypeError("toString is not a function");if("string"!=typeof(n=""+n))throw new TypeError("dirty is not a string, aborting")}if(!t.isSupported){if(a===typeof e.toStaticHTML||i===typeof e.toStaticHTML){if("string"==typeof n)return e.toStaticHTML(n);if(we(n))return e.toStaticHTML(n.outerHTML)}return n}if(te||me(r),t.removed=[],!le)if(n instanceof w){var o=be("\x3c!--\x3e");1===(r=o.ownerDocument.importNode(n,!0)).nodeType&&"BODY"===r.nodeName?o=r:"HTML"===r.nodeName?o=r:o.appendChild(r)}else{if(!ie&&!Z&&!ee&&-1===n.indexOf("<"))return A?A.createHTML(n):n;if(!(o=be(n)))return ie?null:M}o&&ne&&ve(o.firstChild);for(var l=_e(le?n:o);r=l.nextNode();)if((3!==r.nodeType||r!==c)&&!ke(r)){r.content instanceof _&&Se(r.content),Te(r);var c=r}if(le)return n;if(ie){if(ae)for(n=F.call(o.ownerDocument);o.firstChild;)n.appendChild(o.firstChild);else n=o;return re&&(n=I.call(s,n,!0)),n}return o=ee?o.outerHTML:o.innerHTML,Z&&(o=o.replace(q," "),o=o.replace(L," ")),A?A.createHTML(o):o},t.setConfig=function(e){me(e),te=!0},t.clearConfig=function(){pe=null,te=!1},t.isValidAttribute=function(e,t,n){return pe||me({}),e=e.toLowerCase(),t=t.toLowerCase(),Ce(e,t,n)},t.addHook=function(e,t){i===typeof t&&(R[e]=R[e]||[],R[e].push(t))},t.removeHook=function(e){R[e]&&R[e].pop()},t.removeHooks=function(e){R[e]&&(R[e]=[])},t.removeAllHooks=function(){R={}},t}s.__esModule=!0;var c=o(159),u=o(160),d=o(161),f=o(162),h=(n!==typeof Reflect&&Reflect).apply,p=Array[t].slice,g=Object.freeze;h||(h=function(e,t,n){return e.apply(t,n)});var m=function(e,t){if(a!==typeof e||i!==typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix")),t="dompurify"+(n?"#"+n:"");try{return e.createPolicy(t,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}};s.default=l()},function(e,t,n){void 0===(t=Object.getPrototypeOf)||(e.exports=t)},function(e,t,n){var i,a;i=[n(33)],void 0===(a=function(e){return e.toString}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(55)],void 0===(a=function(e){return e.call(Object)}.apply(t,i))||(e.exports=a)},function(e,t,n){var i,a;i=[n(1),n(105)],void 0===(a=function(e,t){e.find=t,e.expr=t.selectors,e.expr[":"]=e.expr.pseudos,e.uniqueSort=e.unique=t.uniqueSort,e.text=t.getText,e.isXMLDoc=t.isXML,e.contains=t.contains,e.escapeSelector=t.escape}.apply(t,i))||(e.exports=a)},function(e,r,s){var o;!function(r){function s(e,t,n,i){var r,s,o,l,c=t&&t.ownerDocument,u=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==u&&9!==u&&11!==u)return n;if(!i&&((t?t.ownerDocument||t:L)!==M&&ye(t),t=t||M,N)){if(11!==u&&(l=le.exec(e)))if(r=l[1]){if(9===u){if(!(s=t.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(c&&(s=c.getElementById(r))&&R(t,s)&&s.id===r)return n.push(s),n}else{if(l[2])return K.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&me.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(r)),n}if(!(!me.qsa||U[e+" "]||D&&D.test(e))){if(1!==u){c=t;var d=e}else if(a!==t.nodeName.toLowerCase()){for((o=t.getAttribute("id"))?o=o.replace(fe,he):t.setAttribute("id",o=q),r=(s=we(e)).length;r--;)s[r]="#"+o+" "+b(s[r]);d=s.join(","),c=ce.test(e)&&v(t.parentNode)||t}if(d)try{return K.apply(n,c.querySelectorAll(d)),n}catch(e){}finally{o===q&&t.removeAttribute("id")}}}return ke(e.replace(Q,"$1"),t,n,i)}function l(){function e(n,i){return t.push(n+" ")>_e.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function c(e){return e[q]=!0,e}function u(e){var t=M.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function d(e,t){for(var n=(e=e.split("|")).length;n--;)_e.attrHandle[e[n]]=t}function f(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function h(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function p(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function g(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ge(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function m(e){return c(function(t){return t=+t,c(function(n,i){for(var a,r=e([],n.length,t),s=r.length;s--;)n[a=r[s]]&&(n[a]=!(i[a]=n[a]))})})}function v(e){return e&&n!==typeof e.getElementsByTagName&&e}function y(){}function b(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function _(e,t,n){var i=t.dir,a=t.next,r=a||i,s=n&&"parentNode"===r,o=B++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,a);return!1}:function(t,n,l){var c,u=[P,o];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s){var d=t[q]||(t[q]={});if(d=d[t.uniqueID]||(d[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=d[r])&&c[0]===P&&c[1]===o)return u[2]=c[2];if(d[r]=u,u[2]=e(t,n,l))return!0}}return!1}}function w(e){return 1<e.length?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function x(e,t,n,i,a){for(var r,s=[],o=0,l=e.length,c=null!=t;o<l;o++)(r=e[o])&&(n&&!n(r,i,a)||(s.push(r),c&&t.push(o)));return s}function k(e,t,n,i,a,r){return i&&!i[q]&&(i=k(i)),a&&!a[q]&&(a=k(a,r)),c(function(r,o,l,c){var u,d,f=[],h=[],p=o.length;if(!(d=r)){d=t||"*";for(var g=l.nodeType?[l]:l,m=[],v=0,y=g.length;v<y;v++)s(d,g[v],m);d=m}if(d=!e||!r&&t?d:x(d,f,e,l,c),g=n?a||(r?e:p||i)?[]:o:d,n&&n(d,g,l,c),i){var b=x(g,h);for(i(b,[],l,c),l=b.length;l--;)(u=b[l])&&(g[h[l]]=!(d[h[l]]=u))}if(r){if(a||e){if(a){for(b=[],l=g.length;l--;)(u=g[l])&&b.push(d[l]=u);a(null,g=[],b,c)}for(l=g.length;l--;)(u=g[l])&&-1<(b=a?X(r,u):f[l])&&(r[b]=!(o[b]=u))}}else g=x(g===o?g.splice(p,g.length):g),a?a(null,o,g,c):K.apply(o,g)})}function C(e){for(var t,n,i=e.length,a=_e.relative[e[0].type],r=a||_e.relative[" "],s=a?1:0,o=_(function(e){return e===t},r,!0),l=_(function(e){return-1<X(t,e)},r,!0),c=[function(e,n,i){return e=!a&&(i||n!==S)||((t=n).nodeType?o(e,n,i):l(e,n,i)),t=null,e}];s<i;s++)if(r=_e.relative[e[s].type])c=[_(w(c),r)];else{if((r=_e.filter[e[s].type].apply(null,e[s].matches))[q]){for(n=++s;n<i&&!_e.relative[e[n].type];n++);return k(1<s&&w(c),1<s&&b(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(Q,"$1"),r,s<n&&C(e.slice(s,n)),n<i&&C(e=e.slice(n)),n<i&&b(e))}c.push(r)}return w(c)}var T,S,E,A,M,O,N,D,F,I,R,q="sizzle"+1*new Date,L=r.document,P=0,B=0,j=l(),H=l(),U=l(),V=function(e,t){return e===t&&(A=!0),0},z={}.hasOwnProperty,$=[],W=$.pop,Y=$.push,K=$.push,J=$.slice,X=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},G=/[\x20\t\r\n\f]+/g,Q=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Z=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ee=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,te=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ne=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,ie=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ae={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},re=/^(?:input|select|textarea|button)$/i,se=/^h\d$/i,oe=/^[^{]+\{\s*\[native \w/,le=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ce=/[+~]/,ue=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/gi,de=function(e,t,n){return(e="0x"+t-65536)!=e||n?t:0>e?String.fromCharCode(e+65536):String.fromCharCode(e>>10|55296,1023&e|56320)},fe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,he=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},pe=function(){ye()},ge=_(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply($=J.call(L.childNodes),L.childNodes),$[L.childNodes.length].nodeType}catch(e){K={apply:$.length?function(e,t){Y.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}var me=s.support={},ve=s.isXML=function(e){return!!(e=e&&(e.ownerDocument||e).documentElement)&&"HTML"!==e.nodeName},ye=s.setDocument=function(e){var t;return(e=e?e.ownerDocument||e:L)!==M&&9===e.nodeType&&e.documentElement?(M=e,O=M.documentElement,N=!ve(M),L!==M&&(t=M.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",pe,!1):t.attachEvent&&t.attachEvent("onunload",pe)),me.attributes=u(function(e){return e.className="i",!e.getAttribute("className")}),me.getElementsByTagName=u(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),me.getElementsByClassName=oe.test(M.getElementsByClassName),me.getById=u(function(e){return O.appendChild(e).id=q,!M.getElementsByName||!M.getElementsByName(q).length}),me.getById?(_e.filter.ID=function(e){var t=e.replace(ue,de);return function(e){return e.getAttribute("id")===t}},_e.find.ID=function(e,t){if(n!==typeof t.getElementById&&N)return(e=t.getElementById(e))?[e]:[]}):(_e.filter.ID=function(e){var t=e.replace(ue,de);return function(e){return(e=n!==typeof e.getAttributeNode&&e.getAttributeNode("id"))&&e.value===t}},_e.find.ID=function(e,t){if(n!==typeof t.getElementById&&N){var i,a=t.getElementById(e);if(a){if((i=a.getAttributeNode("id"))&&i.value===e)return[a];var r=t.getElementsByName(e);for(t=0;a=r[t++];)if((i=a.getAttributeNode("id"))&&i.value===e)return[a]}return[]}}),_e.find.TAG=me.getElementsByTagName?function(e,t){return n!==typeof t.getElementsByTagName?t.getElementsByTagName(e):me.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n=[],i=0;if(t=t.getElementsByTagName(e),"*"===e){for(;e=t[i++];)1===e.nodeType&&n.push(e);return n}return t},_e.find.CLASS=me.getElementsByClassName&&function(e,t){if(n!==typeof t.getElementsByClassName&&N)return t.getElementsByClassName(e)},F=[],D=[],(me.qsa=oe.test(M.querySelectorAll))&&(u(function(e){O.appendChild(e).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),e.querySelectorAll("[id~="+q+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+q+"+*").length||D.push(".#.+[+~]")}),u(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(me.matchesSelector=oe.test(I=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&u(function(e){me.disconnectedMatch=I.call(e,"*"),I.call(e,"[s!='']:x"),F.push("!=",":((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),D=D.length&&RegExp(D.join("|")),F=F.length&&RegExp(F.join("|")),R=(t=oe.test(O.compareDocumentPosition))||oe.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e;return t=t&&t.parentNode,e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!me.sortDetached&&t.compareDocumentPosition(e)===n?e===M||e.ownerDocument===L&&R(L,e)?-1:t===M||t.ownerDocument===L&&R(L,t)?1:E?X(E,e)-X(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n=0,i=e.parentNode,a=t.parentNode,r=[e],s=[t];if(!i||!a)return e===M?-1:t===M?1:i?-1:a?1:E?X(E,e)-X(E,t):0;if(i===a)return f(e,t);for(;e=e.parentNode;)r.unshift(e);for(e=t;e=e.parentNode;)s.unshift(e);for(;r[n]===s[n];)n++;return n?f(r[n],s[n]):r[n]===L?-1:s[n]===L?1:0},M):M};s.matches=function(e,t){return s(e,null,null,t)},s.matchesSelector=function(e,t){if((e.ownerDocument||e)!==M&&ye(e),t=t.replace(te,"='$1']"),!(!me.matchesSelector||!N||U[t+" "]||F&&F.test(t)||D&&D.test(t)))try{var n=I.call(e,t);if(n||me.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<s(t,M,null,[e]).length},s.contains=function(e,t){return(e.ownerDocument||e)!==M&&ye(e),R(e,t)},s.attr=function(e,t){(e.ownerDocument||e)!==M&&ye(e);var n=_e.attrHandle[t.toLowerCase()];return void 0!==(n=n&&z.call(_e.attrHandle,t.toLowerCase())?n(e,t,!N):void 0)?n:me.attributes||!N?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},s.escape=function(e){return(e+"").replace(fe,he)},s.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},s.uniqueSort=function(e){var t,n=[],i=0,a=0;if(A=!me.detectDuplicates,E=!me.sortStable&&e.slice(0),e.sort(V),A){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return E=null,e};var be=s.getText=function(e){var t="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=be(e)}else if(3===i||4===i)return e.nodeValue}else for(;i=e[n++];)t+=be(i);return t},_e=s.selectors={cacheLength:50,createPseudo:c,match:ae,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ue,de),e[3]=(e[3]||e[4]||e[5]||"").replace(ue,de),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||s.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&s.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ae.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ne.test(n)&&(t=we(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ue,de).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"),j(e,function(e){return t.test("string"==typeof e.className&&e.className||n!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){return null==(i=s.attr(i,e))?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&-1<i.indexOf(n):"$="===t?n&&i.slice(-n.length)===n:"~="===t?-1<(" "+i.replace(G," ")+" ").indexOf(n):"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,a){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var c,u;n=r!==s?"nextSibling":"previousSibling";var d=t.parentNode,f=o&&t.nodeName.toLowerCase();l=!l&&!o;var h=!1;if(d){if(r){for(;n;){for(c=t;c=c[n];)if(o?c.nodeName.toLowerCase()===f:1===c.nodeType)return!1;var p=n="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?d.firstChild:d.lastChild],s&&l){var g=(c=d)[q]||(c[q]={});for(h=(u=(h=(g=g[c.uniqueID]||(g[c.uniqueID]={}))[e]||[])[0]===P&&h[1])&&h[2],c=u&&d.childNodes[u];c=++u&&c&&c[n]||(h=u=0)||p.pop();)if(1===c.nodeType&&++h&&c===t){g[e]=[P,u,h];break}}else if(l&&(c=t,g=c[q]||(c[q]={}),g=g[c.uniqueID]||(g[c.uniqueID]={}),h=g[e]||[],h=u=h[0]===P&&h[1]),!1===h)for(;(c=++u&&c&&c[n]||(h=u=0)||p.pop())&&((o?c.nodeName.toLowerCase()!==f:1!==c.nodeType)||!++h||(l&&(g=c[q]||(c[q]={}),g=g[c.uniqueID]||(g[c.uniqueID]={}),g[e]=[P,h]),c!==t)););return(h-=a)===i||0==h%i&&0<=h/i}}},PSEUDO:function(e,t){var n=_e.pseudos[e]||_e.setFilters[e.toLowerCase()]||s.error("unsupported pseudo: "+e);if(n[q])return n(t);if(1<n.length){var i=[e,e,"",t];return _e.setFilters.hasOwnProperty(e.toLowerCase())?c(function(e,i){for(var a,r=n(e,t),s=r.length;s--;)a=X(e,r[s]),e[a]=!(i[a]=r[s])}):function(e){return n(e,0,i)}}return n}},pseudos:{not:c(function(e){var t=[],n=[],i=xe(e.replace(Q,"$1"));return i[q]?c(function(e,t,n,a){a=i(e,null,a,[]);for(var r=e.length;r--;)(n=a[r])&&(e[r]=!(t[r]=n))}):function(e,a,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}}),has:c(function(e){return function(t){return 0<s(e,t).length}}),contains:c(function(e){return e=e.replace(ue,de),function(t){return-1<(t.textContent||t.innerText||be(t)).indexOf(e)}}),lang:c(function(e){return ie.test(e||"")||s.error("unsupported lang: "+e),e=e.replace(ue,de).toLowerCase(),function(t){var n;do{if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===O},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:g(!1),disabled:g(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!_e.pseudos.empty(e)},header:function(e){return se.test(e.nodeName)},input:function(e){return re.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:m(function(){return[0]}),last:m(function(e,t){return[t-1]}),eq:m(function(e,t,n){return[0>n?n+t:n]}),even:m(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:m(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:m(function(e,t,n){for(t=0>n?n+t:n;0<=--t;)e.push(t);return e}),gt:m(function(e,t,n){for(n=0>n?n+t:n;++n<t;)e.push(n);return e})}};_e.pseudos.nth=_e.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_e.pseudos[T]=h(T);for(T in{submit:!0,reset:!0})_e.pseudos[T]=p(T);y[t]=_e.filters=_e.pseudos,_e.setFilters=new y;var we=s.tokenize=function(e,t){var n,i,a,r,o;if(r=H[e+" "])return t?0:r.slice(0);r=e;var l=[];for(o=_e.preFilter;r;){c&&!(n=Z.exec(r))||(n&&(r=r.slice(n[0].length)||r),l.push(i=[]));var c=!1;(n=ee.exec(r))&&(c=n.shift(),i.push({value:c,type:n[0].replace(Q," ")}),r=r.slice(c.length));for(a in _e.filter)!(n=ae[a].exec(r))||o[a]&&!(n=o[a](n))||(c=n.shift(),i.push({value:c,type:a,matches:n}),r=r.slice(c.length));if(!c)break}return t?r.length:r?s.error(e):H(e,l).slice(0)},xe=s.compile=function(e,t){var n,i=[],a=[],r=U[e+" "];if(!r){for(t||(t=we(e)),n=t.length;n--;)(r=C(t[n]))[q]?i.push(r):a.push(r);(r=U(e,function(e,t){var n=0<t.length,i=0<e.length,a=function(a,r,o,l,c){var u,d,f=0,h="0",p=a&&[],g=[],m=S,v=a||i&&_e.find.TAG("*",c),y=P+=null==m?1:Math.random()||.1,b=v.length;for(c&&(S=r===M||r||c);h!==b&&null!=(u=v[h]);h++){if(i&&u){var _=0;for(r||u.ownerDocument===M||(ye(u),o=!N);d=e[_++];)if(d(u,r||M,o)){l.push(u);break}c&&(P=y)}n&&((u=!d&&u)&&f--,a&&p.push(u))}if(f+=h,n&&h!==f){for(_=0;d=t[_++];)d(p,g,r,o);if(a){if(0<f)for(;h--;)p[h]||g[h]||(g[h]=W.call(l));g=x(g)}K.apply(l,g),c&&!a&&0<g.length&&1<f+t.length&&s.uniqueSort(l)}return c&&(P=y,S=m),p};return n?c(a):a}(a,i))).selector=e}return r},ke=s.select=function(e,t,n,a){var r,s,o,l=i===typeof e&&e,c=!a&&we(e=l.selector||e);if(n=n||[],1===c.length){var u=c[0]=c[0].slice(0);if(2<u.length&&"ID"===(s=u[0]).type&&9===t.nodeType&&N&&_e.relative[u[1].type]){if(!(t=(_e.find.ID(s.matches[0].replace(ue,de),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(r=ae.needsContext.test(e)?0:u.length;r--&&(s=u[r],!_e.relative[o=s.type]);)if((o=_e.find[o])&&(a=o(s.matches[0].replace(ue,de),ce.test(u[0].type)&&v(t.parentNode)||t))){if(u.splice(r,1),!(e=a.length&&b(u)))return K.apply(n,a),n;break}}return(l||xe(e,c))(a,t,!N,n,!t||ce.test(e)&&v(t.parentNode)||t),n};me.sortStable=q.split("").sort(V).join("")===q,me.detectDuplicates=!!A,ye(),me.sortDetached=u(function(e){return 1&e.compareDocumentPosition(M.createElement("fieldset"))}),u(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||d("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),me.attributes&&u(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||d("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),u(function(e){return null==e.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null});var Ce=r.Sizzle;s.noConflict=function(){return r.Sizzle===s&&(r.Sizzle=Ce),s},void 0===(o=s)||(e.exports=o)}(window)},function(e,t,n){var i,a;i=[n(1)],void 0===(a=function(e){e.readyException=function(e){window.setTimeout(function(){throw e})}}.apply(t,i))||(e.exports=a)},,,,function(e,t){e.exports={version:58,minimum:58}},function(e,a,s){a.__esModule=!0;var o=s(112),l=s(2),c=s(74),u=s(12),d=s(6),f=s(23),h=s(4),p=s(11),g=s(9),m=s(76),v=s(8),y=s(5),b=s(10),_=s(44),w=null,x=null;(e=function(e,t,i){var a=this;if(p.default.create(this),this._JSON=y,this.theFrame=l.default.observable(null),this.Alert=u.default,this.ko=l.default,this._ga=l.default.observable(!1),this.env=d.default,this.clientStorage=new f.default(this,e.account),this.accountId=e.account,this.tgCloseKey="_tgclose_"+e.account,!this.accountId)throw"Invalid Account ID";this.accountId=this.accountId.toLowerCase(),t=t||null,this.type=i,this.custom_cobrowse_code=null,this.userArea=this.type+"_"+this.accountId,this.notificationAllowed=!0,this.sounds={},this.config=(0,v.extendObject)({},{v:0,user_hash:null},e),this.userDetails=l.default.observable({}),this.trigger_agents=l.default.observableArray([]),this.trigger_department=l.default.observableArray([]),this.selected_agent=l.default.observable(null),this.auto_start_agents=l.default.observable(null),this.auto_start_department=l.default.observable(null),e.s=e.s&&e.s instanceof Date?e.s:new Date,this.themes={},this.themes_list={},this.themeCBs=[],this.defaultTheme=null,this.account=l.default.observable(),this.initSucceed=l.default.observable(!0),this.custom_settings=l.default.observable({}),this.settings=l.default.computed({read:function(){return a.account()&&a.account().settings&&a.custom_settings()?(0,v.extendObject)({},a.account().settings,a.custom_settings()):a.custom_settings()},deferEvaluation:!0}),this.isLanguageSetByApi=l.default.observable(!1),this.custom_form_settings=l.default.observable({}),this.form_settings=l.default.computed({read:function(){if(!a.settings()||!a.settings().form_settings)return a.custom_form_settings();try{a.custom_form_settings();try{return Object.assign({},y.parse(a.settings().form_settings),a.custom_form_settings())}catch(e){}return a.custom_form_settings()}catch(e){return a.custom_form_settings()}},deferEvaluation:!0});var m=this;this.extensionManager=g.default.asyncDependency(function(e){s.e(6).then(function(){var t=[s(321)];(function(t){e(t.default)}).apply(null,t)}).catch(s.oe)}),this.frameMananger=g.default.asyncDependency(function(e){s.e(3).then(function(){var t=[s(316)];(function(t){e(new t.default(m))}).apply(null,t)}).catch(s.oe)}),this.popUpMananger=g.default.asyncDependency(function(e){s.e(7).then(function(){var t=[s(322)];(function(t){e(new t.default(m))}).apply(null,t)}).catch(s.oe)}),this.p2p=g.default.asyncDependency(function(e){var t=b.default.trackTimeEvent("modules","p2p");s.e(5).then(function(){var n=[s(323)];(function(n){t();var i=b.default.trackTimeEvent("modules","p2p-myself-wait"),a=function(){i();var t=new n.default(m.accountId,m,m.config.virtual?{id:"agent-1-web-1",key:"XXXXX",nick:"Boss"}:m.myself().client);e(t)};if(m.myself()||m.config.virtual)a();else var r=m.myself.subscribe(function(){g.default.disposeKoItem(r),a()})}).apply(null,n)}).catch(s.oe)}),this.onlineDepartments=l.default.observableArray([]),this.availableDepartments=l.default.observableArray([]),this.white_label_customization=l.default.observable([]),this.custom_theme_button=l.default.observable([]),this.custom_chat_button_img=l.default.observable([]),this.lang=l.default.observable("en-US"),this.messages=l.default.observable(null),this.msg_load_request=l.default.observable(null),this.translation_loaded=l.default.observable(!1),this.keepConnected="backend"==i,this.agentMustOnline=l.default.observableArray([]),this.setting_messages=l.default.observable({});var _=h.default.getDefaultText();this.default_text=_,this.account.subscribe(function(e){if(a.account().agents&&a.account().agents!=[]&&a._allAgents(a.account().agents),a.account()&&a.account().settings){for(var t in _)if(a.isValidJSON(a.account().settings[t])){var i=a.getAccountSettingValue(a.account().settings[t],_[t]);a.setting_messages()[t]=a.account().settings[t],a.account().settings[t]=i}a.account().settings.chat_window=(a.account().settings.chat_window||"modern").replace("_03",""),a.account().settings&&"http:"===window.location.protocol&&0>window.location.hostname.indexOf("localhost")&&"http:"===window.location.protocol&&(a.account().settings.communication_enable=","),a.account().settings.company_logo=a.account().settings.company_logo&&""!=a.account().settings.company_logo&&-1===a.account().settings.company_logo.indexOf("https://")?d.default.mediaUrl+"company/"+a.account().settings.company_logo:a.account().settings.company_logo}if(a.custom_settings(a.account()&&a.account().settings?a.account().settings:{}),a.settings()&&a.settings().language&&(n!=typeof a.account().translated_message&&n!=typeof a.account().translated_message.node&&a.lang()==a.settings().language&&a.messages(a.account().translated_message.node),!a.isLanguageSetByApi()))try{"frontend"==a.type&&a.lang(a.settings().language)}catch(e){a.lang("en-US")}if(a.settings()&&a.settings().white_label_customization)try{a.white_label_customization(y.parse(e.settings.white_label_customization))}catch(e){a.white_label_customization(null)}if(e.settings&&e.settings.custom_theme_button)try{a.custom_theme_button(y.parse(e.settings.custom_theme_button))}catch(e){a.custom_theme_button(null)}if(e.settings&&e.settings.custom_chat_button_img)try{a.custom_chat_button_img(y.parse(e.settings.custom_chat_button_img))}catch(e){a.custom_chat_button_img(null)}}),this.lang.subscribe(function(e){for(var t=r.m(["en-US","zh-CN","pt-PT"]),n=t.next();!n.done;n=t.next())if(n=n.value,e.toLowerCase()==n.toLowerCase()&&e!=n)return void a.lang(n);a.loadTransMessages(!0);for(var i in _)a.isValidJSON(a.setting_messages()[i])&&(e=a.getAccountSettingValue(a.setting_messages()[i],_[i]),a.account().settings[i]=e);a.account.valueHasMutated()}),this.invitations=l.default.observableArray([]),this.pendingInvitations=l.default.computed(function(){for(var e=[],t=r.m(a.invitations()),n=t.next();!n.done;n=t.next())(n=n.value).data()&&n.data().chat&&("pending"==n.data().chat.status||"invited"==n.data().chat.status||"pending"==n.status)&&e.push(n);return e}),this.pendingPopupInvitations=l.default.computed(function(){for(var e=[],t=r.m(a.invitations()),n=t.next();!n.done;n=t.next())(n=n.value).hidden()||!n.data()||!n.data().chat||"pending"!=n.data().chat.status&&"invited"!=n.data().chat.status&&"pending"!=n.status||e.push(n);return e}),this._agents=l.default.observableArray([]),this.agents=l.default.computed(function(){for(var e=[],t=r.m(a._agents()),n=t.next();!n.done;n=t.next())(!(n=n.value).data()||"online"==n.data().state||"standby"==n.data().state||0<=a.agentMustOnline().indexOf("agent-"+n.data().id))&&e.push(n);return e}),this.onlineDepartments=l.default.computed(function(){if(n!=typeof a.account()&&a.account().departments&&a.account().departments!=[]){var e=function(e,t,n){this.id=e,this.name=t,this.disabled=n},t=[],i={};t.push(new e("",a.getTransMsg(a.default_text.online_department_text),!1));for(var s=r.m(a.availableAgents()),o=s.next();!o.done;o=s.next()){o=a.getAgent(o.value.data().id).data();for(var l=r.m(a.account().agents),c=l.next();!c.done;c=l.next()){c=c.value;for(var u=r.m(c.departments),d=u.next();!d.done;d=u.next())d=d.value,c.id==o.id&&(n==typeof i[d]&&(i[d]=[]),i[d].push(c.id))}}if(0<Object.getOwnPropertyNames(i).length){for(var f in a.account().departments)s=a.account().departments[f],o=!0,n!=typeof i[f]&&0<i[f].length&&(o=!1),o||t.push(new e(f,s,o));return t}return!1}}),this.availableDepartments=l.default.computed(function(){if(n!=typeof a.account()&&a.account().departments&&a.account().departments!=[]){var e=function(e,t,n){this.id=e,this.name=t,this.disabled=n},t=[],i={};t.push(new e("",a.getTransMsg(a.default_text.online_department_text),!1));for(var r=0;r<a.availableAgents().length;r++){var s=a.availableAgents()[r];s=a.getAgent(s.data().id).data();for(var o in a.account().agents){var l,c=a.account().agents[o];for(l in c.departments){var u=c.departments[l];c.id==s.id&&(n==typeof i[u]&&(i[u]=[]),i[u].push(c.id))}}}if(0<Object.getOwnPropertyNames(i).length){for(var d in a.account().departments)r=a.account().departments[d],o=!0,n!=typeof i[d]&&0<i[d].length&&(o=!1),t.push(new e(d,r,o));return t}return!1}});var w=0<=window.location.href.indexOf("agent_logs");this.availableAgents=this.onlineAgents=l.default.computed(function(){var e=a.agents(),t=a.trigger_department();return a.account()&&"3ae2d"!==a.account().uid&&(e=e.filter(function(e){if(0==a.trigger_agents().length&&e.data()&&e.data().type&&"bot"==e.data().type)return!1;if(e.data()&&e.data().type&&"bot"==e.data().type)return!0;if(e.data()&&e.data().disabled)return w&&console.log(e.data().first_name+" Agent offline"),!1;if("online"!=e.data().state&&0<=a.agentMustOnline().indexOf("agent-"+e.data().id))return w&&console.log(e.data().first_name+" Agent offline but in chat."),!0;if(e.data()&&"online"!=e.data().state)return w&&console.log(e.data().first_name+" Agent offline"),!1;if(a.selected_agent()&&(!e.data()||e.data().id!==a.selected_agent().id))return w&&console.log(e.data().first_name+" Agent not as per defined by api"),!1;if(!a.selected_agent()&&a.trigger_agents()&&a.trigger_agents().length&&!(e.data()&&e.data().id&&0<=a.trigger_agents().indexOf(e.data().id)))return w&&console.log(e.data().first_name+" Agent not as per defined by trigger"),!1;if(t.length){for(var n=!1,i=r.m(a.account().agents),s=i.next();!s.done;s=i.next())if((s=s.value).id==e.data().id)for(var o=(s=r.m(s.departments)).next();!o.done;o=s.next())0<=t.indexOf(o.value)&&(n=!0);if(!n)return w&&console.log(e.data().first_name+" Agent not as per defined by deparment"),!1}if(n=a.account().settings&&a.account().settings.working_hours_toggle?a.account().settings.working_hours_toggle:"0",i=-1!=location.href.indexOf("skip_operating_hour=1"),0<n&&!i){n=a.account().settings&&a.account().settings.timezone_offset_decimal?a.account().settings.timezone_offset_decimal:"+0",i=a.account().settings&&a.account().settings.timezone_offset?a.account().settings.timezone_offset:"+0",s=new Date,o=a.convertTimezones(s,n);var l=a.formatDate(o),c="sun mon tue wed thu fri sat".split(" ")[o.getDay()];o.getTime();var u=a.account().settings&&a.account().settings.special_holidays?a.account().settings.special_holidays:null;if(null!=u){var d=!1;try{y.parse(u)}catch(e){}if([].forEach(function(e){l===e.holiday_on&&(d=!0)}),d)return w&&console.log(e.data().first_name+" Agent out of bound operating hours"),!1}var f=a.account().settings&&a.account().settings.working_schedule?a.account().settings.working_schedule:null;if(null==f)return w&&console.log("%c"+e.data().first_name+" Agent out of bound operating hours.","background:red;font-size:14px; color:white; padding:20px;border-radius:4px;"),!1;u=!1;var h=[];try{h=y.parse(f)}catch(e){}for(h=(f=r.m(h)).next();!h.done;h=f.next()){h=h.value;var p=(""+o).split(" ");p=p[0]+" "+p[1]+" "+p[2]+" "+p[3];var g=new Date(p+" "+h.working_from_time+" GMT"+i.replace(":","")),m=new Date(p+" "+h.working_to_time+" GMT"+i.replace(":",""));if(w&&c==h.working_day){var v=y.stringify(h)+"\n";v+=p+" "+h.working_from_time+" GMT"+i.replace(":","")+"\n",v+=i+"\n%c",v+=g+"\n",v+=m+"\n",v+=s+"\n",console.log("%c"+(v+="-------------------------------"),"font-size:8px; color:blue;","font-size:8px; color:#8000ff;")}if(c==h.working_day&&g.getTime()<=s.getTime()&&m.getTime()>=s.getTime()){u=!0;break}}if(!u)return w&&console.log("%c"+e.data().first_name+" Agent out of bound operating hours.","background:red;font-size:20px; color:white; padding:14px;border-radius:4px;"),!1}return!0})),e.sort(function(e,t){return e=(e.data()?e.data().chat_count:0)+(e.data()?e.data().voip_count:0),t=(t.data()?t.data().chat_count:0)+(t.data()?t.data().voip_count:0),e>t?1:-1}),e}),this._allAgents=l.default.observableArray([]),this.allAgents=l.default.computed(function(){for(var e=[],t=r.m(a._allAgents()),i=t.next();!i.done;i=t.next()){(i=i.value).photo=a.getPhotoUrl(i.photo),i.status="offline",i.user=null;for(var s=[],o=r.m(i.departments),c=o.next();!c.done;c=o.next())c=c.value,n!=a.account().departments[c]&&s.push(a.account().departments[c]);for(i.department_name=s?s.join(","):"",c=(s=r.m(a.onlineAgents())).next();!c.done;c=s.next())o=c.value,i.id==o.data().id&&(i.status="online",i.user=o);"online"==i.status?e.unshift(l.default.observable(i)):e.push(l.default.observable(i))}return e}),this.myself=l.default.observable(),this.visitor_details_saving=l.default.observable(!1),(this.virtual_user=n!=typeof window.tgv_virtual_visitor&&!!window.tgv_virtual_visitor)&&(s.e(0).then(function(){var e=[s(90)];(function(e){}).apply(null,e)}).catch(s.oe),this.p2p(function(){})),this.configure(e),this.socket=null,this.visitHash=this._init=!1,this.visitorHash=null,this.configureUI(),"preview"!=i&&(b.default.start(this,e.s),this.tracker=b.default.get(),this.session=new o.default(this,this.accountId,this.account()&&this.account().parent_enterprise_acc_uid?this.account().parent_enterprise_acc_uid:this.accountId,this.userArea),this.visitor_detail_updated_by="frontend"==this.type?"visitor":"agent",this.hide_button_by_queue_threshold=this.hide_button_by_trigger=!1,this.session.on("connect",function(e,t){if(a.socket=e,!t){var i=!1;c.default.setStore(a,a.session,function(e,t,n){i||(e=a._agents._subscriptions,a._agents._subscriptions={change:[]},a._agents([]),a._agents._subscriptions=e,i=!0),(e=new c.default(a)).data(t,!1),n(e),a._agents.push(e)},function(e){a._agents.remove(e)}),e.on("account-details",function(e){a.configure(e)}),e.on("update-identity",function(e,t,n,i){a.myself().id=t,a.myself().client=i,a.visitorHash=n,b.default.get().setVisitorHash(n,a.userArea),a.myself.valueHasMutated(),a.p2p()&&a.p2p().updateDetails(i)}),e.on("account-details-hide-button",function(e){(e||!e&&!a.hide_button_by_queue_threshold)&&(a.hide_button_by_trigger=e,a.account().settings.hide_button=!!e,a.settings().hide_button=!!e,a.custom_settings(Object.assign({},a.custom_settings(),{hide_button:!!e})))}),e.on("trigger_agents",function(e){e=e.map(function(e){return Math.trunc(e)}),a.trigger_agents(e)}),e.on("remove_bot_agents",function(e){a.trigger_agents.remove(e)}),e.on("update_language",function(t){a.isLanguageSetByApi(!0),a.lang(t),e.emit("update_language",a.lang())}),e.on("trigger_department",function(e){a.trigger_department(e)}),e.on("invite_chat_remove",function(e){for(var t=r.m(a.invitations()),n=t.next();!n.done;n=t.next())(n=n.value)&&n.id==e&&(n.remove(),a.invitations.remove(n))}),e.on("invite_chat_add",function(t,i,s,o,c){if(s=void 0!==s&&s,o=void 0!==o&&o,c=void 0!==c&&c){var d=0;c=y.parse(c);for(var f in c){var p=c[f];"match"==p.condition||"equal"==p.condition?0<=window.location.href.indexOf(p.data)&&d++:0>window.location.href.indexOf(p.data)&&d++}if(0==d)return}if("frontend"!=a.type||!(d=i&&i.group_id?i.group_id:null)||-1!==(""+d).indexOf("_bot")||!a.clientStorage.get(a.tgCloseKey+"_"+d)){var g=!1;for(d=function(e){return e.filter(function(e){return"message"==e.type||"sms"==e.type})},f=(c=r.m(a.invitations())).next();!f.done;f=c.next())f=f.value,(t==f.id&&(null==f.data().group_id||null==i.group_id)||f.data().group_id&&f.data().group_id==i.group_id)&&(f.data(Object.assign({},f.data(),i)),g=f,f.data.valueHasMutated(),f.data.notifySubscribers(),f.text_messages(d(f.data().messages)));var m=l.default.observable(0),v=setInterval(function(){m&&m(m()+20)},2e4);if(f=l.default.computed(function(){return(i&&i.chat.date_created?h.default.getCurrentTime()/1e3-h.default.getTimeFromDate(i.chat.date_created,!1).getTime()/1e3:null)+m()}),!g){var b=null;if(n!==typeof i.button&&""!==i.button)try{i.button=y.parse(i.button)}catch(e){console.error(e)}if((c=n!==typeof i.first_message&&i.first_message)&&0<i.messages.length&&n!==typeof i.messages[0].message)try{y.parse(i.messages[0].message)}catch(e){i.messages[0].message='[{"type":"text","text":"'+i.messages[0].message+'","style":"paragraph","align":"left"}]'}if(g={popup:c,id:t,status:"pending",show_in:i.show_in,notified:!1,elements:l.default.observable([]),hidden:l.default.observable(!1),pending_since_text:l.default.computed(h.default.getTimeLeftSinceCompute(f,"")),data:l.default.observable(i),text_messages:l.default.observable(d(i.messages)),remove:function(){b&&b()},hide:function(){g.hidden(!0)},accept:function(){b&&b();var n=parseInt(a.settings()?a.settings().max_chat_per_agent:0);"backend"==a.type&&n&&a.chatManager().open_chats().length>=n?u.default.alert(a.getTransMsg("Chat Limit Reached"),"You already have "+a.chatManager().open_chats().length+" opened chat, Please close other chats to pick this."):"backend"==a.type&&1==a.account().plan_id&&1<=a.chatManager().open_chats().length?u.default.alert(a.getTransMsg("Chat Limit Reached"),a.getTransMsg("Your plan do not support more than one chat at a time, Please Upgrade the plan.")):(clearInterval(v),g.status="active",g.notified=!0,e.emit("chat_accept",t,function(e){g.remove(),a.invitations.remove(g)}))}},o)g.accept();else if("frontend"!=a.type||!a.settings().cobrowse_only||"0"===a.settings().cobrowse_only){if(g&&g.data().messages&&(o=[],h.default.safeType(g.data().messages,"Object"))){for(var _ in g.data().messages)o.push(g.data().messages[_]);g.data().messages=o}if(a.invitations.push(g),g&&!g.notified&&g.data()&&s&&(a.clientStorage.get("_tagnoticed")!==t||!t))if(g.data().messages&&0<g.data().messages.length){for(s="",_=[],f=(o=r.m(g.data().messages)).next();!f.done;f=o.next())"message"!=(d=f.value).type&&"sms"!=d.type||(0>_.indexOf(d.user.name)&&_.push(d.user.name),s+="\n"+d.message);a.clientStorage.set("_tagnoticed",t,300),(0<_.length||"backend"==a.type)&&(g.notified=!0,b=a.notify("frontend"==a.type?"trigger":"new_chat",a.getTransMsg("sms"==i.chat.type?"New SMS request is there !":"New chat request is there !"),s,function(){g.accept()}))}else b=a.notify("frontend"!==a.type?"new_chat":"trigger",a.getTransMsg("sms"==i.chat.type?"{num} New SMS request is there !":"{num} New chat request is there !"),a.getTransMsg("Click notification to attend this chat."),function(){"backend"==a.type&&n!=typeof chrome&&chrome.extension?a.newChromeTab("pick",g.data().id):g.accept()})}}}}),a.userDetails.subscribe(function(){if(a.visitor_detail_updated_by!=("frontend"==a.type?"visitor":"agent"))a.visitor_detail_updated_by="frontend"==a.type?"visitor":"agent";else{a.visitor_details_saving(!0);var t=!0;e.emit("visitor_details_update",a.userDetails(),function(){t&&(a.visitor_details_saving(!1),t=!1)}),setTimeout(function(){t&&(a.visitor_details_saving(!1),t=!1)},1500)}});for(var s=(t=r.m(["call","new_chat","new_message","trigger"])).next();!s.done;s=t.next())a.getSound(s.value,function(){})}}),this.session.on("start",function(e,i,r,s,o){if(s)return a.initSucceed(!1),t?void u.default.alert("Authentication Error",""+s):console.error("##ERROR## "+s);if(o.track.visitorHash&&b.default.get().setVisitorHash(o.track.visitorHash,a.userArea),o.track.visitorHash&&(a.visitorHash=o.track.visitorHash),o.track.visitHash&&(a.visitHash=o.track.visitHash),o.account&&o.account.settings&&o.account.settings.form_settings)try{o.account.settings.form_settings=y.parse(o.account.settings.form_settings),a.custom_form_settings(o.account.settings.form_settings)}catch(e){o.account.settings.form_settings={}}null!=o.account&&a.account(o.account),"frontend"==a.type&&o.account&&n!=typeof o.account.translated_messages&&n!=typeof o.account.translated_messages.node&&(a.messages(o.account.translated_messages.node),a.msg_load_request(null)),a.myself(o.myself),a.loadTransMessages(),e.emit("update_language",a.lang())}),"backend"==this.type?this.start(t):b.default.getUserAgentDetails(function(e){var n=b.default.trackTimeEvent("widget","visitor-hash-collect");b.default.get().getVisitorHash(a.userArea,function(i){a.visitorHash=i,n(),a.start(t,e)})}))})[t].captureExceptionStack=function(e,t,n){try{n||(n=Error().stack),t={account:this.accountId,myself:this.myself(),details:t,stack:n},window.acq_rav&&window.acq_rav.captureMessage(e,{level:"warning",extra:t})}catch(e){console.error(e)}},e[t].start=function(e,t,i){var a=this;if(t=void 0===t?{}:t,i=void 0!==i&&i,this.config.virtual)setTimeout(function(){a.session.trigger("ready"),a.trigger("ready")},1500);else if(this.config&&this.config.tweaks&&this.config.tweaks.lazzy_socket&&"frontend"==this.type&&!i)this.if("please-ready",this.start.bind(this,e,t,!0));else{var r=!1;window.location.hash&&0===window.location.hash.indexOf("#join-chat-")&&(r=window.location.hash.replace("#join-chat-","")),this.session.on("ready",function(){setTimeout(function(){a.trigger("ready")},0)}),this.session.start(function(){return{auth:e||null,ip:"",visitorHash:a.config.user_hash?"HS:"+a.config.user_hash:a.visitorHash,visitHash:a.visitHash,ua:t,details:a.userDetails(),network:b.default.getNetworkDetails(),page:b.default.getCurrentPageDetails(),chat_invitaion_code:n!=typeof window.tgv_chat_code?window.tgv_chat_code:r,virtual:a.virtual_user}},this.keepConnected)}},e[t].convertTimezones=function(e,t){return t=void 0===t?"+0":t,e=e.getTime()+6e4*e.getTimezoneOffset(),new Date(e+36e5*t)},e[t].formatDate=function(e){var t=new Date(e);e=""+(t.getMonth()+1);var n=""+t.getDate();return t=t.getFullYear(),2>e.length&&(e="0"+e),2>n.length&&(n="0"+n),[t,e,n].join("-")},e[t].disconnect=function(){this.session.connector.disconnect(),this.p2p()&&this.p2p().connector&&this.p2p().connector.disconnect()},e[t].googleAnalyticscheck=function(e,t,a){try{if("frontend"==this.type){if(!this._ga()&&n!=typeof this.account().google_integration&&null!=this.account().google_integration&&n!=typeof this.account().google_integration.google_analytics&&null!=this.account().google_integration.google_analytics&&""!=this.account().google_integration.google_analytics){var r=document.createElement("script"),s='(function(i,s,o,g,r,a,m){\ni["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();\na=s.createElement(o),m=s.getElementsByTagName(o)[0];\na.async=1;a.src=g;m.parentNode.insertBefore(a,m)})\n(window,document,"script","https://www.google-analytics.com/analytics.js","ga");\n';s+='ga("create", "'+this.account().google_integration.google_analytics+'", "auto");',r.text=s+'ga("send", "pageview");',document.getElementsByTagName("head")[0].appendChild(r),this._ga(!0)}(this._ga&&i===typeof ga||n!==typeof ga)&&ga("send","event",t,e,a)}}catch(e){console.error(e)}},e[t].iOSversion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}return null},e[t].isRTCiOS=function(){var e=this.iOSversion();return"iOS"!==window.parserResult.os.name||"iOS"==window.parserResult.os.name&&e&&11<=e[0]&&10<=parseFloat(window.parserResult.browser.version)},e[t].isRTCSupport=function(){var e=this.iOSversion();return!window.parserResult||!window.parserResult.os||"IE"!==window.parserResult.browser.name&&"Safari"!==window.parserResult.browser.name||("Safari"==window.parserResult.browser.name||"Mobile Safari"==window.parserResult.browser.name&&e&&11<=e[0]&&10<=parseFloat(window.parserResult.browser.version))&&11<=parseFloat(window.parserResult.browser.version)},e[t].configureUI=function(){},e[t].escapeHTML=function(e){return e=((void 0===e?"":e)||"").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ").replace(/<\/?[^>]+(>|$)/g,"")},e[t].filterMsg=function(e,t,n){if(n=void 0!==n&&n,t=null,"string"!=typeof(e=_.default.sanitize((e||"")+"")))return-1!=location.href.indexOf("agent_logs")&&console.error(e),"";if(("<tgv-block"===e.slice(0,10)||"<div"===e.slice(0,4)||"<img"===e.slice(0,4)||0<=e.indexOf("<a")||0<=e.indexOf("<br>")||0<=e.indexOf("<ul")||0<=e.indexOf("<ol")||0<=e.indexOf("<strong")||0<=e.indexOf("<em")||0<=e.indexOf("<u")||0<=e.indexOf("<span")||0<=e.indexOf("emoji-gif")||"<p"===e.slice(0,2)||'<div class="tgv-block"'===e.slice(0,22)||'<div class="embed-video tgv-block'===e.slice(0,33)||"<bot-msg"===e.slice(0,8)||'<div class="emoji-gif'===e.slice(0,21))&&(n=!0),n){var i=function(e){if(1==e.nodeType&&(-1!=["SCRIPT","STYLE","LINK"].indexOf(e.nodeName)&&(e.parentNode.insertBefore(document.createTextNode(e.outerHTML),e),e.parentNode.removeChild(e)),"IFRAME"==e.nodeName&&e.getAttribute("src")&&"http"!=(e.getAttribute("src")||"").substr(0,4)&&(e.parentNode.insertBefore(document.createTextNode(e.outerHTML),e),e.parentNode.removeChild(e)),"A"==e.nodeName&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener"),"https://"!=(e.getAttribute("href")||"").substr(0,8)&&"http://"!=(e.getAttribute("href")||"").substr(0,7)&&"mailto:"!=(e.getAttribute("href")||"").substr(0,7)&&e.setAttribute("href","javascript:;"))),e.hasAttributes()&&0<e.attributes.length)for(var t=0;t<e.attributes.length;t++)!e.attributes[t]||"on"!=((""+e.attributes[t].name).toLowerCase()||"").substr(0,2)&&-1==e.attributes[t].value.indexOf("javascript:")&&-1==e.attributes[t].value.indexOf("document.")||(e.parentNode?(e.parentNode.insertBefore(document.createTextNode(e.outerHTML),e),e.parentNode.removeChild(e)):e.attributes.removeNamedItem(e.attributes[t].name));if(0<e.children.length)for(e=r.m(e.children),t=e.next();!t.done;t=e.next())i(t.value)};e=function(e){e=(e||"").replace(/\\x([0-9A-Fa-f]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))});var t=document.createElement("div");return t.innerHTML=e,i(t),t.innerHTML}(e)}return n=m.default.filterMsg(t?t():e,n),t?t(n):t=n,t||(t=l.default.observable(e))()},e[t].filterTransMsg=function(e,t){if(t=void 0===t?null:t,e&&""!=e)if("event"==t||"system"==t){t="just joined this chat.;just closed this chat.;closed this chat;just opened chat request.;just left this chat.;typing".split(";");for(var n=0;n<t.length;n++)if(0<e.indexOf(t[n])){e=e.replace(t[n],this.getTransMsg(t[n]));break}}else"datetime"==t&&(t=e.replace(/(^\d+)(.+$)/i,"$1"),0<parseInt(t)?(e=e.substring(t.length).trim(),e=this.getTransMsg("{time} "+e,{time:t})):e=this.getTransMsg(e));return e},e[t].isValidJSON=function(e){try{y.parse(e)}catch(e){return!1}return!0},e[t].getAccountSettingValue=function(e,t){if(e=y.parse(e))for(var n=(e=r.m(e)).next();!n.done;n=e.next()){if((n=n.value).language==this.lang()&&""!==(n.message||"").trim()){t=n.message;break}"en-US"==n.language&&""!==(n.message||"").trim()&&(t=n.message)}return t},e[t].dispose=function(){this.p2p()&&(this.p2p().trigger("dispose"),this.p2p.forceChange(null)),this.frameMananger()&&(this.frameMananger().trigger("dispose"),this.frameMananger.forceChange(null)),this.popUpMananger()&&(this.popUpMananger().trigger("dispose"),this.popUpMananger.forceChange(null)),this.userDetails()&&this.userDetails({}),this.trigger_agents([]),this.trigger_department([]),this.selected_agent(null),this.auto_start_agents(null),this.auto_start_department(null),this.white_label_customization([]),this.custom_theme_button([]),this.custom_chat_button_img([]),this.lang("en-US"),this.messages(null),this.msg_load_request(null),this.invitations([]),this._agents([]),this._allAgents([]),this.myself(null),this.chat&&this.chat()&&(this.chat().trigger("dispose"),this.chat(null)),this.trigger("dispose")},e[t].setActivityTimeout=function(e){for(var t=this,n=!1,i=Date.now(),a=r.m("move resize mousemove mouseclick click keypress".split(" ")),s=a.next();!s.done;s=a.next())window.addEventListener(s.value,function(){i=Date.now(),n&&(n=!1,t.session.connector.update(0,!0),t.session.connector.tryReconnect())});setInterval(function(){(new Date).getTime()-i>e&&(n=!0,t.session.connector.update(1,!0),t.session.connector.disconnect(),t.session.connector.update(1,!0))},5e3)},e[t].setUserDetails=function(e){e=void 0===e?{}:e;var t,i={};for(t in this.form_settings()){var a=this.form_settings()[t];i[t]=a,"online_name"==t&&n!==typeof e.name&&e.name&&""!=e.name&&"#"!==e.name.charAt(0)&&(i[t]="off"),"online_email"==t&&n!==typeof e.email&&e.email&&""!=e.email&&(i[t]="off"),"online_phone"==t&&n!==typeof e.phone&&e.phone&&""!=e.phone&&(i[t]="off")}this.custom_form_settings(i),this.userDetails((0,v.extendObject)({},this.userDetails(),e))},e[t].onlyPoll=function(){this.session.connector.server.disconnect(),this.session.connector.server.io.opts.transports=["polling","xhr-polling","jsonp-polling","htmlfile","flashsocket"]},e[t].configure=function(e){this.config=(0,v.extendObject)({},this.config,e),"lang"in e&&this.isLanguageSetByApi(!0);for(var t in e){var a=e[t];if("settings"==t)this.account(a);else if("account"==t)this.accountId=a;else if("userDetails"==t)this.setUserDetails(a);else if("user_hash"==t&&"frontend"==this.type)this.loginVisitor(a);else if("agents"==t){for(var s=[],o=(a=r.m(a)).next();!o.done;o=a.next()){o=o.value;var l=new c.default(this);s.push(l),l.data(o)}this._agents(s)}else"isMPVisitor"==t?this.isMPVisitor=t:"seller_data"==t?this.sellerData=a:i==typeof this[t]?this[t](a):"translated_messages"==t?"frontend"==this.type&&n!=typeof a.translated_messages&&n!=typeof a.translated_messages.node&&this.messages(a.translated_messages.node):this[t]=a}},e[t].getNotificationPermissions=function(){if(window.webkitNotifications&&window.webkitNotifications.checkPermission)var e=["granted","default","denied"][window.webkitNotifications.checkPermission()];else navigator.mozNotification?e="granted":window.Notification&&window.Notification.permission&&(e=window.Notification.permission);"granted"==e?this.notificationAllowed=!0:(this.notificationAllowed=!0,window.webkitNotifications&&window.webkitNotifications.checkPermission?window.webkitNotifications.requestPermission():window.Notification&&window.Notification.requestPermission&&window.Notification.requestPermission())},e[t].titleNotify=function(e,t){var i=this;if(n==typeof this.title_messages){this.title_messages={},this.title_messages[e]=[];var a=document.title,r=null,s=0;setInterval(function(){var e=Object.keys(i.title_messages);s>=e.length?(document.title!=a&&document.title!=r&&(a=document.title,r=null),document.title=a,s=0):i.title_messages[e[s]]&&i.title_messages[e[s]].length&&(document.title=i.title_messages[e[s]][0].replace("{num}",i.title_messages[e[s]].length),r=document.title,s++)},1500)}n==typeof this.title_messages[e]&&(this.title_messages[e]=[]),this.title_messages[e].push(t);var o=function(){window.removeEventListener("mousemove",o),i.title_messages[e]&&(i.title_messages[e].splice(i.title_messages[e].indexOf(t),1),0==i.title_messages[e].length&&delete i.title_messages[e])};return window.addEventListener("mousemove",o),o},e[t].notify=function(e,t,i,a,r){var s=this;i=(i=(i=(i=i.replace(/<\/?[^>]+(>|$)/g,"")).replace("^^^obj^^^"," Buttons: ")).replace("^^^d_obj^^^"," Buttons: ")).replace(/\^\^/g,", ");var o;if(("trigger"!=e||"frontend"!=this.type||!this.settings()||"1"!=this.settings().cobrowse_only&&(0!=this.availableAgents().length||"bot"===this.form_settings().offline_form_type))&&n===typeof window.tagoveForceQLoad){var l=!0,c=!0;if(this.notificationAllowed){var u=function(){try{if(window.Notification?o=new window.Notification(t.replace("{num}",1),{icon:s.getImageAssetUrl("img/logo-icon.png"),body:i}):window.webkitNotifications?o=window.webkitNotifications.createNotification(s.getImageAssetUrl("img/logo-icon.png"),t.replace("{num}",1),i):navigator.mozNotification&&(o=navigator.mozNotification.createNotification(t.replace("{num}",1),i,s.getImageAssetUrl("assets/img/logo-icon.png"))),n==typeof o)return console.error("no notification");o.onclick=function(e){window.focus(),a&&a(),o.cancel&&o.cancel(),o.close&&o.close()},setTimeout(function(){o.cancel&&o.cancel(),o.close&&o.close()},3e4),o.show&&o.show()}catch(e){console.error("notification error"),console.error(e)}return function(){o&&o.cancel&&o.cancel(),o&&o.close&&o.close()}},d=function(){s.getSound(e,function(e){try{var t=e.play();void 0!==t&&t.then(function(){}).catch(function(e){})}catch(t){setTimeout(function(){try{e.play()}catch(e){}},400)}})};"backend"==this.type&&("new_chat"===e&&n!=typeof this.settings().agent_new_chat_notification&&"0"==this.settings().agent_new_chat_notification?l=!1:"new_message"===e&&n!=typeof this.settings().agent_new_msg_notification&&"0"==this.settings().agent_new_msg_notification&&(l=!1),"new_chat"===e&&n!=typeof this.settings().agent_new_chat_sound&&"0"==this.settings().agent_new_chat_sound?c=!1:"new_message"===e&&n!=typeof this.settings().agent_new_msg_sound&&"0"==this.settings().agent_new_msg_sound&&(c=!1)),"frontend"==this.type&&("new_chat"===e&&n!=typeof this.settings().visitor_new_chat_notification&&"0"==this.settings().visitor_new_chat_notification?l=!1:"new_message"===e&&n!=typeof this.settings().visitor_new_msg_notification&&"0"==this.settings().visitor_new_msg_notification&&(l=!1),"new_chat"===e&&n!=typeof this.settings().visitor_new_chat_sound&&"0"==this.settings().visitor_new_chat_sound?c=!1:"new_message"===e&&n!=typeof this.settings().visitor_new_msg_sound&&"0"==this.settings().visitor_new_msg_sound&&(c=!1)),n!=typeof chrome&&chrome.extension?chrome.tabs.query({url:chrome.runtime.getManifest().homepage_url+"*"},function(e){0==e.length&&(l&&u(),c&&d())}):(l&&u(),c&&d())}var f=null;return l&&(f=this.titleNotify(e,t)),function(){f&&f(),o&&o.cancel&&o.cancel(),o&&o.close&&o.close()}}},e[t].getSoundFile=function(e,t){if(n!==typeof localStorage){var i=localStorage.getItem("_cached_"+e);if(i)return t(i)}(i=new XMLHttpRequest).open("GET",e,!0),i.responseType="blob",i.onload=function(n){if(200==this.status){n=new Blob([this.response],{type:"audio/"+e.split(".").pop()});var i=new window.FileReader;i.readAsDataURL(n),i.onloadend=function(){t(i.result);try{localStorage.setItem("_cached_"+e,i.result)}catch(e){}}}},i.send()},e[t].getSound=function(e,t){var i=this;if(!window.tagoveSilentTest){if(n!==typeof this.sounds[e])return t(this.sounds[e]);if(!window.Audio)return t(null);var a=document.createElement("audio");a=this.getImageAssetUrl("sound/"+(a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")?e+".ogg":a.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,"")?e+".mp3":e+".wav")),this.getSoundFile(a,function(a){n==typeof i.sounds[e]&&(i.sounds[e]=new Audio(a)),t(i.sounds[e])})}},e[t].pageTitleNotification=function(){return{on:function(e,t){x||(w=document.title,x=window.setInterval(function(){document.title=w===document.title?e:w},t||1e3))},off:function(){x&&(window.clearInterval(x),x=null),w&&(document.title=w)}}},e[t].getAgent=function(e,t){t=void 0===t||t?this.agents():this._agents();for(var n in t)if(t[n]&&t[n].data()&&t[n].data().id==e)return t[n]},e[t].loadTransMessages=function(e){var t=this;e=void 0===e?null:e,this.if("ready",function(){(e||null==t.messages()&&t.settings()&&"en-US"!=t.lang())&&1!=t.msg_load_request()&&t.lang()!=t.settings().language&&(t.msg_load_request(1),t.socket.emit("load_trans_messages",t.account().id,t.lang(),"node",function(e,i){e?console.error(e):(i&&n!=typeof i.node&&(t.messages(i.node),t.msg_load_request(null)),t.translation_loaded(!0))}))})},e[t].loadTheme=function(e,t){var i=this;if(n!==typeof this.themes[e])return t(this.themes[e]);this.themes_list[e](function(n){i.themes[e]=n,l.default.__templates=n.templates,t(n)},d.default.server,d.default.assetUrl,this.config.account,this.settings())},e[t].customTheme=function(e){this.themes["self-developed"]=e},e[t].onThemeChange=function(e){this.themeCBs.push(e),this.defaultTheme&&this.themes[this.defaultTheme]&&e(this.themes[this.defaultTheme])},e[t].changeTheme=function(e){if(this.defaultTheme!=e){this.defaultTheme=e;for(var t=r.m(this.themeCBs),n=t.next();!n.done;n=t.next())this.loadTheme(e,n.value);this.loadTheme(e,function(e){l.default.__templates=e.templates})}},e[t].getImageAssetUrl=function(e){return!e||0!==e.indexOf("http://")&&0!==e.indexOf("//")&&0!==e.indexOf("https://")?d.default.assetUrl+(e||""):e},e[t].getServerAssetUrl=function(e){return!e||0!==e.indexOf("http://")&&0!==e.indexOf("//")&&0!==e.indexOf("https://")?d.default.server+"/asset/"+(e||""):e},e[t].getPhotoUrl=function(e,t){return t=void 0===t?"visitor":t,!e||0!==e.indexOf("http://")&&0!==e.indexOf("//")&&0!==e.indexOf("https://")?e=e?d.default.mediaUserPhotoUrl+e:"visitor"==t?d.default.mediaDefaultVisitorPhoto:d.default.mediaDefaultUserPhoto:e},e[t].getMediaUrl=function(e){return d.default.mediaUrl+(e||"")},e[t].getMediaThumbUrl=function(e,t,n,i){t=void 0===t?null:t,n=void 0===n?null:n,i=void 0===i?null:i;var a=[];return t&&a.push("width="+t),n&&a.push("height="+n),i&&a.push("quality="+i),0<a.length?d.default.mediaUrl+"cdn-cgi/image/"+a.join(",")+"/"+(e||""):d.default.mediaUrl+(e||"")},e[t].timeDifferencesObserver=function(e,t,n){n=void 0===n?"ago":n;var i=h.default.getTimeFromDate(e,!1).getTime()/1e3;if(t||21600>i)var a=function(){return t?h.default.getTimeFromDate(t,!1).getTime()/1e3:h.default.getCurrentTime()/1e3};else a=l.default.observable(h.default.getCurrentTime()/1e3),setInterval(function(){a(a()+60)},6e4);return h.default.getTimeLeftSinceCompute(function(){return a()-i},n)},e[t].timeDifferencesObserverTimer=function(e,t){if(e=h.default.getTimeFromDate(e,!1).getTime()/1e3,t||21600>e)var n=function(){return t?h.default.getTimeFromDate(t,!1).getTime()/1e3:h.default.getCurrentTime()/1e3};else n=l.default.observable(h.default.getCurrentTime()/1e3),setInterval(function(){n(n()+60)},6e4);return function(e){var t=parseInt(e,10),n=Math.floor((t-3600*(e=Math.floor(t/3600)))/60);return t=t-3600*e-60*n,10>e&&(e="0"+e),10>n&&(n="0"+n),10>t&&(t="0"+t),(0<e?e+":":"")+n+":"+t}(n()-e)},e[t].getTransMsg=function(e,t){var i=this;t=void 0!==t&&t;var a=function(){if(i.translation_loaded()&&"en-US"!=i.lang()&&i.account()&&("41953"==i.account().uid||"7f27b"==i.account().uid||"a9a53"==i.account().uid)&&e&&""!=e){var t=d.default.apiUrl+"config/translation/missing";(0,v.ajaxRequest)({url:t,type:"POST",data:{cate:"node",lang:"en-US",msg:e},success:function(e){}})}},r=0<=window.location.href.indexOf("missing_logs");if(this.messages()&&null!=this.messages()?n!=typeof this.messages()[e]&&""!=this.messages()[e]?e=this.messages()[e]:(r&&console.error(e),a()):(r&&console.error(e,"2"),a()),t&&e&&0!=t&&""!=e)for(var s in t)e=e.replace("{"+s+"}",t[s]);return e},e[t].notifyMessage=function(e,t,n){var i=this;this.if("ready",function(){if(i.myself&&i.myself()){var a=Object.assign({},{seen:"unseen",sender_id:i.myself().id,sender_type:i.myself().type,type:"message",user:{id:i.myself().id,name:i.myself().client.nick,type:i.myself().type}},n);if("backend"==i.type&&0<i.chatManager().chats().length)for(var s=r.m(i.chatManager().chats()),o=s.next();!o.done;o=s.next())(o=o.value)&&t&&o.data().thread_id&&t==o.data().thread_id&&o.addMessage(a);i.socket.emit("notify_offline_chat_msg",e,t,a)}})},e[t].trackEvent=function(e,t,i){i=void 0===i?null:i,n!=typeof this.settings().allow_event_track&&"1"==this.settings().allow_event_track&&(t||i)&&this.socket.emit("track_event",e,t,i,function(e){})},a.default=e,e.offline=!1},function(e,i,a){i.__esModule=!0;var r=a(6),s=a(89),o=a(11),l=a(6),c=a(8),u=a(10);!navigator.userAgent.match(/iPad/i)&&!navigator.userAgent.match(/iPhone/i)||window.tgv_client_id||(window.tgv_client_id=window.sessionStorage._tabId||Math.ceil(100*Math.random()),window.sessionStorage._tabId=window.tgv_client_id),(e=function(e,t,n,i){var a=this;o.default.create(this),this.statusUpdates=[],this.connector=null,this.appType=i,this.account=t,this.details=null,this.path="/a-"+n,this.socket=null,this.app=e,this.sessionIdentifier="_tag_"+i+"_ssd",this.keepSessionInFuture=!0,this.started=!1,this.cbs=[],this.on("destroy",function(){a.connector.status!=s.default.STATUS_SUSPENDED&&(a.connector.update(s.default.STATUS_CONNECTED,!0),a.connector.tryReconnect=function(){},a.connector.disconnect())})})[t].getConnection=function(e){var t=this;return this.connector&&this.connector.server&&this.connector.server&&this.connector.server.connected?e?e(this.connector.server):this.connector.server:e?this._ccb?this._ccb.push(e):(this._ccb=[e],this.on("ready",function(e){t._ccb.forEach(function(t){t(e)}),t._ccb=[]}),this.socket):null},e[t].startSession=function(e,t){var i=this,a=!(void 0!==t&&t);a||e.on("session_conflict",function(e){i.connector.suspend(void 0===e||e),i.app&&i.app.p2p()&&i.app.p2p().connector&&i.app.p2p().connector.suspend()}),window.tgv_client_id=window.tgv_client_id||0,window.tgv_client_id||(window.name&&0==window.name.indexOf("tagove-")&&(window.tgv_client_id=window.name.substr(7)),window.tgv_client_id||(window.tgv_client_id=Math.ceil(100*Math.random()),window.name="tagove-"+window.tgv_client_id));var s=!1,o=u.default.trackTimeEvent("network","session-start");t={client:{id:window.tgv_client_id,cobrowse_code:this.app.custom_cobrowse_code,name:window.tgv_client_name||(n!==typeof chrome&&chrome.extension?"chrome-ext":"web"),version:r.default.apiVersion.version},api:{version:r.default.apiVersion.version}};var d=this.details();window.fake_ip&&(d.fake_ip=window.fake_ip),0<=window.location.href.indexOf("andridSDKSimulate")&&(t.client.name="android",d.ua={browser:{name:"sdk",version:"1.0.0"},cpu:{architecture:""},device:{model:"Android",type:"mobile",vendor:"motorola"},engine:{name:"AcquireIO Android SDK",version:"1.0"},os:{name:"Android",version:"26"},app:{version:1,build:"1.0"},ua:"Android"}),e.emit("start_session",t,this.account,d,a,function(t,n,r,l){if(o(),-1==location.href.indexOf("start_session_error_test")&&(s=!0),t){if("OK"!==t.status)return;t.client_id&&(window.tgv_client_id=t.client_id,window.name="tagove-"+t.client_id)}i.trigger("start",e,a,r,n,l),n||i.trigger("ready",e,a,r),i.started=!0}),setTimeout(function(){if(!s){var e=l.default.apiUrl+"account/tracklog",t=JSON.stringify({arg1:{client:{id:window.tgv_client_id,name:n!==typeof chrome&&chrome.extension?"chrome-ext":"web",version:r.default.apiVersion.version},api:{version:r.default.apiVersion.version}},arg2:i.account,arg3:i.details(),arg4:a});(0,c.ajaxRequest)({url:e,type:"POST",data:{a:i.account,msg:"Session not started, take more time > 1 min args: "+t},success:function(e){}})}},6e4)},e[t].start=function(e,t){var n=this;if(this.details)throw Error("Session already set.");this.details=e,this.connector=new s.default("app",this.app,r.default.server,this.path,void 0!==t&&t),this.connector.on("connect",function(e){n.connector.manual_reconnect=!1,n.socket=n.connector.server,n.trigger("connect",n.socket,!e,!1),n.startSession(n.socket,e)}),this.connector.on("disconnect",function(e){n.trigger("stop")}),this.connector.on("status",function(e,t){n.trigger("status",e)})},i.default=e},function(e,n){n.__esModule=!0,n.default=function(e,t){return new i(e,t)};var i=function(e){e?(e=e.split(/[- :]/),this.date=new Date(Date.UTC(e[0],e[1]-1,e[2],e[3],e[4],e[5]))):this.date=e};i[t].format=function(e){if("MMM DD, YYYY HH:mm:ss A"==(e=void 0===e?"HH:mm A":e)){e=this.date.getHours();var t=this.date.getMinutes(),n=12<=e?"pm":"am";return e=(e%=12)?e:12,t=10>t?"0"+t:t,"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[this.date.getMonth()]+" "+this.date.getDate()+", "+this.date.getFullYear()+" "+e+":"+t+" "+n}if("HH:mm A"==e)return e=this.date.getHours(),t=this.date.getMinutes(),n=12<=e?"pm":"am",((e%=12)||12)+":"+(10>t?"0"+t:t)+" "+n}},function(e,t,i){function a(e){var t=e.length;if(0<t%4)throw Error("Invalid string. Length must be a multiple of 4");return-1===(e=e.indexOf("="))&&(e=t),[e,e===t?0:4-e%4]}function r(e,t,n){for(var i=[],a=t;a<n;a+=3)t=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]);return i.join("")}t.byteLength=function(e){var t=(e=a(e))[1];return 3*(e[0]+t)/4-t},t.toByteArray=function(e){var t=a(e),n=t[0];t=t[1];var i,r=new l(3*(n+t)/4-t),s=0,c=0<t?n-4:n;for(i=0;i<c;i+=4)n=o[e.charCodeAt(i)]<<18|o[e.charCodeAt(i+1)]<<12|o[e.charCodeAt(i+2)]<<6|o[e.charCodeAt(i+3)],r[s++]=n>>16&255,r[s++]=n>>8&255,r[s++]=255&n;return 2===t&&(n=o[e.charCodeAt(i)]<<2|o[e.charCodeAt(i+1)]>>4,r[s++]=255&n),1===t&&(n=o[e.charCodeAt(i)]<<10|o[e.charCodeAt(i+1)]<<4|o[e.charCodeAt(i+2)]>>2,r[s++]=n>>8&255,r[s++]=255&n),r},t.fromByteArray=function(e){for(var t=e.length,n=t%3,i=[],a=0,o=t-n;a<o;a+=16383)i.push(r(e,a,a+16383>o?o:a+16383));return 1===n?(e=e[t-1],i.push(s[e>>2]+s[e<<4&63]+"==")):2===n&&(e=(e[t-2]<<8)+e[t-1],i.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"=")),i.join("")};var s=[],o=[],l=n!==typeof Uint8Array?Uint8Array:Array;for(e=0;64>e;++e)s[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],o["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(e)]=e;o[45]=62,o[95]=63},function(e,t){t.read=function(e,t,n,i,a){var r=8*a-i-1,s=(1<<r)-1,o=s>>1,l=-7;a=n?a-1:0;var c=n?-1:1,u=e[t+a];for(a+=c,n=u&(1<<-l)-1,u>>=-l,l+=r;0<l;n=256*n+e[t+a],a+=c,l-=8);for(r=n&(1<<-l)-1,n>>=-l,l+=i;0<l;r=256*r+e[t+a],a+=c,l-=8);if(0===n)n=1-o;else{if(n===s)return r?NaN:1/0*(u?-1:1);r+=Math.pow(2,i),n-=o}return(u?-1:1)*r*Math.pow(2,n-i)},t.write=function(e,t,n,i,a,r){var s,o=8*r-a-1,l=(1<<o)-1,c=l>>1,u=23===a?5.960464477539062e-8:0;r=i?0:r-1;var d=i?1:-1,f=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(t=isNaN(t)?1:0,i=l):(i=Math.floor(Math.log(t)/Math.LN2),1>t*(s=Math.pow(2,-i))&&(i--,s*=2),2<=(t=1<=i+c?t+u/s:t+u*Math.pow(2,1-c))*s&&(i++,s/=2),i+c>=l?(t=0,i=l):1<=i+c?(t=(t*s-1)*Math.pow(2,a),i+=c):(t=t*Math.pow(2,c-1)*Math.pow(2,a),i=0));8<=a;e[n+r]=255&t,r+=d,t/=256,a-=8);for(i=i<<a|t,o+=a;0<o;e[n+r]=255&i,r+=d,i/=256,o-=8);e[n+r-d]|=128*f}},function(e,t,i){t.__esModule=!0;var r=i(37),s=i(12),o=i(8),l=function(){var e,t,n;return function(i){return e=Math.atan(i.offsetWidth/i.offsetHeight),t=i.offsetHeight,n=Math.sqrt(Math.pow(i.offsetHeight,2)+Math.pow(i.offsetWidth,2)),{rotate:function(a){var r=a*Math.PI/180;!function(e,t,n){n.style.webkitTransform="rotate("+e+"deg) scale("+Math.abs(t)+")",n.style.transform="rotate("+e+"deg) scale("+Math.abs(t)+")"}(a,t/Math.cos(90>a?r-e:180>a?r+e:270>a?r-e:r+e)/n,i)}}}}();r.default.observableArray.fn.refresh=function(e){e=0<this.peek().length&&this.peek()[0];var t=this.indexOf(e);0<=t&&(this.splice(t,1),this.splice(t,0,e))},r.default.unapplyBindings=function(e,t){t?r.default.removeNode(e):r.default.cleanNode(e)},r.default.bindingHandlers.required={update:function(e,t){!(t=r.default.utils.unwrapObservable(t()))&&e.readOnly?e.required=!1:t&&!e.readOnly&&(e.required=!0)}},r.default.bindingHandlers.singleEmo={init:function(e,t,n,i,a){r.default.utils.unwrapObservable(t()),setTimeout(function(){var t=e.querySelector(".msg");t&&t.querySelector(".single")&&(t.classList.add("no_bg"),e.querySelector(".arrow-clip")&&(e.querySelector(".arrow-clip").style.display="none"))},0)},update:function(e,t,n,i,a){r.default.utils.unwrapObservable(t()),setTimeout(function(){var t=e.querySelector(".msg");t&&t.querySelector(".single")&&(t.classList.add("no_bg"),e.querySelector(".arrow-clip")&&(e.querySelector(".arrow-clip").style.display="none"))},0)}},r.default.bindingHandlers.videocontrol={update:function(e,t,n,i,a){r.default.utils.unwrapObservable(t()),setTimeout(function(){var t=e.querySelector("video");if(t){e.classList.contains("standard-widget")||e.classList.add("no-padding");var n=e.parentElement.classList.contains("invitation_msg"),i=e.classList.contains("backend");n||t.removeAttribute("autoplay"),i&&t.removeAttribute("autoplay"),n=(0,o.parentBySelector)(t,".embed-video");var a=(0,o.parentBySelector)(t,".video_frame"),r=document.createElement("div");r.classList.add("video-controls"),n.appendChild(r);var s=document.createElement("div");s.classList.add("video-control"),s.classList.add("pauseBtn");var l=document.createElement("div");l.classList.add("video-control"),l.classList.add("playBtn");var c=document.createElement("div");c.classList.add(e.classList.contains("standard-widget")?"aio_loading":"tw_loading"),c.innerHTML='<div><svg height="100%" viewBox="0 0 32 32" width="100%"><circle cx="16" cy="16" fill="none" r="14" stroke-width="1"></circle><circle cx="16" cy="16" fill="none" r="14" stroke-width="1"></circle></svg></div>',r.appendChild(s),r.appendChild(l),r.appendChild(c),s.style.display="none",l.style.display="none",c.style.display="none",t.addEventListener("loadstart",function(e){c.style.display="block",r.classList.add("loadstart")});var u=!1;t.addEventListener("playing",function(e){c.style.display="none",r.classList.remove("loadstart"),u?u=!1:(s.style.display="block",l.style.display="block",l.style.display="none")}),t.addEventListener("canplay",function(e){c.style.display="none",r.classList.remove("loadstart"),i&&t.pause(),t.paused?(l.style.display="block",s.style.display="none"):(l.style.display="none",s.style.display="block")});var d=function(e){u=!0,t.paused?(t.play(),l.style.display="none",s.style.display="block"):(t.pause(),l.style.display="block",s.style.display="none"),e.preventDefault(),e.stopPropagation()};a.addEventListener("click",function(e){d(e)}),(n=(0,o.parentBySelector)(a,".acquire-widget-board-component"))&&(n.style.pointerEvents="all",n.addEventListener("click",function(e){d(e)})),l.addEventListener("click",function(e){d(e)}),s.addEventListener("click",function(e){d(e)});var f=document.createElement("div");f.classList.add("video-control"),f.classList.add("muteBtn");var h=document.createElement("div");h.classList.add("video-control"),h.classList.add("unmuteBtn"),r.appendChild(f),r.appendChild(h),t.muted?h.style.display="none":f.style.display="none",f.addEventListener("click",function(){t.muted=!1,h.style.display="block",f.style.display="none"}),h.addEventListener("click",function(){t.muted=!0,h.style.display="none",f.style.display="block"})}},0)}},r.default.bindingHandlers.calcCarousel={update:function(e,t,n,i,a){setTimeout(function(){var t=Math.trunc((0,o.getHeight)(e.querySelector(".grouping"))/12);setTimeout(function(){e.parentNode.style.display="grid",e.parentNode.style.gridGap="6px",e.parentNode.style.gridAutoRows="auto",e.parentNode.style.gridTemplateColumns="repeat(auto-fill, minmax(48%,1fr))"},100),e.setAttribute("style","grid-row-end : span "+t+";width:auto;")},100)}},r.default.bindingHandlers.calcLexCard={update:function(e,t,n,i,a){setTimeout(function(){var t=Math.trunc((0,o.getHeight)(e.querySelector(".grouping"))/12);setTimeout(function(){e.parentNode.style.display="grid",e.parentNode.style.gridGap="6px",e.parentNode.style.gridAutoRows="auto",1<e.parentNode.getElementsByClassName("item").length?e.parentNode.style.gridTemplateColumns="repeat(auto-fill, minmax(48%,1fr))":e.parentNode.style.gridTemplateColumns="repeat(auto-fill, minmax(100%,1fr))"},100),e.setAttribute("style","grid-row-end : span "+t+";width:auto;")},100)}},r.default.bindingHandlers.snipArticle={update:function(e,t,i,r,s){e.querySelector(".snip-article")&&e.querySelector(".snip-article").addEventListener("click",function(e){if(acquireIO&&acquireIO.ui&&n!==typeof acquireIO.ui.blockManager&&a===typeof acquireIO.ui.blockManager())return e.preventDefault(),acquireIO.ui.blockManager().openUrlInSheet(e.target.href),!1})}},r.default.bindingHandlers.tplmessage={init:function(e,t,n,i,a){},update:function(e,t,n,i,a){if(t=r.default.utils.unwrapObservable(t()).msg){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(t)}}};var c=function(e){setTimeout(function(){0==e.clientHeight?e.setAttribute("data-on-focus-scroll",!0):e.scrollTop=e.scrollHeight+10},0)};r.default.bindingHandlers.autoscrollbottom={init:function(e,t,n,i,a){(t=r.default.utils.unwrapObservable(t())).msg(),t.flag&&t.flag()&&c(e)},update:function(e,t,n,i,a){(t=r.default.utils.unwrapObservable(t())).msg(),t.flag&&t.flag()&&c(e)}},r.default.bindingHandlers.htmlsave={init:function(e,t,n,i,a){var r=t();e.parentNode||(e=null),setTimeout(function(){r.peek()!==e&&r(e)},1)},update:function(e,t,n,i,a){var r=t();e.parentNode||(e=null),setTimeout(function(){r.peek()!==e&&r(e)},1)}},r.default.bindingHandlers.elm={update:function(e,t){(e=r.default.utils.unwrapObservable(t())).innerHTML="",e.appendChild(e)}},r.default.bindingHandlers.home_scroll={init:function(e,t,n){r.default.utils.domNodeDisposal.addDisposeCallback(e,function(){e.removeEventListener("scroll")})},update:function(e,t,n){r.default.utils.unwrapObservable(t())?e.addEventListener("scroll",function(){if((e.classList.contains("thread-status-list")||e.classList.contains("thread-status-new"))&&e.ownerDocument.querySelector(".main-header")){var t=e.ownerDocument.querySelector(".main-header").clientHeight-76,n=e.ownerDocument.querySelector(".widget-page-body").getBoundingClientRect().top,i=(t+=e.ownerDocument.querySelector(".widget-page-body").getBoundingClientRect().top)/100;0>t&&(i=0),1<i&&(i=1),e.ownerDocument.querySelector(".main-header-body-container").style.transform="translateY("+n/5+"px)",e.ownerDocument.querySelector(".main-header-body-container").style.opacity=i}},!0):e.removeEventListener("scroll")}};var u=function(e,t,i){if(null!=e&&e){if(!t||t.__stream!==e){t.__stream=e;var a=window.URL,r={autoplay:!0,mirror:!1,muted:t.getAttribute("muted")};if(i)for(var o in i)r[o]=i[o];r.autoplay&&(t.autoplay="autoplay"),r.muted&&(t.muted=!0,t.volume=0),setTimeout(function(){r.muted=t.getAttribute("muted"),r.muted&&(t.muted=!0,t.volume=0)},1500),r.mirror&&["","moz","webkit","o","ms"].forEach(function(e){t.style[e?e+"Transform":"transform"]="scaleX(-1)"}),o=function(){try{var e=t.play();e&&e.then(function(){}).catch(function(e){e&&e.name&&"NotAllowedError"==e.name&&(s.default.alert(acquireIO.getTransMsg("Auto-Play Disabled"),acquireIO.getTransMsg("Auto play not allowed by your browser. So please click play now  button start video."),!1,!1,null,function(){t.play().then(function(){t.setAttribute("controls","controls")}).catch(function(e){t.removeAttribute("controls")})},acquireIO.getTransMsg("Play Now")),t.setAttribute("controls","controls"))})}catch(e){console.error(e)}};try{if(a&&a.createObjectURL){if("string"==typeof e)t.src=e;else if(0<=navigator.userAgent.toLowerCase().indexOf("edge"))t.srcObject=e;else if(window.parserResult&&("Safari"==window.parserResult.browser.name&&11<=parseFloat(window.parserResult.browser.version)||"Mobile Safari"==window.parserResult.browser.name&&10<=parseFloat(window.parserResult.browser.version))||"Firefox"==window.parserResult.browser.name)if(t.srcObject)t.srcObject=e;else if("Mobile Safari"==window.parserResult.browser.name&&10<=parseFloat(window.parserResult.browser.version)){if(t.srcObject)return;if(null==t.srcObject){if(a=!1,n===typeof e.localStream&&(a=!0),a){var l=e.clone();l.getAudioTracks().forEach(function(e){e.stop()}),t.srcObject=l}else t.srcObject=e;l=document;var c=document.getElementsByTagName("body")[0];if(a){var u="audio-stream-"+e.id;if(l.getElementById(u))var d=l.getElementById(u);else(d=l.createElement("audio")).setAttribute("id",u),d.setAttribute("autoplay",1);c.appendChild(d);var f=e.clone();f.getVideoTracks().forEach(function(e){e.stop()}),e.getAudioTracks().forEach(function(e){e.addEventListener("ended",function(e){f.getAudioTracks().forEach(function(e){e.stop()}),d.remove()})}),setTimeout(function(){d.srcObject=f},2e3)}}}else t.srcObject=e;else try{t.setAttribute("src",a.createObjectURL(e))}catch(n){t.srcObject=e}o()}else if(t.mozSrcObject)t.mozSrcObject=e,o();else{if(!t.srcObject)return!1;t.srcObject=e,o()}r.muted&&(t.muted=!0)}catch(e){console.log(e),console.error(e.message)}return setTimeout(function(){if(r.muted&&(t.muted=!0),i.speaker&&n!==typeof t.sinkId&&i.speaker)try{t.setSinkId(i.speaker).then(function(){}).catch(function(e){})}catch(e){}},1e3),t}}else t&&t.__stream&&(t.__stream=null)};r.default.bindingHandlers.videoStream={init:function(e,t,i,a,s){t=r.default.utils.unwrapObservable(t()),n!==t.muted&&(e.muted=!!t.muted&&"muted"),t.rotation&&(e.rotator=e.rotator?e.rotator:l(e),e.rotator.rotate(t.rotation)),u(t.stream,e,t)},update:function(e,t,i,a,s){t=r.default.utils.unwrapObservable(t()),n!==t.muted&&(e.muted=t.muted),n!==t.rotation&&(e.rotator=e.rotator?e.rotator:l(e),i=t.rotation,a=1,90==Math.abs(i)||270==Math.abs(i)?t.fullscreen?a=.75:(a=.65,e.style["margin-top"]="-20px"):e.style["margin-top"]="auto",e.classList.remove("rotate-0","rotate-90","rotate-180","rotate-270"),e.classList.add("rotate-"+Math.abs(i)),e.style.transform=0==i?"rotate("+i+"deg) translate(-50%,-50%)":"rotate("+i+"deg) scale("+a+") translate(-50%,-50%)"),u(t.stream,e,t)}},r.default.bindingHandlers.foreachprop={transformObject:function(e){var t=[];return r.default.utils.objectForEach(e,function(e,n){t.push({key:e,value:n})}),t},init:function(e,t,n,i,a){return n=r.default.pureComputed(function(){var e=r.default.utils.unwrapObservable(t());return r.default.bindingHandlers.foreachprop.transformObject(e)}),r.default.applyBindingsToNode(e,{foreach:n},a),{controlsDescendantBindings:!0}}},r.default.virtualElements.allowedBindings.foreachprop=!0,t.default=!0},function(e,a,s){Object.defineProperty(a,"__esModule",{value:!0});var o=n!==typeof window&&!0===window.doTagoveEmitLogs,l=function(e){return n===typeof window?JSON.stringify(e):e},c=function(){};c.init=function(e,a,s,u){s=void 0===s?null:s,u=void 0===u?"app":u;var d=[];e.request?(a=e.request.real_ip,n==typeof a?a="127.0.0.1":0<(a=a.split(",")).length&&(a=a[a.length-1].replace(" ","")),e.ip=a,n==typeof e.ip&&(console.error(e.request.headers),console.error("IPD: "+e.ip))):e.ip=null;var f=e.on;e.on=function(n){if(o&&(console.log("%c["+u+"] BIND#"+n,"font-size:14px; color:#ddd",l(Array[t].slice.call(arguments))),0>["account_stats"].indexOf(n)))for(var a={},r=0;r<arguments.length;a={c:a.c},r++)a.c=arguments[r],i==typeof a.c&&(arguments[r]=function(e){return function(){console.log("%c["+u+"] ON#"+n,"font-size: 14px; color: blue;",l(Array[t].slice.call(arguments))),e.c.apply(e.c,arguments)}}(a));d.push(n),f.apply(e,arguments)};var h=e.emit;e.emit=function(n){if(s&&(s.emits||(s.emits={}),s.emits[n]||(s.emits[n]={count:0}),s.emits[n].count++),o&&0>["ping","pong"].indexOf(n)){0>["account_stats"].indexOf(n)&&console.log("%c["+u+"] EMIT#"+n,"font-size:14px; color:green",l(Array[t].slice.call(arguments)));for(var a={},r=0;r<arguments.length;a={c:a.c},r++)a.c=arguments[r],i==typeof a.c&&(arguments[r]=function(e){return function(){console.log("%c["+u+"] EMIT-REPLY#"+n,"font-size:14px; color:pink",l(Array[t].slice.call(arguments))),e.c.apply(e.c,arguments)}}(a))}h.apply(e,arguments)},e.off=function(t,n){i==typeof n?e.removeListener(t,n):e.removeAllListeners(t)},e.clearEvents=function(t){t=void 0===t?[]:t;for(var n=r.m(d),i=n.next();!i.done;i=n.next())i=i.value,0>c.coreEvents.indexOf(i)&&0>t.indexOf(i)&&e.removeAllListeners(i)},e.dispose=function(){e.clearEvents(),e.disconnect()};var p=e.disconnect;return e.disconnect=function(){p.apply(e)},e},a.default=c,c.coreEvents="close error disconnect connect full_leave connect_error ping-speed-test poke connectFailed connect_failed".split(" ")},function(e,n,i){n.__esModule=!0;var a=i(25);e=function(e){return a.default.call(this,e)||this},r.i(e,a.default),e[t].get=function(e,t,n){t=void 0===t?null:t,document.cookie?(e=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)"),(e=decodeURIComponent(e?e.pop():""))&&""!=e?n(e):n(t)):n(t)},e[t].set=function(e,t,n){if(n=void 0===n?0:n){var i=new Date;i.setTime(i.getTime()+1e3*n),n="; expires="+i.toGMTString()}else n="";document.cookie=e+"="+encodeURIComponent(t)+n+"; path=/"},n.default=e},function(e,n,i){n.__esModule=!0;var a=i(25),s=i(5);e=function(e){return a.default.call(this,e)||this},r.i(e,a.default),e.getName=function(){},e[t].set=function(e,t,n){n=void 0===n?0:n;try{localStorage.setItem(e,s.stringify({data:t,expire:Date.now()+1e3*n}))}catch(e){}},e[t].get=function(e,t,n){if(t=void 0===t?null:t,e=window.localStorage.getItem(e))try{(e=s.parse(e))&&(0===e.expire||e.expire>=Date.now())?n(e.data):n(t)}catch(e){n(t)}else n(t)},n.default=e},function(e,i,a){i.__esModule=!0;var s=a(25),o=a(10);e=function(e){return e=s.default.call(this,e)||this,e.callbacks={},e.locks=null,e.win=null,e},r.i(e,s.default),e[t].init=function(){var e=this;this.frame=document.createElement("IFRAME"),this.frame.setAttribute("class","tagove_cookie"),this.frame.setAttribute("title","acquire loader"),this.frame.setAttribute("style","width: 0;height: 0;opacity: 0;position: fixed;top:-500px;left: -500px;z-index: -10000;"),this.frame.setAttribute("width","0"),this.frame.setAttribute("height","0"),this.frame.src=this.app.env.server+"/cookie.html#"+Math.random();var t=o.default.trackTimeEvent("widget","tagove-cookie-frame");this.frame.onload=function(){t();try{e.frame.contentWindow.postMessage("test",e.app.env.server)}catch(t){return console.error(t),void(e.frame.src=e.app.env.server+"/cookie.html?x="+Math.random())}var i=e.win;e.win=e.frame.contentWindow;var a=function(t){var n=t.origin||t.originalEvent.origin,i=t.data;t=t.source,n==e.app.env.server&&e.win==t&&(i.msgTagoveId?e.callbacks[i.msgTagoveId]&&e.callbacks[i.msgTagoveId].cb(null,i):i.logTGCookieFrame||console.error("sorry we don't have any reverse methods for server. "+n))};n!==typeof window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a),setTimeout(function(){for(var e=r.m(i),t=e.next();!t.done;t=e.next())(t=t.value)()},300)},this.frame.onerror=function(t){if(console.error(t),e.win)for(var n=(t=r.m(e.win)).next();!n.done;n=t.next())(n=n.value)(!0);e.win=!1};var i=setInterval(function(){document.body&&(document.body.appendChild(e.frame),clearInterval(i))},100)},e[t].getCookie=function(e,t,n){t=void 0===t?null:t,document.cookie?(e=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)"),(e=decodeURIComponent(e?e.pop():""))&&""!=e?n(e):n(t)):n(t)},e[t].setCookie=function(e,t,n){if(n=void 0===n?0:n){var i=new Date;i.setTime(i.getTime()+1e3*n),n="; expires="+i.toGMTString()}else n="";i=document.domain.split(".").reverse().splice(0,2).reverse().join(".");var a=document.domain.split(".").reverse().splice(0,3).reverse().join(".");null===t&&(n="; expires=Thu, 01 Jan 1970 00:00:01 GMT"),t=null===t?"":encodeURIComponent(t),document.cookie=e+"="+t+n+"; domain=."+i+"; path=/",document.cookie=e+"="+t+n+"; domain=."+a+"; path=/",document.cookie=e+"="+t+n+"; path=/"},e[t].set=function(e,t,n){var i=this;n=void 0===n?0:n,this.lock(function(a){i.setCookie(e,t,n),i.msg({method:"set",name:e,value:t,expires:0===n?null:n},function(){}),a()})},e[t].get=function(e,t,n){var i=this;this.lock(function(a){var s=function(){setTimeout(function(){i.getCookie(e,t,n)},1)};try{i.msg({method:"get",name:e},function(t,i){try{if(t)console.error("["+e+"] world error : "+t),s();else if(i.list.length){t=[];for(var o=r.m(i.list),l=o.next();!l.done;l=o.next())t.unshift(l.value);n(t[0])}else s()}catch(e){console.error(e)}a()})}catch(e){console.error(e),s(),a()}})},e[t].lock=function(e){var t=this;this._idd=this._idd?this._idd:0;var n=this._idd+=1;if(null!=this.locks)return this.locks.push([n,e]);this.locks=[];var i=function(){var e=null!=t.locks&&t.locks.length?t.locks.shift():null;e?(n=e[0],e[1](i)):t.locks=null};e(i)},e[t].msg=function(e,t){var i=this,a=function(n){if(n)return t("error loading");var a=Math.random()+""+Math.random();i.callbacks[a]={msg:e,cb:function(n,s){n&&console.error("cookie msg err "+n),i.callbacks[a]?(r&&clearTimeout(r),t&&t(n,s),delete i.callbacks[a]):console.error("["+a+"] cookie.html callback missing error"+n+" payloadGiven:"+JSON.stringify(e)+" payloadReplay:"+JSON.stringify(s))}};var r=setTimeout(function(){i.callbacks[a]&&(console.error("msg timeout."),i.callbacks[a].cb("timeout"))},15e3);e.msgTagoveId=a;try{i.win.postMessage(e,i.app.env.server)}catch(e){console.error(e)}};this.win&&n!==typeof this.win.top?a():null===this.win?(this.win=[],this.win.push(a),this.init()):this.win?this.win.push(a):0==this.win&&(console.error("msg connection err "),t("connection error"))},i.default=e},function(e,n,i){n.__esModule=!0;var a=i(25),s=i(5);e=function(e){return a.default.call(this,e)||this},r.i(e,a.default),e[t].set=function(e,t,n){n=void 0===n?0:n;try{window.sessionStorage.setItem(e,s.stringify({data:t,expire:Date.now()+1e3*n}))}catch(e){}},e[t].get=function(e,t,n){if(t=void 0===t?null:t,e=window.sessionStorage.getItem(e))try{(e=s.parse(e))&&(0===e.expire||e.expire>=Date.now())?n(e.data):n(t)}catch(e){n(t)}else n(t)},n.default=e},function(e,i){i.__esModule=!0,(e=function(e){this.app=e,this.list={}})[t].get=function(e,t,i){return t=void 0===t?null:t,i(n==typeof this.list[e]?t:this.list[e]),n==typeof this.list[e]?t:this.list[e]},e[t].set=function(e,t,n){this.list[e]=t},i.default=e},function(e,n){e.exports=Object.keys||function(e){var n,i=[],a=Object[t].hasOwnProperty;for(n in e)a.call(e,n)&&i.push(n);return i}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(0>t&&(t+=i),0>n&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);e=new Uint8Array(e),i=new Uint8Array(n-t);for(var a=0;t<n;t++,a++)i[a]=e[t];return i.buffer}},function(e,t){e.exports=function(e,t,n){function i(e,r){if(0>=i.count)throw Error("after called too many times");--i.count,e?(a=!0,t(e),t=n):0!==i.count||a||t(null,r)}var a=!1;return n=n||function(){},i.count=e,0===e?t():i}},function(e,t){function n(e){for(var t,n,i=[],a=0,r=e.length;a<r;)55296<=(t=e.charCodeAt(a++))&&56319>=t&&a<r?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function i(e,t){if(55296<=e&&57343>=e){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function a(){if(l>=o)throw Error("Invalid byte index");var e=255&s[l];if(l++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function r(e){if(l>o)throw Error("Invalid byte index");if(l==o)return!1;var t=255&s[l];if(l++,0==(128&t))return t;if(192==(224&t)){var n=a();if(128<=(t=(31&t)<<6|n))return t;throw Error("Invalid continuation byte")}if(224==(240&t)){n=a();var r=a();if(2048<=(t=(15&t)<<12|n<<6|r))return i(t,e)?t:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=a(),r=a(),e=a(),65536<=(t=(7&t)<<18|n<<12|r<<6|e)&&1114111>=t))return t;throw Error("Invalid UTF-8 detected")}var s,o,l,c=String.fromCharCode;e.exports={version:"2.1.2",encode:function(e,t){t=!1!==(t=t||{}).strict;for(var a,r=(e=n(e)).length,s=-1,o="";++s<r;){var l=t;if(0==(4294967168&(a=e[s])))a=c(a);else{var u="";0==(4294965248&a)?u=c(a>>6&31|192):0==(4294901760&a)?(i(a,l)||(a=65533),u=c(a>>12&15|224),u+=c(a>>6&63|128)):0==(4292870144&a)&&(u=c(a>>18&7|240),u+=c(a>>12&63|128),u+=c(a>>6&63|128)),a=u+=c(63&a|128)}o+=a}return o},decode:function(e,t){t=!1!==(t=t||{}).strict,s=n(e),o=s.length,l=0,e=[];for(var i;!1!==(i=r(t));)e.push(i);t=e.length,i=-1;for(var a,u="";++i<t;)65535<(a=e[i])&&(a-=65536,u+=c(a>>>10&1023|55296),a=56320|1023&a),u+=c(a);return u}}},function(e,t){!function(){for(var e=new Uint8Array(256),n=0;64>n;n++)e["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;t.encode=function(e){var t,n=(e=new Uint8Array(e)).length,i="";for(t=0;t<n;t+=3)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e[t]>>2],i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&e[t])<<4|e[t+1]>>4],i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&e[t+1])<<2|e[t+2]>>6],i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&e[t+2]];return 2==n%3?i=i.substring(0,i.length-1)+"=":1==n%3&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(t){var n=.75*t.length,i=t.length,a=0;"="===t[t.length-1]&&(n--,"="===t[t.length-2]&&n--);var r=new ArrayBuffer(n),s=new Uint8Array(r);for(n=0;n<i;n+=4){var o=e[t.charCodeAt(n)],l=e[t.charCodeAt(n+1)],c=e[t.charCodeAt(n+2)],u=e[t.charCodeAt(n+3)];s[a++]=o<<2|l>>4,s[a++]=(15&l)<<4|c>>2,s[a++]=(3&c)<<6|63&u}return r}}()},function(e,i){function a(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function r(e,t){t=t||{};var n=new o;return a(e).forEach(function(e){n.append(e)}),t.type?n.getBlob(t.type):n.getBlob()}function s(e,t){return new Blob(a(e),t||{})}var o=n!==typeof o?o:n!==typeof WebKitBlobBuilder?WebKitBlobBuilder:n!==typeof MSBlobBuilder?MSBlobBuilder:n!==typeof MozBlobBuilder&&MozBlobBuilder;try{var l=2===new Blob(["hi"]).size}catch(e){l=!1}if(i=l)try{i=2===new Blob([new Uint8Array([1,2])]).size}catch(e){i=!1}var c=o&&o[t].append&&o[t].getBlob;n!==typeof Blob&&(r[t]=Blob[t],s[t]=Blob[t]),l=l?i?Blob:s:c?r:void 0,e.exports=l},function(e,t,n){function a(e){function n(){if(n.enabled){var e=+new Date;n.diff=e-(a||e),n.prev=a,a=n.curr=e;var r=Array(arguments.length);for(e=0;e<r.length;e++)r[e]=arguments[e];r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var s=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(e,a){return"%%"===e?e:(s++,a=t.formatters[a],i===typeof a&&(e=a.call(n,r[s]),r.splice(s,1),s--),e)}),t.formatArgs.call(n,r),(n.log||t.log||console.log.bind(console)).apply(n,r)}}var a;return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),n.destroy=r,i===typeof t.init&&t.init(n),t.instances.push(n),n}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var n,i=("string"==typeof e?e:"").split(/[\s,]+/),a=i.length;for(n=0;n<a;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.substr(1)+"$")):t.names.push(RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++)e=t.instances[n],e.enabled=t.enabled(e.namespace)},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,i=0;for(n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=n(131),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&0<e.length)return function(e){if(!(100<(e+="").length)&&(e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}(e);if("number"===i&&!1===isNaN(e))return t.long?n(e,864e5,"day")||n(e,36e5,"hour")||n(e,6e4,"minute")||n(e,1e3,"second")||e+" ms":e>=864e5?Math.round(e/864e5)+"d":36e5<=e?Math.round(e/36e5)+"h":6e4<=e?Math.round(e/6e4)+"m":1e3<=e?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){},function(e,t,n){function i(e,t){a===typeof e&&(t=e,e=void 0),t=t||{};var n=(e=r(e)).source,i=e.id,s=e.path;return s=c[i]&&s in c[i].nsps,t.forceNew||t["force new connection"]||!1===t.multiplex||s?(l("ignoring socket cache for %s",n),n=o(n,t)):(c[i]||(l("new io instance for %s",n),c[i]=o(n,t)),n=c[i]),e.query&&!t.query&&(t.query=e.query),n.socket(e.path,t)}var r=n(134),s=n(41),o=n(66),l=n(29)("socket.io-client");e.exports=t=i;var c=t.managers={};t.protocol=s.protocol,t.connect=i,t.Manager=n(66),t.Socket=n(70)},function(e,t,i){var a=i(63),r=i(29)("socket.io-client:url");e.exports=function(e,t){var i=e;return t=t||n!==typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e=n!==typeof t?t.protocol+"//"+e:"https://"+e),r("parse %s",e),i=a(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/",e=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host,i.id=i.protocol+"://"+e+":"+i.port,i.href=i.protocol+"://"+e+(t&&t.port===i.port?"":":"+i.port),i}},function(e,t,n){function a(e){function n(){if(n.enabled){var e=+new Date;n.diff=e-(a||e),n.prev=a,a=n.curr=e;var r=Array(arguments.length);for(e=0;e<r.length;e++)r[e]=arguments[e];r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var s=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(e,a){return"%%"===e?e:(s++,a=t.formatters[a],i===typeof a&&(e=a.call(n,r[s]),r.splice(s,1),s--),e)}),t.formatArgs.call(n,r),(n.log||t.log||console.log.bind(console)).apply(n,r)}}var a;return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),n.destroy=r,i===typeof t.init&&t.init(n),t.instances.push(n),n}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var n,i=("string"==typeof e?e:"").split(/[\s,]+/),a=i.length;for(n=0;n<a;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.substr(1)+"$")):t.names.push(RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++)e=t.instances[n],e.enabled=t.enabled(e.namespace)},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,i=0;for(n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=n(136),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&0<e.length)return function(e){if(!(100<(e+="").length)&&(e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}(e);if("number"===i&&!1===isNaN(e))return t.long?n(e,864e5,"day")||n(e,36e5,"hour")||n(e,6e4,"minute")||n(e,1e3,"second")||e+" ms":e>=864e5?Math.round(e/864e5)+"d":36e5<=e?Math.round(e/36e5)+"h":6e4<=e?Math.round(e/6e4)+"m":1e3<=e?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,i,r){(function(s){function o(){try{var e=i.storage.debug}catch(e){}return!e&&n!==typeof s&&"env"in s&&(e=s.env.DEBUG),e}(i=e.exports=r(138)).log=function(){return a===typeof console&&console.log&&Function[t].apply.call(console.log,console,arguments)},i.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+i.humanize(this.diff),t){t="color: "+this.color,e.splice(1,0,t,"color: inherit");var n=0,a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(a=n))}),e.splice(a,0,t)}},i.save=function(e){try{null==e?i.storage.removeItem("debug"):i.storage.debug=e}catch(e){}},i.load=o,i.useColors=function(){return!(n===typeof window||!window.process||"renderer"!==window.process.type)||(n===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(n!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||n!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||n!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||n!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};var l=i;if(n!=typeof chrome&&n!=typeof chrome.storage)var c=chrome.storage.local;else e:{try{c=window.localStorage;break e}catch(e){}c=void 0}l.storage=c,i.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),i.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},i.enable(o())}).call(i,r(18))},function(e,t,n){function a(e){function n(){if(n.enabled){var e=+new Date;n.diff=e-(a||e),n.prev=a,a=n.curr=e;var r=Array(arguments.length);for(e=0;e<r.length;e++)r[e]=arguments[e];r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var s=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(e,a){return"%%"===e?e:(s++,a=t.formatters[a],i===typeof a&&(e=a.call(n,r[s]),r.splice(s,1),s--),e)}),t.formatArgs.call(n,r),(n.log||t.log||console.log.bind(console)).apply(n,r)}}var a;return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),n.destroy=r,i===typeof t.init&&t.init(n),t.instances.push(n),n}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var n,i=("string"==typeof e?e:"").split(/[\s,]+/),a=i.length;for(n=0;n<a;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.substr(1)+"$")):t.names.push(RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++)e=t.instances[n],e.enabled=t.enabled(e.namespace)},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,i=0;for(n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=n(139),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&0<e.length)return function(e){if(!(100<(e+="").length)&&(e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}(e);if("number"===i&&!1===isNaN(e))return t.long?n(e,864e5,"day")||n(e,36e5,"hour")||n(e,6e4,"minute")||n(e,1e3,"second")||e+" ms":e>=864e5?Math.round(e/864e5)+"d":36e5<=e?Math.round(e/36e5)+"h":6e4<=e?Math.round(e/6e4)+"m":1e3<=e?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,n,i){function a(e){if(e){for(var n in a[t])e[n]=a[t][n];return e}}e.exports=a,a[t].on=a[t].addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},a[t].once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},a[t].off=a[t].removeListener=a[t].removeAllListeners=a[t].removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,a=0;a<n.length;a++)if((i=n[a])===t||i.fn===t){n.splice(a,1);break}return this},a[t].emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,a=(n=n.slice(0)).length;i<a;++i)n[i].apply(this,t);return this},a[t].listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},a[t].hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){e.exports=n(142),e.exports.parser=n(14)},function(e,r,s){function o(e,t){if(!(this instanceof o))return new o(e,t);t=t||{},e&&a===typeof e&&(t=e,e=null),e?(e=f(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=f(t.host).host),this.secure=null!=t.secure?t.secure:n!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n!==typeof location?location.hostname:"localhost"),this.port=t.port||(n!==typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=n!==typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),(n===typeof self||this.isReactNative)&&(t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.pingTimeoutTimer=this.pingIntervalTimer=this.pingTimeout=this.pingInterval=this.upgrades=this.id=null,this.open()}var l=s(67);r=s(40);var c=s(28)("engine.io-client:socket"),u=s(69),d=s(14),f=s(63),h=s(26);e.exports=o,o.priorWebsocketSuccess=!1,r(o[t]),o.protocol=d.protocol,o.Socket=o,o.Transport=s(38),o.transports=s(67),o.parser=s(14),o[t].createTransport=function(e){c('creating transport "%s"',e);var t,n=this.query,i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i.EIO=d.protocol,i.transport=e,n=this.transportOptions[e]||{},this.id&&(i.sid=this.id),new l[e]({query:i,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},o[t].open=function(){if(this.rememberUpgrade&&o.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))var e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},o[t].setTransport=function(e){c("setting transport %s",e.name);var t=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},o[t].probe=function(e){function t(){if(f.onlyBinaryUpgrades){var t=!this.supportsBinary&&f.transport.supportsBinary;d=d||t}d||(c('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){d||("pong"===t.type&&"probe"===t.data?(c('probe transport "%s" pong',e),f.upgrading=!0,f.emit("upgrading",u),u&&(o.priorWebsocketSuccess="websocket"===u.name,c('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){d||"closed"===f.readyState||(c("changing transport and sending upgrade packet"),l(),f.setTransport(u),u.send([{type:"upgrade"}]),f.emit("upgrade",u),u=null,f.upgrading=!1,f.flush())}))):(c('probe transport "%s" failed',e),t=Error("probe error"),t.transport=u.name,f.emit("upgradeError",t)))}))}function n(){d||(d=!0,l(),u.close(),u=null)}function i(t){var i=Error("probe error: "+t);i.transport=u.name,n(),c('probe transport "%s" failed because of error: %s',e,t),f.emit("upgradeError",i)}function a(){i("transport closed")}function r(){i("socket closed")}function s(e){u&&e.name!==u.name&&(c('"%s" works - aborting "%s"',e.name,u.name),n())}function l(){u.removeListener("open",t),u.removeListener("error",i),u.removeListener("close",a),f.removeListener("close",r),f.removeListener("upgrading",s)}c('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,f=this;o.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",i),u.once("close",a),this.once("close",r),this.once("upgrading",s),u.open()},o[t].onOpen=function(){if(c("socket open"),this.readyState="open",o.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){c("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},o[t].onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(c('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else c('packet received with socket readyState "%s"',this.readyState)},o[t].onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},o[t].onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},o[t].setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){c("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},o[t].ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},o[t].onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},o[t].flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},o[t].write=o[t].send=function(e,t,n){return this.sendPacket("message",e,t,n),this},o[t].sendPacket=function(e,t,n,a){i===typeof t&&(a=t,t=void 0),i===typeof n&&(a=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState&&((n=n||{}).compress=!1!==n.compress,e={type:e,data:t,options:n},this.emit("packetCreate",e),this.writeBuffer.push(e),a&&this.once("flush",a),this.flush())},o[t].close=function(){function e(){i.onClose("forced close"),c("socket closing - telling transport to close"),i.transport.close()}function t(){i.removeListener("upgrade",t),i.removeListener("upgradeError",t),e()}function n(){i.once("upgrade",t),i.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},o[t].onError=function(e){c("socket error %j",e),o.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},o[t].onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(c('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},o[t].filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~u(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t){try{e.exports=n!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,a,r){function s(){}function o(e){if(d.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,n!==typeof location){var t="https:"===location.protocol,i=location.port;i||(i=t?443:80),this.xd=n!==typeof location&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==t}}function l(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function c(){for(var e in l.requests)l.requests.hasOwnProperty(e)&&l.requests[e].abort()}var u=r(43),d=r(68);a=r(40);var f=r(27),h=r(28)("engine.io-client:polling-xhr");e.exports=o,e.exports.Request=l,f(o,d),o[t].supportsBinary=!0,o[t].request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new l(e)},o[t].doWrite=function(e,t){var n=this;(e=this.request({method:"POST",data:e,isBinary:"string"!=typeof e&&void 0!==e})).on("success",t),e.on("error",function(e){n.onError("xhr post error",e)}),this.sendXhr=e},o[t].doPoll=function(){h("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},a(l[t]),l[t].create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new u(e),i=this;try{h("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var a in this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&t.setRequestHeader(a,this.extraHeaders[a])}}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?i.onLoad():setTimeout(function(){i.onError(t.status)},0))},h("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){i.onError(e)},0)}n!==typeof document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l[t].onSuccess=function(){this.emit("success"),this.cleanup()},l[t].onData=function(e){this.emit("data",e),this.onSuccess()},l[t].onError=function(e){this.emit("error",e),this.cleanup(!0)},l[t].cleanup=function(e){if(n!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=s:this.xhr.onreadystatechange=s,e)try{this.xhr.abort()}catch(e){}n!==typeof document&&delete l.requests[this.index],this.xhr=null}},l[t].onLoad=function(){try{try{var e=this.xhr.getResponseHeader("Content-Type")}catch(e){}var t="application/octet-stream"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(e){this.onError(e)}null!=t&&this.onData(t)},l[t].hasXDR=function(){return n!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},l[t].abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},n!==typeof document&&(i===typeof attachEvent?attachEvent("onunload",c):i===typeof addEventListener&&addEventListener("onpagehide"in self?"pagehide":"unload",c,!1))},function(e,a,r){(function(a){function s(){}function o(e){l.call(this,e),this.query=this.query||{},u||(e=n!==typeof self?self:n!==typeof window?window:n!==typeof a?a:{},u=e.___eio=e.___eio||[]),this.index=u.length;var t=this;u.push(function(e){t.onData(e)}),this.query.j=this.index,i===typeof addEventListener&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=s)},!1)}var l=r(68),c=r(27);e.exports=o;var u,d=/\n/g,f=/\\n/g;c(o,l),o[t].supportsBinary=!1,o[t].doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null),l[t].doClose.call(this)},o[t].doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(t,i):(document.head||document.body).appendChild(t),this.script=t,n!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o[t].doWrite=function(e,t){function n(){i(),t()}function i(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(e){a.onError("jsonp polling iframe removal error",e)}try{r=document.createElement('<iframe src="javascript:0" name="'+a.iframeId+'">')}catch(e){(r=document.createElement("iframe")).name=a.iframeId,r.src="javascript:0"}r.id=a.iframeId,a.form.appendChild(r),a.iframe=r}var a=this;if(!this.form){var r,s=document.createElement("form"),o=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=l,s.method="POST",s.setAttribute("accept-charset","utf-8"),o.name="d",s.appendChild(o),document.body.appendChild(s),this.form=s,this.area=o}this.form.action=this.uri(),i(),e=e.replace(f,"\\\n"),this.area.value=e.replace(d,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===a.iframe.readyState&&n()}:this.iframe.onload=n}}).call(a,r(53))},function(e,t){e.exports=function(e,t){for(var n=[],i=(t=t||0)||0;i<e.length;i++)n[i-t]=e[i];return n}},function(e,n){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&1>=e.jitter?e.jitter:0,this.attempts=0}e.exports=i,i[t].duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},i[t].reset=function(){this.attempts=0},i[t].setMin=function(e){this.ms=e},i[t].setMax=function(e){this.max=e},i[t].setJitter=function(e){this.jitter=e}},function(e,n,i){function a(){}function r(e){var t=""+e.type;return n.BINARY_EVENT!==e.type&&n.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=l.stringify(e.data)),c("encoded %j as %s",e,t),t}function s(){this.reconstructor=null}function o(e){this.reconPack=e,this.buffers=[]}var l=i(5),c=i(149)("socket.io-parser");e=i(152);var u=i(39),d=i(64),f=i(59),h=i(42);n.protocol=4,n.types="CONNECT DISCONNECT EVENT ACK ERROR BINARY_EVENT BINARY_ACK".split(" "),n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=a,n.Decoder=s,a[t].encode=function(e,t){e.type!==n.EVENT&&e.type!==n.ACK||!u(e.data)||(e.type=e.type===n.EVENT?n.BINARY_EVENT:n.BINARY_ACK),c("encoding packet %j",e),n.BINARY_EVENT===e.type||n.BINARY_ACK===e.type?function(e,t){d.removeBlobs(e,function(e){var n=d.deconstructPacket(e);e=r(n.packet),(n=n.buffers).unshift(e),t(n)})}(e,t):(e=r(e),t([e]))},e(s[t]),s[t].add=function(e){if("string"==typeof e){e:{var t=0,i={type:+e.charAt(0)};if(null==n.types[i.type])e={type:n.ERROR,data:"parser error: unknown packet type "+i.type};else{if(n.BINARY_EVENT===i.type||n.BINARY_ACK===i.type){for(var a="";"-"!==e.charAt(++t)&&(a+=e.charAt(t),t!=e.length););if(a!=+a||"-"!==e.charAt(t))throw Error("Illegal attachments");i.attachments=+a}if("/"===e.charAt(t+1))for(i.nsp="";++t&&","!==(a=e.charAt(t))&&(i.nsp+=a,t!==e.length););else i.nsp="/";if(""!==(a=e.charAt(t+1))&&+a==a){for(i.id="";++t;){if(null==(a=e.charAt(t))||+a!=a){--t;break}if(i.id+=e.charAt(t),t===e.length)break}i.id=+i.id}if(e.charAt(++t)){t=e.substr(t);try{var r=l.parse(t)}catch(e){r=!1}if(!1===r||i.type!==n.ERROR&&!f(r)){e={type:n.ERROR,data:"parser error: invalid payload"};break e}i.data=r}c("decoded %s as %j",e,i),e=i}}n.BINARY_EVENT===e.type||n.BINARY_ACK===e.type?(this.reconstructor=new o(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e)}else{if(!h(e)&&!e.base64)throw Error("Unknown type: "+e);if(!this.reconstructor)throw Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",e))}},s[t].destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},o[t].takeBinaryData=function(e){return this.buffers.push(e),this.buffers.length===this.reconPack.attachments?(e=d.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),e):null},o[t].finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,s,o){(function(l){function c(e){return r.s(),r.s(),r.sIterator(),(c=i===typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return r.s(),r.s(),r.s(),e&&i===typeof Symbol&&e.constructor===Symbol&&e!==Symbol[t]?"symbol":typeof e})(e)}s.log=function(){var e;return a===(n===typeof console?n:c(console))&&console.log&&(e=console).log.apply(e,arguments)},s.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,a=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))}),t.splice(a,0,n)}},s.save=function(e){try{e?s.storage.setItem("debug",e):s.storage.removeItem("debug")}catch(e){}},s.load=function(){try{var e=s.storage.getItem("debug")}catch(e){}return!e&&n!==typeof l&&"env"in l&&(e=l.env.DEBUG),e},s.useColors=function(){return!(n===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||(n===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(n!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||n!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||n!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||n!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};e:{try{var u=localStorage;break e}catch(e){}u=void 0}s.storage=u,s.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),e.exports=o(150)(s),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(s,o(18))},function(e,t,a){e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){function n(){if(n.enabled){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];n.diff=(e=+new Date)-(a||e),n.prev=a,a=n.curr=e,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var o=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,a){return"%%"===e?e:(o++,a=r.formatters[a],i===typeof a&&(e=a.call(n,t[o]),t.splice(o,1),o--),e)}),r.formatArgs.call(n,t),(n.log||r.log).apply(n,t)}}var a;return n.namespace=e,n.enabled=r.enabled(e),n.useColors=r.useColors(),n.color=t(e),n.destroy=s,n.extend=o,i===typeof r.init&&r.init(n),r.instances.push(n),n}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(n===typeof t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){r.save(e),r.names=[],r.skips=[];var t,n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(RegExp("^"+e.substr(1)+"$")):r.names.push(RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++)e=r.instances[t],e.enabled=r.enabled(e.namespace)},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n=0;for(t=r.skips.length;n<t;n++)if(r.skips[n].test(e))return!1;for(n=0,t=r.names.length;n<t;n++)if(r.names[n].test(e))return!0;return!1},r.humanize=a(151),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){function n(e,t,n,i){return Math.round(e/n)+" "+i+(t>=1.5*n?"s":"")}e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&0<e.length)return function(e){if(!(100<(e+="").length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}(e);if("number"===i&&isFinite(e))return t.long?(t=Math.abs(e),e=864e5<=t?n(e,t,864e5,"day"):36e5<=t?n(e,t,36e5,"hour"):6e4<=t?n(e,t,6e4,"minute"):1e3<=t?n(e,t,1e3,"second"):e+" ms"):(t=Math.abs(e),e=864e5<=t?Math.round(e/864e5)+"d":36e5<=t?Math.round(e/36e5)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms"),e;throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,n,i){function a(e){if(e){for(var n in a[t])e[n]=a[t][n];return e}}e.exports=a,a[t].on=a[t].addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},a[t].once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},a[t].off=a[t].removeListener=a[t].removeAllListeners=a[t].removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,a=0;a<n.length;a++)if((i=n[a])===t||i.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},a[t].emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var a=(n=n.slice(0)).length;i<a;++i)n[i].apply(this,t)}return this},a[t].listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},a[t].hasListeners=function(e){return!!this.listeners(e).length}},function(e,s,o){Object.defineProperty(s,"__esModule",{value:!0}),e=o(154),o.n(e);var l=o(157),c=o(11),u={};(o=function(){this.restricted_clients=[],(n!==typeof window?c.default:l.a).create(this),this._logger=null,this._client=!1,this._id=Math.ceil(1e16*Math.random()),this._uusers={},this._server=null})[t].data=function(){return{}},o[t].getLoggerSO=function(){return null},o[t].$create=function(e){var t=this;if(e&&n!=typeof this._uusers&&this._uusers)if(n!=typeof this._uusers[e._id])this.getLoggerSO()&&(this.getLoggerSO().error("socket_object getting recreated for same client.."+e.id+" "+e.getFullName()+"::"+this),this.getLoggerSO().error(Error().stack));else if(this._uusers&&e._uusers){this._uusers[e._id]={user:e,binds:[]},this.getLoggerSO()&&this.getLoggerSO().label("create-for",e.id).info("creating"),this._uusers[e._id].binds.push(e.on("dispose",function(){t.$remove([e])},this));var s=function(a,s,o){for(var l=r.m(t.restricted_clients),c=l.next();!c.done;c=l.next())if(0<=(c=c.value).indexOf(a.user_id)&&c!==a.id)return;n!=typeof t._uusers[e._id]&&(s&&o||a.emit("so_create_"+t.constructor.getClassName(),t._id,t.data(!0,!1)),t._uusers[e._id].binds.push(a.sonn("so_event_"+t.constructor.getClassName(),function(n,a,r){for(var s=[],o=2;o<arguments.length;++o)s[o-2]=arguments[o];t._id==n&&(t.getLoggerSO()&&t.getLoggerSO().label("event",e.id).info("event received "+a),s.push(e),i==typeof t[a]&&t[a].apply(t,s))})))};this._uusers[e._id].binds.push(e.on("client-connect",s,this,!0));for(var o=e.findClients(null,null,!0),l=(o=r.m(o)).next();!l.done;l=o.next())s(l.value,!1,!1)}else console.error((e._uusers?a:"user")+" is disposed, still creating new object."),console.error(Error().stack)},o[t]._$check=function(e,t,i){e=void 0===e?null:e,t=void 0===t?null:t;var a=!0;if(e&&e.length)for(var s=(e=r.m(e)).next();!s.done;s=e.next())if((s=s.value)._id&&s._id==i._id)return!1;if(t&&1<=t.length){for(a=(t=r.m(t)).next();!a.done;a=t.next())if(a=a.value,n!==typeof a&&null!==a&&a._id&&a._id==i._id)return!0;a=!1}return a},o[t].$remove=function(e,t){if(e=void 0===e?null:e,t=void 0===t?null:t,this._uusers){for(var n=this.$call(null,[],t,e,null,"so_remove_"),i=r.m(Object.keys(this._uusers)),a=i.next();!a.done;a=i.next())if(a=a.value,this._$check(t,e,this._uusers[a].user)){for(var s=r.m(this._uusers[a].binds),o=s.next();!o.done;o=s.next())(o=o.value)();delete this._uusers[a]}return n}console.error("self is disposed, still $remove to it."),console.error(Error().stack)},o[t].$trigger=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];return this.$call("trigger",t)},o[t].$call=function(e,t,n,i,a,s){if(t=void 0===t?[]:t,n=void 0===n?null:n,i=void 0===i?null:i,a=void 0===a?null:a,s=void 0===s?"so_event_":s,!this._uusers)return console.error("self is disposed, still $emiting to it."),console.error(Error().stack),!1;if(0==Object.keys(this._uusers).length&&!this._server)return!1;if(t.unshift(e),t.unshift(this._id),t.unshift(s+this.constructor.getClassName()),this.getLoggerSO()&&this.getLoggerSO().label("call",e).info("calling"),this.getLoggerSO()&&(this.getLoggerSO().label("emit",e).info("emitting-"+t[2]),this.getLoggerSO().label("emit",e).log(t),this.getLoggerSO().label("emit",e).log(Error().stack)),s=0,this._server)this._server.emit.apply(this._server,t),s++;else for(var o in this._uusers){var l=this._uusers[o];if(this._$check(n,i,l.user)){for(var c=r.m(this.restricted_clients),u=c.next();!u.done;u=c.next())0<=(u=u.value).indexOf(l.user.id)&&(a||(a=[]),a[0]=a[0]?a[0]:[],a[0].push(u));a&&l.user.emitFilters.apply(l.user,a),(l=l.user.emit.apply(l.user,t))&&(s+=l)}}return this.getLoggerSO()&&this.getLoggerSO().label("emit",e).info("emitted to "+count+" clients"),s},o[t].onDispose=function(){if(this._client||this.$remove(),this._uusers=!1,n==typeof window)for(var e in this)this[e]&&i==typeof this[e]&&this[e]._emiter_off&&this[e](),delete this[e]},o[t].onDestroy=function(){if(n!==typeof window){this.onOtherDispose();for(var e in this)this[e]&&i==typeof this[e]&&this[e]._emiter_off&&this[e](),delete this[e]}},o[t].onOtherDispose=function(){},o.getClassName=function(){return"SocketObject"},o.setStore=function(e,t,n,i){this.constructor._store=new d(e,t,this,n,i)};var d=function(e,t,n,i,a){var r=this;u[n.getClassName()]&&(u[n.getClassName()].destroy(),delete u[n.getClassName()]),u[n.getClassName()]=this,this.className=n.getClassName(),this.classObject=n,this.store={},this.onCreate=i,this.onDelete=a,this.session=t,this.hold=!1;var s=this;["create","event","remove"].forEach(function(e){r.session.socket.on("so_"+e+"_"+r.className,function(){var t=arguments;s.hold?s.hold.push(function(){s[e].apply(s,t)}):s[e].apply(s,arguments)})}),this.session.on("stop",function(){r.hold||(r.hold=[])}),this.session.on("start",function(e,t,n,i,a){t&&n?r.unhold():t&&!n?r.unhold(!0):!t&&n?r.unhold():t||n||r.unhold()})};d[t].unhold=function(e){void 0!==e&&e&&this.clean(),this.hold&&this.hold.forEach(function(e){e()}),this.hold=!1},d[t].create=function(e,t){var n=this;if(this.store[e]&&!Array.isArray(this.store[e])){try{this.onDelete(this.store[e])}catch(e){console.error(e)}var i=this.store[e];i&&i.trigger&&i.trigger("dispose"),delete this.store[e]}this.onCreate(e,t,function(t){var i=[];for(n.store[e]&&n.store[e]instanceof Array&&(i=n.store[e]),n.store[e]=t,n.store[e]._server=n.session.socket,n.store[e]._id=e,i=(t=r.m(i)).next();!i.done;i=t.next())(i=i.value)()})},d[t].event=function(e,n){var i=this,a=Array[t].slice.call(arguments);a.shift(),a.shift();var r=function(){i.store[e]?i.store[e][n]&&i.store[e][n].apply(i.store[e],a):console.error("object not found. ")};!this.store[e]||this.store[e]instanceof Array?(this.store[e]=this.store[e]||[],this.store[e].push(r)):r()},d[t].remove=function(e,t){var n=this;t=function(){if(n.store[e]){try{n.onDelete(n.store[e])}catch(e){}var t=n.store[e];t&&t.trigger&&t.trigger("dispose"),delete n.store[e]}else console.info("object not found.")},!this.store[e]||this.store[e]instanceof Array?(this.store[e]=this.store[e]?this.store[e]:[],this.store[e].push(t)):t()},d[t].clean=function(){for(var e in this.store){try{this.onDelete(this.store[e])}catch(e){console.error(e)}if(this.store[e]&&!(this.store[e]instanceof Array)){var t=this.store[e];t&&t.trigger&&t.trigger("dispose")}delete this.store[e]}},d[t].destroy=function(){for(var e=r.m(["so_create_"+this.className,"so_event_"+this.className,"so_remove_"+this.className]),t=e.next();!t.done;t=e.next())this.session.socket.off(t.value);this.clean()},d.SocketObject=o,s.default=d},function(e,s,o){(function(e){function l(e,t){var n={seen:[],stylize:u};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),g(t)?n.showHidden=t:t&&s._extend(n,t),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),d(n,e,n.depth)}function c(e,t){return(t=l.styles[t])?"["+l.colors[t][0]+"m"+e+"["+l.colors[t][1]+"m":e}function u(e,t){return e}function d(e,i,a){if(e.customInspect&&i&&k(i.inspect)&&i.inspect!==s.inspect&&(!i.constructor||i.constructor[t]!==i)){var r=i.inspect(a,e);return v(r)||(r=d(e,r,a)),r}if(r=function(e,t){return y(t)?e.stylize(n,n):v(t)?(t="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",e.stylize(t,"string")):m(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):null===t?e.stylize("null","null"):void 0}(e,i))return r;var o=Object.keys(i),l=function(e){var t={};return o.forEach(function(e,n){t[e]=!0}),t}();if(e.showHidden&&(o=Object.getOwnPropertyNames(i)),x(i)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return f(i);if(0===o.length){if(k(i))return e.stylize("[Function"+(i.name?": "+i.name:"")+"]","special");if(b(i))return e.stylize(RegExp[t].toString.call(i),"regexp");if(w(i))return e.stylize(Date[t].toString.call(i),"date");if(x(i))return f(i)}r="";var c=!1,u=["{","}"];return p(i)&&(c=!0,u=["[","]"]),k(i)&&(r=" [Function"+(i.name?": "+i.name:"")+"]"),b(i)&&(r=" "+RegExp[t].toString.call(i)),w(i)&&(r=" "+Date[t].toUTCString.call(i)),x(i)&&(r=" "+f(i)),0!==o.length||c&&0!=i.length?0>a?b(i)?e.stylize(RegExp[t].toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),o=c?function(e,n,i,a,r){for(var s=[],o=0,l=n.length;o<l;++o)Object[t].hasOwnProperty.call(n,o+"")?s.push(h(e,n,i,a,o+"",!0)):s.push("");return r.forEach(function(t){t.match(/^\d+$/)||s.push(h(e,n,i,a,t,!0))}),s}(e,i,a,l,o):o.map(function(t){return h(e,i,a,l,t,c)}),e.seen.pop(),function(e,t,n){return 60<e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(o,r,u)):u[0]+r+u[1]}function f(e){return"["+Error[t].toString.call(e)+"]"}function h(e,n,i,a,r,s){var o,l;if((n=Object.getOwnPropertyDescriptor(n,r)||{value:n[r]}).get?l=n.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):n.set&&(l=e.stylize("[Setter]","special")),Object[t].hasOwnProperty.call(a,r)||(o="["+r+"]"),l||(0>e.seen.indexOf(n.value)?-1<(l=d(e,n.value,null===i?null:i-1)).indexOf("\n")&&(l=s?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n")):l=e.stylize("[Circular]","special")),y(o)){if(s&&r.match(/^\d+$/))return l;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+l}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===Object[t].toString.call(e)}function _(e){return a===typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===Object[t].toString.call(e)}function x(e){return _(e)&&("[object Error]"===Object[t].toString.call(e)||e instanceof Error)}function k(e){return i===typeof e}function C(e){return 10>e?"0"+e.toString(10):e.toString(10)}function T(e,t){if(!e){var n=Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}var S=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},E=/%[sdj%]/g;s.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(l(arguments[n]));return t.join(" ")}n=1;var i=arguments,a=i.length;t=(e+"").replace(E,function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return i[n++]+"";case"%d":return+i[n++];case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}});for(var r=i[n];n<a;r=i[++n])t=null!==r&&_(r)?t+" "+l(r):t+" "+r;return t},s.deprecate=function(t,i){if(n!==typeof e&&!0===e.noDeprecation)return t;if(n===typeof e)return function(){return s.deprecate(t,i).apply(this,arguments)};var a=!1;return function(){if(!a){if(e.throwDeprecation)throw Error(i);e.traceDeprecation?console.trace(i):console.error(i),a=!0}return t.apply(this,arguments)}};var A,M={};s.debuglog=function(t){if(y(A)&&(A=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!M[t])if(RegExp("\\b"+t+"\\b","i").test(A)){var n=e.pid;M[t]=function(){var e=s.format.apply(s,arguments);console.error("%s %d: %s",t,n,e)}}else M[t]=function(){};return M[t]},s.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=p,s.isBoolean=g,s.isNull=function(e){return null===e},s.isNullOrUndefined=function(e){return null==e},s.isNumber=m,s.isString=v,s.isSymbol=function(e){return"symbol"==typeof e},s.isUndefined=y,s.isRegExp=b,s.isObject=_,s.isDate=w,s.isError=x,s.isFunction=k,s.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||n===typeof e},s.isBuffer=o(155);var O="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");s.log=function(){console.log("%s - %s",function(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}(),s.format.apply(s,arguments))},s.inherits=o(156),s._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e},r.s(),r.s();var N=n!==typeof Symbol?Symbol("util.promisify.custom"):void 0;s.promisify=function(e){function t(){for(var t,n,i=new Promise(function(e,i){t=e,n=i}),a=[],r=0;r<arguments.length;r++)a.push(arguments[r]);a.push(function(e,i){e?n(e):t(i)});try{e.apply(this,a)}catch(e){n(e)}return i}if(i!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){if(t=e[N],i!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,S(e))},s.promisify.custom=N,s.callbackify=function(t){function n(){for(var n=[],a=0;a<arguments.length;a++)n.push(arguments[a]);var r=n.pop();if(i!==typeof r)throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return r.apply(s,arguments)};t.apply(this,n).then(function(t){e.nextTick(o,null,t)},function(t){e.nextTick(T,t,o)})}if(i!==typeof t)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,S(t)),n}}).call(s,o(18))},function(e,t){e.exports=function(e){return e&&a===typeof e&&i===typeof e.copy&&i===typeof e.fill&&i===typeof e.readUInt8}},function(e,n){e.exports=i===typeof Object.create?function(e,n){e.super_=n,e[t]=Object.create(n[t],{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,n){e.super_=n;var i=function(){};i[t]=n[t],e[t]=new i,e[t].constructor=e}},function(e,t,a){var r=function(){};r.create=function(e){e._tracks={},e._callbacks={},e._fired=[],e.on=r.on,e.if=r.if,e.wait=r.wait,e.trigger=r.trigger,e.off=r.off,e.once=r.once,e.__dispose_events=[],e.__dispose_backfires={},e.on("dispose",function(){for(var t in e.__dispose_events){var n=e.__dispose_events[t];if(n[0]&&n[0].off&&n[0].off(n[1],n[2]),n[0]&&n[0].__dispose_backfires)for(var i in n[0].__dispose_backfires)for(var a=n[0].__dispose_backfires[i].length-1;0<=a;)n[0].__dispose_backfires[i][a][0]===e&&n[0].__dispose_backfires[i].splice(a,1),--a}e.__dispose_events=[],e.off()})},r.if=function(e,t,n){return t=void 0===t?null:t,n=void 0!==n&&n,0>this._fired.indexOf(e)?(t&&this.once(e,t),n&&0>this._fired.indexOf("please-"+e)&&this.trigger("please-"+e),!1):(t&&t(),!0)},r.trigger=function(e,t){for(var a=[],r=1;r<arguments.length;++r)a[r-1]=arguments[r];if(r=void 0,0>this._fired.indexOf(e)&&this._fired.push(e),n!==typeof this._callbacks[e])for(var s=this._callbacks[e].length-1;0<=s;){var o=this._callbacks[e][s];if(!0===this._callbacks[e][s+1]&&this._callbacks[e].splice(s,2),i==typeof o)try{var l=o.apply(o,a);n!==typeof l&&(r=l)}catch(e){console.error(e)}--s}if(l=e.replace(/[\-_]([a-z])/g,function(e){return e[1].toUpperCase()}),l=l[0].toUpperCase()+l.substr(1),i==typeof this["on"+l])try{var c=this["on"+l].apply(this,a);n!==typeof c&&(r=c)}catch(e){console.error(e)}return r},r.on=function(e,t,i,a,r){var s=this;return i=void 0===i?null:i,r=void 0!==r&&r,n==typeof this._callbacks[e]&&(this._callbacks[e]=[]),void 0!==a&&a?(this._callbacks[e].unshift(r),this._callbacks[e].unshift(t)):(this._callbacks[e].push(t),this._callbacks[e].push(r)),i&&(a=[this,e,t],i.__dispose_events.push(a),n==typeof this.__dispose_backfires[e]&&(this.__dispose_backfires[e]=[]),this.__dispose_backfires[e].push([i,a])),i=function(){s.off(e,t)},i._emiter_off=!0,i},r.off=function(e,t){if(e=void 0===e?null:e,t=void 0===t?null:t,null==e?this._callbacks={}:null==t?delete this._callbacks[e]:n!==typeof this._callbacks[e]&&0<=this._callbacks[e].indexOf(t)&&this._callbacks[e].splice(this._callbacks[e].indexOf(t),2),this.__dispose_backfires)for(var i in this.__dispose_backfires)if(!e||i===e){for(var a=(t=this.__dispose_backfires[i]).length-1;0<=a;){var r=t[a];r&&r[0]&&r[0].__dispose_events&&0<=r[0].__dispose_events.indexOf(r[1])&&r[0].__dispose_events.splice(r[0].__dispose_events.indexOf(r[1]),1),t.splice(a,1),--a}delete this.__dispose_backfires[i]}},r.once=function(e,t,n){return this.on(e,t,void 0===n?null:n,!1,!0)},t.a=r},function(e,n){n.__esModule=!0,String[t].endsWith||(String[t].endsWith=function(e,t){var n=""+this;return("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length,-1!==(e=n.indexOf(e,t))&&e===t});var i={occurrences:function(e,t,n){if(e+="",0>=(t+="").length)return e.length+1;var i=0,a=0;for(n=n?1:t.length;0<=(a=e.indexOf(t,a));)i++,a+=n;return i},order:function(e,t,n){e=e.split(t);for(var r=0;r<e.length;r++){for(var s,o=!1,l=!1,c=!0,u=e[r],d=0;d<u.length;d++){var f=u[d];-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~:/?#[]@!$&'()*+,;=%".indexOf(f)&&(d=u.length,c=!1)}if(c){c=u.indexOf("https:/"),d=u.indexOf("ftp:/"),f=u.indexOf("tel:");var h=u.indexOf("http:/"),p=u.indexOf("file:/");if(0===h||0===c||0===f||0===d||0===p)o=!0;else if(0<u.indexOf(".")){if(3<=i.occurrences(u,".")){var g=u.split(".");c=g[0],f=g[1],h=g[2],-1<g[3].indexOf("/")?(d=g[3].indexOf("/"),p=g[3].substring(0,d),d=g[3].substring(d)):(p=g[3],d=!1),(!1===d||"/"===d.charAt(0))&&!(isNaN(c)||isNaN(f)||isNaN(h)||isNaN(p))&&255>c-1&&255>c-1&&255>c-1&&255>c-1?(o=!0,l="http://"):s="email"}else s="email";if(c=".com .net .org .edu .gov .uk .ca .de .jp .info .cn .fr .in .pl .au .us .ru .ch .it .nl .se .no .es .mil .guru .berlin .photography .tips .today .email .technology .company .clothing .ir .biz .cz .kr .eu .ua .za .co .gr .ro .tw .mx .vn .at .dk .tv .me .hu .ar .sk .fi .cl .id .nz .cc .pt .by .il .ie .my .mobi .ws .pro .asia .abb .abbott .abogado .ac .academy .accenture .accountant .accountants .active .actor .ad .ads .adult .ae .aeg .aero .af .afl .ag .agency .ai .aig .airforce .airtel .al .allfinanz .alsace .am .amsterdam .an .android .ao .apartments .app .aq .aquarelle .archi .army .arpa .as .associates .attorney .auction .audio .auto .autos .aw .ax .axa .az .azure .ba .band .bank .bar .barcelona .barclaycard .barclays .bargains .bauhaus .bayern .bb .bbc .bbva .bcn .bd .be .beer .bentley .best .bf .bg .bh .bharti .bi .bible .bid .bike .bing .bingo .bio .bj .black .blackfriday .bloomberg .blue .bm .bmw .bn .bnl .bnpparibas .bo .boats .bond .boo .boutique .br .bradesco .bridgestone .broker .brother .brussels .bs .bt .budapest .build .builders .business .buzz .bv .bw .bz .bzh .cab .cafe .cal .camera .camp .cancerresearch .canon .capetown .capital .caravan .cards .care .career .careers .cars .cartier .casa .cash .casino .cat .catering .cba .cbn .cd .center .ceo .cern .cf .cfa .cfd .cg .channel .chat .cheap .chloe .christmas .chrome .church .ci .cisco .citic .city .ck .claims .cleaning .click .clinic .cloud .club .cm .coach .codes .coffee .college .cologne .commbank .community .computer .condos .construction .consulting .contractors .cooking .cool .coop .corsica .country .coupons .courses .cr .credit .creditcard .cricket .crown .crs .cruises .cu .cuisinella .cv .cw .cx .cy .cymru .cyou .dabur .dad .dance .date .dating .datsun .day .dclk .deals .degree .delivery .delta .democrat .dental .dentist .desi .design .dev .diamonds .diet .digital .direct .directory .discount .dj .dm .dnp .do .docs .dog .doha .domains .doosan .download .drive .durban .dvag .dz .earth .eat .ec .education .ee .eg .emerck .energy .engineer .engineering .enterprises .epson .equipment .er .erni .esq .estate .et .eurovision .eus .events .everbank .exchange .expert .exposed .express .fail .faith .fan .fans .farm .fashion .feedback .film .finance .financial .firmdale .fish .fishing .fit .fitness .fj .fk .flights .florist .flowers .flsmidth .fly .fm .fo .foo .football .forex .forsale .forum .foundation .frl .frogans .fund .furniture .futbol .fyi .ga .gal .gallery .game .garden .gb .gbiz .gd .gdn .ge .gent .genting .gf .gg .ggee .gh .gi .gift .gifts .gives .gl .glass .gle .global .globo .gm .gmail .gmo .gmx .gn .gold .goldpoint .golf .goo .goog .google .gop .gp .gq .graphics .gratis .green .gripe .gs .gt .gu .guge .guide .guitars .gw .gy .hamburg .hangout .haus .healthcare .help .here .hermes .hiphop .hitachi .hiv .hk .hm .hn .hockey .holdings .holiday .homedepot .homes .honda .horse .host .hosting .hoteles .hotmail .house .how .hr .hsbc .ht .ibm .icbc .icu .ifm .iinet .im .immo .immobilien .industries .infiniti .ing .ink .institute .insure .int .international .investments .io .iq .irish .is .ist .istanbul .iwc .java .jcb .je .jetzt .jewelry .jlc .jll .jm .jo .jobs .joburg .jprs .juegos .kaufen .kddi .ke .kg .kh .ki .kim .kitchen .kiwi .km .kn .koeln .komatsu .kp .krd .kred .kw .ky .kyoto .kz .la .lacaixa .land .lasalle .lat .latrobe .law .lawyer .lb .lc .lds .lease .leclerc .legal .lgbt .li .liaison .lidl .life .lighting .limited .limo .link .live .lk .loan .loans .lol .london .lotte .lotto .love .lr .ls .lt .ltda .lu .lupin .luxe .luxury .lv .ly .ma .madrid .maif .maison .management .mango .market .marketing .markets .marriott .mba .mc .md .media .meet .melbourne .meme .memorial .men .menu .mg .mh .miami .microsoft .mini .mk .ml .mm .mma .mn .mo .moda .moe .monash .money .montblanc .mormon .mortgage .moscow .motorcycles .mov .movie .movistar .mp .mq .mr .ms .mt .mtn .mtpc .mu .museum .mv .mw .mz .na .nadex .nagoya .name .navy .nc .ne .nec .netbank .network .neustar .new .news .nexus .nf .ng .ngo .nhk .ni .nico .ninja .nissan .np .nr .nra .nrw .ntt .nu .nyc .office .okinawa .om .omega .one .ong .onl .online .ooo .oracle .orange .organic .osaka .otsuka .ovh .pa .page .panerai .paris .partners .parts .party .pe .pf .pg .ph .pharmacy .philips .photo .photos .physio .piaget .pics .pictet .pictures .pink .pizza .pk .place .play .plumbing .plus .pm .pn .pohl .poker .porn .post .pr .praxi .press .prod .productions .prof .properties .property .ps .pub .pw .py .qa .qpon .quebec .racing .re .realtor .realty .recipes .red .redstone .rehab .reise .reisen .reit .ren .rent .rentals .repair .report .republican .rest .restaurant .review .reviews .rich .ricoh .rio .rip .rocks .rodeo .rs .rsvp .ruhr .run .rw .ryukyu .sa .saarland .sakura .sale .samsung .sandvik .sandvikcoromant .sap .sarl .saxo .sb .sc .sca .scb .schmidt .scholarships .school .schule .schwarz .science .scor .scot .sd .seat .sener .services .sew .sex .sexy .sg .sh .shiksha .shoes .show .shriram .si .singles .site .sj .ski .sky .skype .sl .sm .sn .sncf .so .soccer .social .software .sohu .solar .solutions .sony .soy .space .spiegel .spreadbetting .sr .st .starhub .statoil .studio .study .style .su .sucks .supplies .supply .support .surf .surgery .suzuki .sv .swatch .swiss .sx .sy .sydney .systems .sz .taipei .tatar .tattoo .tax .taxi .tc .td .team .tech .tel .telefonica .temasek .tennis .tf .tg .th .thd .theater .tickets .tienda .tires .tirol .tj .tk .tl .tm .tn .to .tokyo .tools .top .toray .toshiba .tours .town .toys .tr .trade .trading .training .travel .trust .tt .tui .tz .ubs .ug .university .uno .uol .uy .uz .va .vacations .vc .ve .vegas .ventures .versicherung .vet .vg .vi .viajes .video .villas .vision .vista .vistaprint .vlaanderen .vodka .vote .voting .voto .voyage .vu .wales .walter .wang .watch .webcam .website .wed .wedding .weir .wf .whoswho .wien .wiki .williamhill .win .windows .wme .work .works .world .wtc .wtf .xbox .xerox .xin .xn--1qqw23a .xn--30rr7y .xn--3bst00m .xn--3ds443g .xn--3e0b707e .xn--45brj9c .xn--45q11c .xn--4gbrim .xn--55qw42g .xn--55qx5d .xn--6frz82g .xn--6qq986b3xl .xn--80adxhks .xn--80ao21a .xn--80asehdb .xn--80aswg .xn--90a3ac .xn--90ais .xn--9et52u .xn--b4w605ferd .xn--c1avg .xn--cg4bki .xn--clchc0ea0b2g2a9gcd .xn--czr694b .xn--czrs0t .xn--czru2d .xn--d1acj3b .xn--d1alf .xn--estv75g .xn--fiq228c5hs .xn--fiq64b .xn--fiqs8s .xn--fiqz9s .xn--fjq720a .xn--flw351e .xn--fpcrj9c3d .xn--fzc2c9e2c .xn--gecrj9c .xn--h2brj9c .xn--hxt814e .xn--i1b6b1a6a2e .xn--imr513n .xn--io0a7i .xn--j1amh .xn--j6w193g .xn--kcrx77d1x4a .xn--kprw13d .xn--kpry57d .xn--kput3i .xn--l1acc .xn--lgbbat1ad8j .xn--mgb9awbf .xn--mgba3a4f16a .xn--mgbaam7a8h .xn--mgbab2bd .xn--mgbayh7gpa .xn--mgbbh1a71e .xn--mgbc0a9azcg .xn--mgberp4a5d4ar .xn--mgbpl2fh .xn--mgbx4cd0ab .xn--mxtq1m .xn--ngbc5azd .xn--node .xn--nqv7f .xn--nqv7fs00ema .xn--nyqy26a .xn--o3cw4h .xn--ogbpf8fl .xn--p1acf .xn--p1ai .xn--pgbs0dh .xn--q9jyb4c .xn--qcka1pmc .xn--rhqv96g .xn--s9brj9c .xn--ses554g .xn--unup4y .xn--vermgensberater-ctb .xn--vermgensberatung-pwb .xn--vhquv .xn--vuq861b .xn--wgbh1c .xn--wgbl6a .xn--xhq521b .xn--xkc2al3hye2a .xn--xkc2dl3a5ee0h .xn--y9a3aq .xn--yfro4i67o .xn--ygbi2ammx .xn--zfr164b .xxx .xyz .yachts .yandex .ye .yodobashi .yoga .yokohama .youtube .yt .zip .zm .zone .zuerich .zw".split(" "),"email"===s)if(1==i.occurrences(u,"@")){for(d=u.indexOf("@"),h=u.substring(0,d),p=u.substring(d+1,u.length),g=!0,d=0;d<h.length;d++)f=h[d],-1==="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!#$%&'*+-/=?^_`{|}~.".indexOf(f)&&(d=h.length,g=!1);for(d=0;d<p.length;d++)f=p[d],-1==="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-.:".indexOf(f)&&(d=p.length,g=!1);if(g)for(d=0;d<c.length;d++)f=c[d],-1!==u.indexOf(f,u.length-f.length)?(o=!0,l="mailto:",d=c.length,s=""):s="domains";else s="domains"}else s="domains";if("domains"===s){if(h=!0,4<u.indexOf("/"))for(d=u.indexOf("/"),p=u.substring(0,d),d=0;d<p.length;d++)f=p[d],-1==="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-.:".indexOf(f)&&(d=p.length,h=!1);else for(d=0;d<u.length;d++)f=u[d],-1==="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-.:".indexOf(f)&&(d=u.length,h=!1);if(h)if(0===u.indexOf("www."))o=!0,l="http://";else for(d=0;d<c.length;d++)f=c[d],h=f+"/",p=f+":",-1!==u.indexOf(f,u.length-f.length)?(o=!0,l="http://",d=c.length):-1<u.indexOf(h)?(o=!0,l="http://",d=c.length):-1<u.indexOf(p)&&(o=!0,l="http://",d=c.length)}}if(l=l?l+u:u,o){var m=function(e){if(e.endsWith(".")&&(e=e.substring(0,e.length-1),e=m(e)),!e.endsWith("."))return e};if(l=m(l),a===typeof n){e[r]="<a href='"+l.replace(/[^\x00-\x7F]/g,"")+"'";for(var v in n)e[r]=e[r]+" "+v+"='"+n[v]+"'";e[r]=e[r]+">"+u+"</a>"}else e[r]="<a href='"+l.replace(/[^\x00-\x7F]/g,"")+"'>"+u+"</a>"}}}return e.join(t)},js:function(e,t){return e=e.split("\n").join(" \n "),e=e.split(" (").join(" ( "),e=e.split(")").join(" )"),e=i.order(e," ",t),t=i.order(e,"\n",t),t=t.split("( ").join("("),t=t.split(" )").join(")")}};n.default=i},function(e,t){t.__esModule=!0,e=Object.freeze||function(e){return e},t.html=e("a abbr acronym address area article aside audio b bdi bdo big blink blockquote body br button canvas caption center cite code col colgroup content data datalist dd decorator del details dfn dir div dl dt element em fieldset figcaption figure font footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i img input ins kbd label legend li main map mark marquee menu menuitem meter nav nobr ol optgroup option output p pre progress q rp rt ruby s samp section select shadow small source spacer span strike strong style sub summary sup table tbody td template textarea tfoot th thead time tr track tt u ul var video wbr iframe".split(" ")),t.svg=e("svg a altglyph altglyphdef altglyphitem animatecolor animatemotion animatetransform audio canvas circle clippath defs desc ellipse filter font g glyph glyphref hkern image line lineargradient marker mask metadata mpath path pattern polygon polyline radialgradient rect stop style switch symbol text textpath title tref tspan video view vkern".split(" ")),t.svgFilters=e("feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence".split(" ")),t.mathMl=e("math menclose merror mfenced mfrac mglyph mi mlabeledtr mmultiscripts mn mo mover mpadded mphantom mroot mrow ms mspace msqrt mstyle msub msup msubsup mtable mtd mtext mtr munder munderover".split(" ")),t.text=e(["#text"])},function(e,t){t.__esModule=!0,e=Object.freeze||function(e){return e},t.html=e("accept action align alt autocomplete background bgcolor border cellpadding cellspacing checked cite class clear color cols colspan controls coords crossorigin datetime default dir disabled download enctype face for headers height hidden high href hreflang id integrity ismap label lang list loop low max maxlength media method min multiple name noshade novalidate nowrap open optimum pattern placeholder poster preload pubdate radiogroup readonly rel required rev reversed role rows rowspan spellcheck scope selected shape size sizes span srclang start src srcset step style summary tabindex title type usemap valign value width xmlns".split(" ")),t.svg=e("accent-height accumulate additive alignment-baseline ascent attributename attributetype azimuth basefrequency baseline-shift begin bias by class clip clip-path clip-rule color color-interpolation color-interpolation-filters color-profile color-rendering cx cy d dx dy diffuseconstant direction display divisor dur edgemode elevation end fill fill-opacity fill-rule filter filterunits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight fx fy g1 g2 glyph-name glyphref gradientunits gradienttransform height href id image-rendering in in2 k k1 k2 k3 k4 kerning keypoints keysplines keytimes lang lengthadjust letter-spacing kernelmatrix kernelunitlength lighting-color local marker-end marker-mid marker-start markerheight markerunits markerwidth maskcontentunits maskunits max mask media method mode min name numoctaves offset operator opacity order orient orientation origin overflow paint-order path pathlength patterncontentunits patterntransform patternunits points preservealpha preserveaspectratio primitiveunits r rx ry radius refx refy repeatcount repeatdur restart result rotate scale seed shape-rendering specularconstant specularexponent spreadmethod stddeviation stitchtiles stop-color stop-opacity stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke stroke-width style surfacescale tabindex targetx targety transform text-anchor text-decoration text-rendering textlength type u1 u2 unicode values viewbox visibility version vert-adv-y vert-origin-x vert-origin-y width word-spacing wrap writing-mode xchannelselector ychannelselector x x1 x2 xmlns y y1 y2 z zoomandpan".split(" ")),t.mathMl=e("accent accentunder align bevelled close columnsalign columnlines columnspan denomalign depth dir display displaystyle fence frame height href id largeop length linethickness lspace lquote mathbackground mathcolor mathsize mathvariant maxsize minsize movablelimits notation numalign open rowalign rowlines rowspacing rowspan rspace rquote scriptlevel scriptminsize scriptsizemultiplier selection separator separators stretchy subscriptshift supscriptshift symmetric voffset width xmlns".split(" ")),t.xml=e(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"])},function(e,t){t.__esModule=!0,t.addToSet=function(e,t){a&&a(e,null);for(var n=t.length;n--;){var i=t[n];if("string"==typeof i){var r=i.toLowerCase();r!==i&&(Object.isFrozen(t)||(t[n]=r),i=r)}e[i]=!0}return e},t.clone=function(e){var t,n={};for(t in e)r(i,e,[t])&&(n[t]=e[t]);return n};var i=(e=Object).hasOwnProperty,a=e.setPrototypeOf,r=(n!==typeof Reflect&&Reflect).apply;r||(r=function(e,t,n){return e.apply(t,n)})},function(e,t){t.__esModule=!0,e=Object.seal||function(e){return e},t.MUSTACHE_EXPR=e(/\{\{[\s\S]*|[\s\S]*\}\}/gm),t.ERB_EXPR=e(/<%[\s\S]*|[\s\S]*%>/gm),t.DATA_ATTR=e(/^data-[\-\w.\u00B7-\uFFFF]/),t.ARIA_ATTR=e(/^aria-[\-\w]+$/),t.IS_ALLOWED_URI=e(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),t.IS_SCRIPT_OR_DATA=e(/^(?:\w+script|data):/i),t.ATTR_WHITESPACE=e(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g)},function(e,t,s){t.__esModule=!0;var o=s(6),l=s(60),c=s(10),u=s(8),d=null;e=function(e){if("tagove-are-you-there"===e.data){var t=e.origin||e.originalEvent.origin;"tagove-are-you-there"==e.data&&e.source!==window&&e.source.postMessage("yes-buddy-tagove-here",t)}"yes-buddy-tagove-here"==e.data&&e.source!==window&&i==typeof d&&d(!1)},window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e);try{c.default.logEvent("widget","widget-load",null,Date.now()-window.performance.timing.domLoading)}catch(e){}var f=c.default.trackTimeEvent("widget","widget-run");t.default={_initlist:[],app:null,cbs:[],export:function(e,t){var s="frontend"==t&&n!=typeof window.acquire_iso?window.acquire_iso:null,h={s:new Date,account:null,settings:{}},p=null,g=[];!function(e){if(window.tagoveSilentTest||window.acquire_bare_backend)return e(!0);try{if(top===self)return e(!0);if(top!==self&&n!==typeof window.top.acquireIO)return e(!1)}catch(e){console.log(e)}null!==d&&i!==typeof d?e(d):(d=function(t){e(t),d=t},window.parent.postMessage("tagove-are-you-there","*"),setTimeout(function(){i==typeof d&&d(!0)},3e3))}(function(d){var m=function(l){if(d)if(a==typeof l){var m=l.userDetails;delete l.userDetails,h=(0,u.extendObject)({},h,l),n!==typeof m&&(h.userDetails=(0,u.extendObject)(!0,{},h.userDetails||{},m)),null===p&&h.account&&("backend"!=t||"backend"==t&&h.auth)?(m=function(){p=function(){var n=null;if("frontend"==t?n=h.settings&&h.settings.settings&&h.settings.settings.frontend_whitelist_domains?h.settings.settings.frontend_whitelist_domains:null:"backend"==t&&(n=h.settings&&h.settings.settings&&h.settings.settings.backend_whitelist_domains?h.settings.settings.backend_whitelist_domains:null),null!=n){var i=!1;n=(n=o.default.host+",app.acquire.io,"+(null!=n?","+n:"")).split(",");for(var a=(n=r.m(n)).next();!a.done;a=n.next())if(window.location.host===a.value){i=!0;break}if(!i)throw Error("widget loading not enabled for this page")}return window.acq_rav&&(window.acq_rav.setUser({account:h.account,email:h.auth&&h.auth.email?h.auth.email:""}),window.acq_rav.setExtraContext({tracker:c.default.log_events_logs})),p=new e(h,h.auth&&h.auth.email?h.auth.email:null,h.auth&&h.auth.key?h.auth.key:null,h.auth&&h.auth.token?h.auth.token:null),s||(window.acquireIO=p,window.tagoveApp=p),s&&(window.acquireIOFront=p),f(),p}(),g.length&&p&&p.if("ready",function(){for(var e=r.m(g),t=e.next();!t.done;t=e.next())(t=t.value)(p);g=[]},!0)},h&&h.settings&&h.settings.settings&&h.settings.settings.widget_theme&&"frontend"==t&&"self-developed"==h.settings.settings.widget_theme?setTimeout(m,2e3):m()):p&&p.configure(h)}else i==typeof l&&(p?p.if("ready",function(){l(p)},!0):g.push(l))};if(s){if(n!=typeof window.acquire_iso_config&&window.acquire_iso_config)for(var v in window.acquire_iso_config)s[v]=window.acquire_iso_config[v];n!=typeof window.acquire_iso_user&&window.acquire_iso_user&&(s.userDetails=window.acquire_iso_user),m(s),window.acquireFront=window.acquireFront||[];var y=r.m(window.acquireFront);for(v=y.next();!v.done;v=y.next())m(v.value);window.acquireFront.push=m}else{for(window.tagove=window.tagove||[],window.acquire=(window.acquire||[]).concat(window.tagove),"frontend"==t&&n!=typeof window.acquire_iso_config&&window.acquire_iso_config&&window.acquire.unshift(window.acquire_iso_config),"frontend"==t&&n!=typeof window.acquire_iso_user&&window.acquire_iso_user&&window.acquire.unshift({userDetails:window.acquire_iso_user}),v=(y=r.m(window.acquire)).next();!v.done;v=y.next())m(v.value);window.tagove.push=window.tagove.unshift=m,window.acquire.push=window.tagove.unshift=m}m=new l.default,window.parserResult=m.getResult(),window.tagove&&(window.tagove.browser=window.parserResult),window.acquire&&(window.acquire.browser=window.parserResult)})}}},function(e,a,s){a.__esModule=!0;var o=s(2),l=s(4),c=s(54);s(23),s(10);var u=s(9),d=s(12);e=function(e,t){var i=c.default.call(this,t)||this;return i.type="visitor",i.vlist=e,i.disabled=u.default.createComputedFromObject(i.data,"disabled",!1,!0,400,!0),i.vid=u.default.createComputedFromObject(i.data,"id","N/A",!0,400,!0),i.ref=u.default.createComputedFromObject(i.data,"ref",null,!0,400,!0),i.agents=u.default.createComputedFromObject(i.data,"agents",null,!0,400,!0),i.chats=u.default.createComputedFromObject(i.data,"chats",[],!0,400,!0),i.tags=u.default.createComputedFromObject(i.data,"tags",null,!0,400,!0),i.clearbit_info=u.default.createComputedFromObject(i.data,"clearbit_info",null,!0,400,!0),i.visits=u.default.createComputedFromObject(i.data,"visits",null,!0,400,!0),i.details=u.default.createComputedFromObject(i.data,"details",null,!0,400,!0),i.location=u.default.createComputedFromObject(i.data,"location",null,!0,400,!0),i.ua=u.default.createComputedFromObject(i.data,"ua",null,!0,400,!0),i.expand_sessions=o.default.observable(!1),i.expand_visits=o.default.observable(0),i.placeholder_bg=l.default.randDarkColor(),i.currentPage=o.default.computed(u.default.trackComputedCalls("currentPage",i.vid,function(){var e=i.visits(),t=e?Object.keys(e).reverse():[];return[t.length,e?e[t[0]]:0]}),i,{deferEvaluation:!0,pure:!0}),i.invitation=o.default.computed(u.default.trackComputedCalls("invitation",i.vid,function(){if(i.vid(),!i.app.invitations())return null;for(var e=0;e<i.app.invitations().length;e++){var t=i.app.invitations()[e].data();if(t.id&&i.vid()&&t.chat.session_id==i.vid())return i.app.invitations()[e]}}),i,{deferEvaluation:!0,pure:!0}),i.anychat=o.default.computed(u.default.trackComputedCalls("anychat",i.vid,function(){var e;return i.vid()&&i.app.chatManager&&i.app.chatManager.peek()&&(e=i.app.chatManager.peek().findChatByVisitor(i.vid()))&&"closed"!=e.data().status?e:null}),i,{deferEvaluation:!0,pure:!0}),i.show_agents=o.default.computed(u.default.trackComputedCalls("show_agents",i.vid,function(){return i.anychat&&i.anychat()||i.chats&&i.chats()&&0<i.chats().length&&i.chats()[0]&&i.chats()[0].users&&1<Object.keys(i.chats()[0].users).length&&"active"==i.chats()[0].status?i.agents():[]}),i,{deferEvaluation:!0,pure:!0}),i.chat_in_queue=o.default.computed(u.default.trackComputedCalls("chat_in_queue",i.vid,function(){return!("c8af0"!=i.app.accountId&&"dda12"!=i.app.accountId&&"e9d17"!=i.app.accountId||!i.app.account_stats()||n==typeof i.app.account_stats().visitors_in_queue[i.data().id])&&i.app.account_stats().visitors_in_queue[i.data().id]}),i,{deferEvaluation:!0,pure:!0}),i.view_chat_for_bot=o.default.computed(function(){var e=!0;if(i.chats()&&0<i.chats().length&&i.chats()[0]&&i.chats()[0].users&&1<Object.keys(i.chats()[0].users).length&&"active"==i.chats()[0].status)for(var t=r.m(Object.keys(i.chats()[0].users)),n=t.next();!n.done;n=t.next())if(n=n.value,"agent"===i.chats()[0].users[n].type)for(var a=r.m(i.app.agents()),s=a.next();!s.done;s=a.next())(s=s.value).id===n&&"bot"!=s.data().type&&(e=!1);return e}),i.is_verified=o.default.computed(function(){return!(i.anychat&&i.anychat()||(!i.anychat||!i.anychat())&&i.invitation())&&i.data()&&!0===i.data().verified}),i.online_since_time=o.default.computed(u.default.trackComputedCalls("online_since_time",i.vid,function(){return i.data.peek()&&i.data.peek().online_since?l.default.getCurrentTime()/1e3-l.default.getTimeFromDate(i.data.peek().online_since,!1).getTime()/1e3:null}),i,{pure:!0,deferEvaluation:!0}),i.time_shifter=u.default.getTimeSifter(20),i.online_since_text=o.default.computed(u.default.trackComputedCalls("online_since_text",i.vid,l.default.getTimeLeftSinceCompute(function(){return i.online_since_time()+i.time_shifter()},"")),i,{pure:!0,deferEvaluation:!0}),i.category=o.default.computed(u.default.trackComputedCalls("category",i.vid,function(){return i.data.peek()&&i.data.peek().virtual?null:i.anychat()&&"pending"!=i.anychat().status?"active":i.anychat()&&"pending"==i.anychat().status||i.invitation()&&("pending"==i.invitation().data().chat.status||"pending"==i.invitation().status)?"pending":"normal"}),i,{deferEvaluation:!0,pure:!0}),i.displayName=o.default.computed(u.default.trackComputedCalls("displayName",i.vid,function(){return i.details()?"f5539"==i.app.accountId&&""!=i.details().phone?i.details().phone:i.details().name?i.details().name:"No Name":i.vid()}),i,{deferEvaluation:!0,pure:!0}),i.isFollower=o.default.computed(u.default.trackComputedCalls("isFollower",i.vid,function(){var e=n!==typeof i.app.myself()?i.app.myself().type+"-"+i.app.myself().id:null;return!!(e&&i.data().followers&&0<=i.data().followers.indexOf(e))}),i,{deferEvaluation:!0,pure:!0}),i.displayIp=o.default.computed(u.default.trackComputedCalls("displayIp",i.vid,function(){if(i.data()&&i.data().ip){var e=i.data().ip;if(n===typeof i.app.settings().show_visitor_ip_mask||"1"!=i.app.settings().show_visitor_ip_mask)return e;if((e=e.split("."))&&n!==typeof e[3])return"***.***.***."+e[3]}return""}),i,{deferEvaluation:!0,pure:!0}),i.visitGroupList=o.default.computed(u.default.trackComputedCalls("visitGroupList",i.vid,function(){var e={},t=i.data().visits;if(t)for(var a in t){var r=i.app.settings().timezone_offset_decimal?i.app.settings().timezone_offset_decimal:"+0",s=i.app.convertTimezones(new Date(t[a].date_created),r);r=s.toDateString()+" "+s.toTimeString().split(" ")[0],e[s=s.toDateString()]=e[s]||{},n===typeof e[s][t[a].url]&&(e[s][t[a].url]={title:t[a].title},e[s][t[a].url].times=[]),e[s][t[a].url].times.push(r)}return e}),i,{deferEvaluation:!0,pure:!0}),i.disabled.subscribe(function(){i.app&&i.app.account()&&"45549"==i.app.account().uid&&1==i.disabled()&&i.anychat()&&i.anychat().cobrowse()&&i.ua()&&i.ua().os&&"ios"==(i.ua().os.name||"").toLowerCase()&&i.anychat().cobrowse().stop()}),i.details.subscribe(function(){"frontend"==i.app.type&&i.app.updateVisitorDetail(i.details(),i.data().id)}),i},r.i(e,c.default),e.getClassName=function(){return"visitor"},e[t].getFullName=function(){return this.data().details.name&&""!=this.data().details.name?this.data().details.name:"No Name"},e[t].getImagePlaceHolder=function(){var e=(this.data().details.name||"").charAt(0);return""===e?'<img class="" src="../assets/defaults/visitor_photo.svg">':e},e[t].startCobrowse=function(){var e=this;this.app.socket.emit("start_cobrowse_by_code","ACQC-"+this.id,function(t){t||d.default.alert(e.app.getTransMsg("Invalid visitor"),e.app.getTransMsg("Cobrowse can not be started, invalid visitor."))})},e[t].remarksNl2Br=function(e,t){return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(t||n===typeof t?"<br />":"<br>")+"$2")},e[t].openVirtualChat=function(){"agent"!=this.app.myself().type||"Administrator"!=this.app.me().data().role&&"Supervisor"!=this.app.me().data().role||this.openChat(!1,!0)},e[t].openChat=function(e,t){var i=this;if(e=void 0!==e&&e,t=void 0!==t&&t,this.anychat&&this.anychat())this.app.chatManager().open(this.anychat());else if(this.invitation&&this.invitation())this.invitation().accept();else if(this.data&&this.data()){var a=function(){"backend"==i.app.type&&1==i.app.account().plan_id&&1<=i.app.chatManager().open_chats().length?d.default.alert(i.app.getTransMsg("Chat Limit Reached"),i.app.getTransMsg("Your plan do not support more than one chat at a time, Please Upgrade the plan.")):i.app.socket.emit("chat_start",["visitor-"+i.data().id],e?"cobrowse":"text",{},null,e,t,function(e){if(e&&!0!==e)return d.default.alert(i.app.getTransMsg("Error"),e)})};!t&&this.data()&&this.data().chats&&0<this.data().chats.length&&this.data().chats[0].users&&n!==typeof this.data().chats[0].users&&1<Object.keys(this.data().chats[0].users).length&&"active"==this.data().chats[0].status?this.app.account()&&"788fc"==this.app.account().uid||d.default.confirm(this.app.getTransMsg("Chat already picked"),this.app.getTransMsg("This chat is already being handled by other agent. \n\nAre you sure to join it?"),a):a()}},e[t].showQuickPopup=function(e,t){var n=this;if(this.vlist&&i===typeof t.target.parentNode.getClientRects){var a=t.target.parentNode.getClientRects()[0];if(t=112<window.innerHeight-(a.top+112),document.querySelector(".aqr-popups")){var r=(document.querySelector("header")||document.createElement("div")).clientHeight,s=(document.querySelector(".col.nav")||document.createElement("div")).clientWidth;if(t){var o=a.top+a.height+window.scrollY-r+"px";this.vlist.quickVisitor({pos:"bottom",top:o,left:a.left-s+"px",data:e}),setTimeout(function(){var t=document.querySelector(".aqr-popups").clientHeight;a.top<t||(o=a.top-(t-window.scrollY+r)+"px",n.vlist&&n.vlist.quickVisitor({pos:"top",top:o,left:a.left-s+"px",data:e}))},1)}else o=a.top-(105-window.scrollY)+"px",this.vlist.quickVisitor({pos:"top",top:o,left:a.left+"px",data:e}),setTimeout(function(){var t=document.querySelector(".aqr-popups").clientHeight;o=a.top-(t-window.scrollY+r)+"px",n.vlist&&(n.vlist.quickVisitor({pos:"top",top:o,left:a.left-s+"px",data:e}),a.top<t&&(o=a.top+a.height+window.scrollY-r+"px",n.vlist&&n.vlist.quickVisitor({pos:"bottom",top:o,left:a.left-s+"px",data:e})))},1)}}},e[t].hideQuickPopup=function(e,t){this.vlist&&this.vlist.quickVisitor({})},e[t].shorten=function(e,t){return n==typeof e?"":(-1<(e=e.split("?"))[0].indexOf("://")&&(e[0]=e[0].split("/"),e[0].shift(),e[0].shift(),e[0].shift(),e[0]="/"+e[0].join("/")),e[0])},e[t].pageVisitCount=function(){return this.data()&&this.data().visits?Object.keys(this.data().visits).length:0},e[t].onDispose=function(){c.default[t].onDispose.call(this)},a.default=e},function(e,i,s){i.__esModule=!0;var o=s(78),l=s(2),c=s(9),u=s(4),d=s(98),f=s(11),h=0<=window.location.href.indexOf("agent_logs");(e=function(e,t){var i=this;t=void 0===t?null:t,f.default.create(this),this.connection_status=l.default.observable(null),e.session.on("status",this.connection_status,this),this.app=e,this.agents=this.app.agents,this.chat=t,this.chats=l.default.observableArray([]),this.last_chat_type=l.default.observable(null),this.threads=l.default.observableArray([]),this.connect_resume=!1,this.status=l.default.observable("list"),this.active_thread=l.default.observable(null),this.loadingThreads=l.default.observable(!1),this.visitor_name=l.default.observable(),this.visitor_email=l.default.observable(),this.visitor_phone=l.default.observable(),this.visitor_details_saved=l.default.observable(!1),this.thread_list_loaded=l.default.observable(!1),this.thread_loading_retry=0,this.collect_visitor_data=l.default.observable(!1),this._offline_form_edits=l.default.observableArray([]),this._online_form_edits=l.default.observableArray([]),this._online_after_chat_form_edits=l.default.observableArray([]),this.form_data_error=l.default.observableArray([]),this.invite_messages=l.default.observableArray([]),this.active_sheet=l.default.observable(null),this.sheet_close_reset_status=l.default.observable(!1),this.active_sheet.subscribe(function(e){e&&"chat_form"==i.app.status()&&(i.sheet_close_reset_status("chat_form"),h&&console.error("t 54"),i.app.status("thread_chat"))}),"frontend"==this.app.type&&(this.offline_form_edits=l.default.computed(function(){return i._offline_form_edits()}),this.online_form_edits=l.default.computed(function(){return i._online_form_edits()}),this.online_after_chat_form_edits=l.default.computed(function(){return i._online_after_chat_form_edits()}),this.active_chats=l.default.computed(function(){for(var e=[],t=r.m(i.chats()),n=t.next();!n.done;n=t.next())(n=n.value)&&n.data&&n.data()&&"active"==n.data().status&&e.push(n);return e}),this.forceSingleView=l.default.computed(function(){return 1==i.threads().length&&-2==i.threads()[0].data().thread_id||"1"==i.app.settings().force_single_thread})),this.unseenMessages=l.default.computed(function(){for(var e=0,t=r.m(i.threads()),n=t.next();!n.done;n=t.next())void 0!==(n=n.value).unseenMessages()&&(e+=n.unseenMessages());return e}),this.status.subscribe(function(e){"frontend"==i.app.type&&("list"==i.status()&&i.app.googleAnalyticscheck("back_to_list","click","Back to chat thread"),"view"==i.status()&&i.active_thread()&&(-2==i.active_thread().data().thread_id?i.app.googleAnalyticscheck("click_start_new_chat","click","Click to start new chat"):i.app.googleAnalyticscheck("open_chat","click","Click to Chat list"))),"frontend"!=i.app.type||"09a05"!=i.app.account().uid&&"62019"!=i.app.account().uid||"max"!=i.app.ui.status()||("list"==i.status()&&i.app.trackSamsungEvents("button","floating chat:go back"),"new"==i.status()&&i.app.trackSamsungEvents("button","floating chat:new conversation")),""==i.status()&&i.status("list"),"frontend"===i.app.type&&"thread_chat"===i.app.status()&&"list"===i.status()&&"max"===i.app.ui.status()&&i.app.visitors().length&&((e=i.findThreadByPK(-2))&&e.chat&&null==e.chat()&&1<i.threads().length&&(e=n!=typeof i.app.visitors()[0]?i.app.visitors()[0].data().temp_invite_msgs:[],"1"==i.app.settings().force_single_thread&&i.findThreadByPK(-1)&&i.removeThreadByPK(-2),(e&&u.default.safeType(e,"Array")&&0==e.length||u.default.safeType(e,"Undefined"))&&i.removeThreadByPK(-2)),i.app.tracker.setActiveThread(-2,i.app.userArea)),"frontend"===i.app.type&&"new"==i.status()&&"thread_chat"===i.app.status()&&i.app.validateForm(),"frontend"===i.app.type&&i.updateWidgetState(i.app.ui.status(),i.app.status())}),this.newthreadui=l.default.computed(function(){var e=0==i.threads().length&&"new"==i.app.settings().widget_theme||"new"===i.status();return e&&i.app.myself&&!u.default.safeType(i.app.myself(),"Undefined")&&i.thread_list_loaded()&&i.status("new"),e}),this.thread_list_loaded.subscribe(function(){i.newthreadui()&&i.thread_list_loaded()&&"new"==i.app.settings().widget_theme&&i.status("new")}),this.app.session.on("connect",function(e,t){if(!t||!i.connect_resume){i.connect_resume=!0;var n=function(e,t){(e=i.processThread(e,t))&&"boolean"!=typeof e&&("frontend"===i.type&&i.ui.status("max"),e.view()),i.threadArrange()};e.on("create_thread",n);var a=function(e,t){i.processThread(e,t),i.threadArrange()};e.on("update_thread",a),i.on("dispose",function(){e.off("create_thread",n),e.off("update_thread",a)})}},this),this.activeRoomInRTC=l.default.computed(function(){for(var e=r.m(i.chats()),t=e.next();!t.done;t=e.next())if((t=t.value)&&t.rtcroom&&t.rtcroom()&&t.rtcroom().myself&&t.rtcroom().myself()&&(t.rtcroom().myself().sholudWePickCall()||"standby"!=t.rtcroom().myself().status()))return t;for(t=(e=r.m(i.chats())).next();!t.done;t=e.next())if((t=t.value)&&t.rtcroom&&t.rtcroom()&&t.rtcroom().myself&&t.rtcroom().myself())return t;return null}),this.activeRoomInCobrowse=l.default.computed(function(){for(var e=r.m(i.chats()),t=e.next();!t.done;t=e.next())if((t=t.value)&&t.cobrowse&&t.cobrowse()&&t.cobrowse().myself&&t.cobrowse().myself())return t.cobrowse();return null}),this.silent_load=!1})[t].findThreadByPK=function(e,t){t=void 0===t?null:t;for(var n=null,i=r.m(this.threads()),a=i.next();!a.done;a=i.next())(a=a.value).data()&&a.data().thread_id==e&&(t&&a.data().visitor_id==t||null==t)&&(n=a);return n},e[t].findChatByThread=function(e,t){for(var n=null,i=r.m(this.chats()),a=i.next();!a.done;a=i.next())(a=a.value).data()&&a.data().thread_id==e&&(t&&a.data().session_id==t||null==t)&&(n=a);return n},e[t].findThreadsByVisitor=function(e,t){t=void 0===t?null:t;for(var n=null,i=r.m(this.chats()),a=i.next();!a.done;a=i.next())(a=a.value).data()&&a.data().session_id==e&&(t&&a.data().thread_id==t||null==t)&&(n=a);return n},e[t].findChatByPK=function(e){for(var t=null,n=r.m(this.chats()),i=n.next();!i.done;i=n.next())(i=i.value).data()&&i.data().id==e&&(t=i);return t},e[t].removeThreadByPK=function(e){for(var t=0;t<this.threads().length;t++){var n=this.threads()[t];n.data()&&n.data().thread_id==e&&(this.threads[t]&&this.threads[t].trigger("dispose"),this.threads.splice(t,1))}},e[t].removeThreadChat=function(e,t){for(var n=0;n<this.chats().length;n++){var i=this.chats()[n];i.data()&&i.data().thread_id==e&&i.data().session_id==t&&this.chats.splice(n,1)}},e[t].updateWidgetState=function(e,t){var n=this;this.app.session.if("start",function(){n.app.socket&&n.app.socket.emit("widget_state","max"===e,t+("thread_chat"===t?"."+n.status()+("view"===n.status()?"."+n.active_thread().data().thread_id:""):""))})},e[t].processThread=function(e,t){return null!==(e=this.findThreadByPK(e))?(t.flag_page_increment&&(e.messagePage(e.messagePage()+1),delete t.flag_page_increment),e.data(Object.assign({},e.data(),t))):e=new d.default(this.app,this,t),-1===this.threads().indexOf(e)&&this.threads.push(e),e},e[t].loadVisitorThreads=function(e,t,n,i){var a=this;if(e=void 0===e?null:e,t=void 0===t?null:t,n=void 0===n?null:n,i=void 0===i?null:i,this.app){for(var s=!0,o=r.m(this.threads()),l=o.next();!l.done;l=o.next())if(parseInt(l.value.data().thread_id)===parseInt(n)){s=!1;break}this.silent_load||this.loadingThreads(!0);var c=setTimeout(function(){a.app&&(a.silent_load||a.loadingThreads&&a.loadingThreads(!1))},3e3);this.on("dispose",function(){c&&clearTimeout(c)}),this.app.socket&&this.app.socket.emit("visitor_threads",e,t,function(e,t){if(a.app)if(a.silent_load||a.loadingThreads(!1),a.silent_load=!1,e)console.error(e);else{if("frontend"===a.app.type&&a.app.visitors().length&&(e=a.app.visitors()[0].data().temp_invite_msgs)&&u.default.safeType(e,"Array")&&0<e.length&&(e=!1,"1"==a.app.settings().force_single_thread&&(a.findThreadByPK(-1)||0<t.length)&&(e=!0),e||a.addTempThreadMsgs()),t&&0<t.length){for(e=(t=r.m(t)).next();!e.done;e=t.next())if(e=e.value){var o=a.processThread(e.thread_id,e,s);parseInt(e.thread_id)===parseInt(n)&&(s=o)}a.threadArrange(),"1"==a.app.settings().force_single_thread&&"frontend"===a.app.type&&0<a.threads().length&&((t=a.findThreadByPK(-1))?"standard"!=a.app.ui.theme.name&&t.view():a.thread_list_loaded()&&"list"==a.status()&&"new"==a.app.settings().widget_theme&&a.status("new")),s&&"boolean"!=typeof s&&("frontend"===a.app.type?(t=!1,"noui"==a.app.status()?0<a.chats().length&&(h&&console.error("t 370"),a.app.status("thread_chat"),t=!0):t=!0,t&&(a.app.ui.status("max"),s.view())):s.view()),i&&i()}else a.thread_list_loaded()?2>a.thread_loading_retry&&setTimeout(function(){a.app&&(a.silent_load=!0,a.loadVisitorThreads(),a.thread_loading_retry++)},2e3):a.thread_list_loaded.subscribe(function(){0===a.threads().length&&a.thread_list_loaded()&&a.app.status&&"thread_chat"==a.app.status()&&"new"==a.app.settings().widget_theme&&a.status("new")});a.thread_list_loaded()||a.thread_list_loaded(!0)}else i&&i()})}else i&&i()},e[t].threadArrange=function(){for(var e=this.threads(),t=0;t<e.length;t++)for(var n=t+1;n<e.length;n++)if(e[t].data().timestamp<e[n].data().timestamp){var i=e[t];e[t]=e[n],e[n]=i}this.threads(e),this.threads.valueHasMutated()},e[t].addTempThreadMsgs=function(){if(this.app.myself()&&this.app.myself().id&&("1"!=this.app.settings().force_single_thread||!this.findThreadByPK(-1))){var e=this.findThreadByPK(-2);null==e&&(e={thread_id:-2,agent_imgs:[],agents:"",count_chat:0,date_updated:u.default.toMysqlTime(new Date),last_chat_id:0,last_chat_status:"",message:"",thread_status:"open",timestamp:(new Date).getTime(),visitor_id:this.app.myself().id},e=new d.default(this.app,this,e),-1===this.threads().indexOf(e)&&this.threads.push(e))}},e[t].initVirtualThread=function(){if(this.app.myself()&&this.app.myself().id){if("1"==this.app.settings().force_single_thread){var e=this.findThreadByPK(-1);e&&e.view()}null==(e=this.findThreadByPK(-2))&&(e={thread_id:-2,agent_imgs:[],agents:"",count_chat:0,date_updated:u.default.toMysqlTime(new Date),last_chat_id:0,last_chat_status:"",message:"",thread_status:"open",timestamp:(new Date).getTime(),visitor_id:this.app.myself().id},e=new d.default(this.app,this,e),-1===this.threads().indexOf(e)&&this.threads.push(e)),"frontend"!=this.app.type||"thread_chat"!==this.app.status()||"max"!==this.app.ui.status()&&!this.forceSingleView()||e.view()}},e[t].initiateVirtualChat=function(e,t,i,a){var r=this;e=void 0===e?"message":e,i=void 0===i?-1:i,a=void 0===a?[]:a,this.app.tgclose();var s=-1;-2==i?this.initVirtualThread():s=n!==typeof this.app.myself().o_chat&&n!==typeof this.app.myself().o_chat[i]&&this.app.myself().o_chat[i]?this.app.myself().o_chat[i]:-1;var l=new o.default(this.app,{id:s,type:"bot",thread_id:i,visitor_id:this.app.myself().id,session_id:this.app.myself().id,status:"active-offline-chat",params:{modules:{rtcroom:!1,cobrowse:!1}}});"frontend"===this.app.type&&"chat_form"==this.app.status()&&(h&&console.error("t 510"),this.app.status("thread_chat")),this.chats.push(l),setTimeout(function(){r.app&&r.app.ui.fullHeight(!0)},600),l.custome_chat_id=10,l.process_on_visitor_input="",setTimeout(function(){r.app&&"new"!=r.status()&&("string"==typeof t&&""!==t.trim()&&"^^"!=t.trim()?l.sendOfflineMessage(t,e,"visitor",a):"string"==typeof t&&"^^"===t.trim()&&l.sendOfflineMessage("",e,"visitor",a))},1e3)},e[t].usrDetailValidate=function(e,t){var i=this;e=void 0===e?"offline":e,t=void 0!==t&&t;var s=this.app.onlineFieldsVisibility(),o=this.status(),l=!1;"after_chat"==t&&(l=s=t=!0,o="new"),this.form_data_error([]);var c="new"==this.status()?this.app.init_name():(this.visitor_name()||"").trim(),u="new"==this.status()?this.app.init_email():(this.visitor_email()||"").trim(),d="new"==this.status()?this.app.init_phone():(this.visitor_phone()||"").trim(),f=["name","email","phone","message","department"],h=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,p=/^(\+?\d{1,3}[- ]?)?(\([0-9]{3}\)[ ]?|[0-9]{3}[- ]?)[0-9]{3}[- ]?[0-9]{1,4}([x]\d{1,10})?$/;if(null==this.active_thread()||!s||null!==this.active_thread()&&null!=this.active_thread().chat()&&this.active_thread().chat().afterchat_form_display()||"offline"==e)for(var g=(f=r.m(f)).next();!g.done;g=f.next())if(g=g.value,"on"==this.app.form_settings()[e+"_"+g]){var m=!1;if(!t&&"required"==this.app.form_settings()[e+"_"+g+"_req"]||t&&"after_chat"==this.app.form_settings()[e+"_"+g+"_req"]||"offline"==e&&t&&"required"==this.app.form_settings()[e+"_"+g+"_req"]){if("name"===g&&""==c.trim()&&(m=!0),"message"===g&&"offline"!=e&&""==this.app.init_message().trim()&&(m=!0),"department"===g&&0<this.app.onlineDepartments().length&&"offline"!=e){var v=this.app.init_department();(""==v.trim()||1>v)&&(m=!0)}"email"===g&&(!u||u&&""===u.trim())&&(m=!0),"phone"===g&&(!d||d&&""===d.trim())&&(m=!0)}"email"===g&&u&&""!==u.trim()&&(h.test(u)||(m=!0)),"phone"===g&&d&&""!==d.trim()&&(p.test(d)||(m=!0)),m&&this.form_data_error.push(g)}if("online"==e&&s&&this.app.onlineExtraFields()||"offline"==e&&this.app.offlineFieldsVisibility()&&this.app.offlineExtraFields())for(h=r.m("online"==e?this.app.onlineExtraFields():this.app.offlineExtraFields()),s=h.next();!s.done;s=h.next()){if(p=s.value,f=p.name,g=this.app.selectedFieldDetails()[f]?this.app.selectedFieldDetails()[f]:"",s=(p.value()||"").trim(),p.required&&(""==p.value||null==p.value)&&this.form_data_error.push(f),"checkbox-group"==p.type){for(m=[],s=(v=r.m(p.values)).next();!s.done;s=v.next())(s=s.value).selected&&m.push(s.value);s=m=m.join(",")}o&&f&&p.required&&""==s&&""==g&&(!l||l&&p.isSelected)&&this.form_data_error.push(f)}if(o={},0<this.form_data_error().length)return!1;if((s="online"==e?this.app.onlineExtraFields():this.app.offlineExtraFields())&&(l||"offline"==e))for(h=r.m(s),s=h.next();!s.done;s=h.next()){if(s=s.value,p=s.name,f=(s.value()||"").trim(),"checkbox-group"==s.type){for(f=[],s=(g=r.m(s.values)).next();!s.done;s=g.next())(s=s.value).selected&&f.push(s.value);f=f.join(",")}(l||"offline"==e)&&(o[p]=f)}s={},c&&(s.name=c),u&&(s.email=u),d&&(s.phone=d),(l||o&&"offline"==e)&&(s.fields=o),this.app.setUserDetails(s),setTimeout(function(){i.app&&(i.visitor_details_saved(!0),i._offline_form_edits([]),"offline"==e&&"frontend"==i.app.type&&"25fa1"==i.app.account().uid&&n!=typeof i.app.settings().offline_chat_mail_transcript_visibility&&"on"==i.app.settings().offline_chat_mail_transcript_visibility&&i.app.socket.emit("send_offline_chat_script"),"offline"!==e&&"frontend"==i.app.type&&"25fa1"==i.app.account().uid&&t&&!i.active_thread().chat().ask_to_visitor_popup()&&i.app.socket.emit("send_missed_chat_script"),i.active_thread&&i.active_thread()&&i.active_thread().chat&&i.active_thread().chat()&&setTimeout(function(){i.app&&(i.active_thread().chat().ask_to_visitor_popup(!1),"active-offline-chat"!==i.active_thread().chat().data().status&&i.active_thread().chat().broadcast("response_ask_to_visitor",!0))},100))},500),t&&this.active_thread()&&this.active_thread().chat()&&!this.active_thread().chat().ask_to_visitor_popup()&&(l=this.app.getTransMsg(this.app.default_text.chat_wait_notified_title),this.active_thread().chat().addVirtualMessage("message",l,this.active_thread().isTplReply()),this.active_thread().chat().afterchat_form_display(!1)),l=[],this.active_thread&&this.active_thread()&&this.active_thread().chat&&this.active_thread().chat()&&!this.active_thread().isTplReply()&&this.active_thread().chat()&&this.active_thread().chat().data().users&&a==typeof this.active_thread().chat().data().users&&(l=Object.values(this.active_thread().chat().data().users).map(function(e){return 0>e.id_real})),(this.active_thread&&this.active_thread()&&this.active_thread().chat&&this.active_thread().chat()&&!this.active_thread().isTplReply()&&this.active_thread().chat()&&"active-offline-chat"==this.active_thread().chat().data().status||-1!=l.indexOf(!0))&&(this.active_thread().chat().addVirtualMessage("message",this.app.getTransMsg(this.app.default_text.offline_thankyou),this.active_thread().isTplReply()),this.active_thread().isTplReply(!0)),"new"==this.status()&&(""===this.app.init_message()&&"ba80f"!=acquireIO.accountId?this.initVirtualThread():(c&&this.visitor_name(c),u&&this.visitor_email(u),d&&this.visitor_phone(d),this.status("list"),this.app.startChat(!1,"ba80f"==acquireIO.accountId?this.app.forcechattype():"text",-2)))},e[t].newThread=function(){this.status("new"),this.app.trigger("new-thread-clicked")},e[t].openThread=function(e,t){if(t.target&&t.target.classList&&t.target.classList.contains("video-control"))return!1;if("standard"==this.app.settings().widget_theme){var n=["app_block_canvas","acquire-widget-board-social_button","acquire-widget-board-button"];e:{for(t=t.target;t;){if(t&&t.classList)for(var i=r.m(n),a=i.next();!a.done;a=i.next())if(t.classList.contains(a.value)){n=t;break e}t=t.parentNode}n=t}if(n)return}return e&&(!u.default.safeType(e.thread_id,"Undefined")&&e.thread_id?(e=this.findThreadByPK(e.thread_id))&&(h&&console.error("t 804"),this.app.status("thread_chat"),e.view()):this.app.acceptInvitation("text")),!0},e[t].formTyped=function(e,t){return this.form_data_error([]),t&&13==t.keyCode&&"view"==this.status()&&this.usrDetailValidate("offline"),!0},e[t].onDestroy=function(){for(var e in this)"agents"!=e&&c.default.disposeKoItem(this[e]),this[e]=void 0},e[t].onDispose=function(){for(var e in this.threads())this.threads()[e].trigger("dispose")},i.default=e},function(e,n,i){n.__esModule=!0;var a=i(11),s=i(2),o=i(12),l=i(4),c=function(e,t){var n=this;this.manager=e,this.data=s.default.observable(t),this.answerTextValue=s.default.observable(null),this.answerValue=s.default.observableArray([]),this.answerError=s.default.observable(null),this.answerTextValue.subscribe(function(){null!==n.answerTextValue()&&n.answerError(null)}),this.answerValue.subscribe(function(){0<n.answerValue().length&&n.answerError(null)})};c[t].dispose=function(){this.answerTextValue(null),this.answerValue([]),this.answerError(null)},(e=function(e,t){var n=this;a.default.create(this),this.app=e,this.thread=t,this.submited=s.default.observable(!1),this.feedback_rating=s.default.observable(null),this.feedback_msg=s.default.observable(null),this.department=s.default.observable(null),this.rate_5stars=["Very Unsatisfied","Unsatisfied","Neutral","Satisfied","Very Satisfied"],this.rate_5stars_only=s.default.observableArray(["TERRIBLE","BAD","FAIR","LIKE IT","LOVE IT"]),this.feedback_answer_list=s.default.observable(),this.feedback_questions=[],this.chat_account_id=this.totalQuestions=null,this.has_requested=!1,this.feedback_questions11=s.default.computed(function(){if(n.app.settings().feedback_questions&&n.app.settings().feedback_questions.length){var e=[];if(n.department()){var t=n.department();if(1<t.length)for(var i=null,a=(t=r.m(t)).next();!a.done;a=t.next()){var s=a.value,o=r.m(n.app.settings().feedback_questions);for(a=o.next();!a.done;a=o.next())(a=a.value).department&&-1!=a.department.indexOf(s)&&(a=new c(n,a),null==i&&(i=s),i==s&&e.push(a));if(null!=i)break}else for(i=t,t instanceof Array&&(i=t[0]),t=r.m(n.app.settings().feedback_questions),a=t.next();!a.done;a=t.next())(a=a.value).department&&-1!=a.department.indexOf(i)&&(a=new c(n,a),e.push(a))}if(0==e.length)for(i=r.m(n.app.settings().feedback_questions),a=i.next();!a.done;a=i.next())(t=a.value).department&&0==t.department.length&&(t=new c(n,t),e.push(t));return n.totalQuestions=e.length,n.feedback_questions=e,n.chat_account_id=n.app.account().id,e}return[]}),this.feedback_rating.subscribe(function(){n.thread.scrollToBtm()}),this.submitFeedback=function(){for(var e={},t=!1,i=r.m(n.feedback_questions),a=i.next();!a.done;a=i.next())if((a=a.value).answerError(null),"multiple_checkbox"===a.data().type||"multiple_radio"===a.data().type){var s="multiple_radio"===a.data().type?a.answerValue():a.answerValue().join(",");e[a.data().id]=s,0===s.length&&!l.default.safeType(a.data().is_required,"Undefined")&&parseInt(a.data().is_required||"0")&&(a.answerError("Please select at least one item."),t=!0)}else s=a.answerTextValue(),e[a.data().id]=null!=s?(""+(s||"")).trim():s,!l.default.safeType(a.data().is_required,"Undefined")&&parseInt(a.data().is_required||"0")&&(null==s||null!=s&&""===(""+(s||"")).trim())&&(a.answerError("Please input something."),t=!0);t||!n.chat_account_id||n.has_requested||(n.has_requested=!0,n.app.socket.emit("feedback_custom",n.thread.data().thread_id,n.thread.feedback_chat(),e,function(t,i){if(t)console.error(t);else{if(n.thread&&(n.thread.addThreadMessage(i,!1),n.thread.scrollToBtm()),n.feedback_rating(-1),n.app.trackEvent("feedback_submitted",!0),"frontend"==n.app.type&&("09a05"==n.app.account().uid||"62019"==n.app.account().uid))for(t=r.m(n.feedback_questions),i=t.next();!i.done;i=t.next())"rating"==(i=i.value).data().type&&"10"==i.data().value&&n.app.trackSamsungEvents("button","floating chat:product&promotions:survey:q1_"+e[i.data().id]+"_submit"),"rating"==i.data().type&&"5_star"==i.data().value&&n.app.trackSamsungEvents("button","floating chat:product&promotions:survey:q2_"+e[i.data().id]+"_submit");"frontend"==n.app.type&&setTimeout(function(){"1"!==n.app.settings().chat_session_mode&&1!==n.app.settings().chat_session_mode||n.app.clean(!1,!0)},1e3),setTimeout(function(){if(n.has_requested=!1,n.feedback_msg(null),l.default.safeType(n.feedback_questions,"Array")&&0<n.feedback_questions.length)for(var e=r.m(n.feedback_questions),t=e.next();!t.done;t=e.next())(t=t.value)instanceof c&&t.dispose()},2500)}}),o.default.close())}})[t].sendfeedback=function(){var e=this;if(this.feedback_rating()&&this.thread.feedback_chat()&&!this.has_requested){this.has_requested=!0;var t=parseInt(this.app.settings().chat_feedback_text)?this.feedback_msg():"";this.app.socket.emit("feedback",this.thread.data().thread_id,this.thread.feedback_chat(),[this.feedback_rating(),t],function(t,n){e.feedback_rating(-1),e.thread&&(e.app.cobrowseonly()||(e.thread.addThreadMessage(n,!1),e.thread.scrollToBtm()),e.app.googleAnalyticscheck("feedback_submitted","click","Feedback Submitted"),"frontend"==e.app.type&&setTimeout(function(){if("1"!==e.app.settings().chat_session_mode&&1!==e.app.settings().chat_session_mode||e.app.clean(!1,!0),"frontend"==e.app.type&&"1"==e.app.settings().hide_button&&"1"==e.app.settings().cobrowse_only&&("5d03c"==e.app.accountId||"2dad0"==e.app.accountId||"843e0"==e.app.accountId||"f82eb"==e.app.accountId||"98953"==e.app.accountId)){var t=e.app;t.cobrowseopened(!1),t.init_status("noui"),t.status("noui"),t.ui.status("min")}},1e3)),setTimeout(function(){e.feedback_msg(null),e.has_requested=!1},2500)}),o.default.close()}else o.default.alert(this.app.getTransMsg("Please select appropriate rating."))},n.default=e},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){t.__esModule=!0;var a=t.isLight=function(e){return e=n==typeof e.widget_dark_theme||"1"==e.widget_dark_theme,n==typeof window.acquire_widget_dark_theme||!0!==window.acquire_widget_dark_theme&&!1!==window.acquire_widget_dark_theme||(e=window.acquire_widget_dark_theme),!e},r=t.primaryColor=function(e){return e=e.primary_color,window.acquire_primary_color&&/^#[0-9A-F]{6}$/i.test(window.acquire_primary_color+"")&&(e=window.acquire_primary_color),null!=e&&""!=e||(e="#0265ff"),e},s=function(e,t,n,i){var s=r(i);return function(r){var o,l=a(i);for(o in r)"string"==typeof r[o]&&(r[o]=(r[o]+"").replace(/BASEURL/g,e),r[o]=(r[o]+"").replace(/ASSETURL/g,t),r[o]=(r[o]+"").replace(/PRIMARY_COLOR/g,s),l&&(r[o]=(r[o]+"").replace(/color:#FFFFFF/g,"color:#000"),r[o]=(r[o]+"").replace(/color:#ffffff/g,"color:#000"),r[o]=(r[o]+"").replace(/color:#FFF/g,"color:#000"),r[o]=(r[o]+"").replace(/color:#fff/g,"color:#000"),r[o]=(r[o]+"").replace(/color:rgba\(255,255,255/g,"color:rgba(0,0,0"),r[o]=(r[o]+"").replace(/background-color:#000/g,"background-color:#fff")));n(r)}};t.default={new:function(e,t,n,a,r){i.e(13).then(function(){var o=[i(425)];(function(i){i.baseURL=t,i.assetUrl=n,i.getTheme(a,r,s(t,n,e,r))}).apply(null,o)}).catch(i.oe)},standard:function(e,t,n,a,r){i.e(12).then(function(){var o=[i(426)];(function(i){i.baseURL=t,i.assetUrl=n,i.getTheme(a,r,s(t,n,e,r))}).apply(null,o)}).catch(i.oe)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,s,o){var l=o(6);o(79);var c=o(111);e=o(163);var u=o(2),d=o(382),f=o(89),h=o(311),p=o(164),g=o(4),m=o(5),v=o(10),y=o(78),b=o(12),_=o(9),w=o(165),x=o(8),k=0<=window.location.href.indexOf("agent_logs");s=function(e,t){t=void 0===t?null:t;var i=c.default.call(this,e,null,t||"frontend")||this;i.__last_agents=[],i.themes_list=h.default,i.connection_status=u.default.observable(null),i.session.on("status",i.connection_status),i.visitors=u.default.observableArray(),i.widget_state_unsave=["7084e"],i.custom_launcher_button=u.default.observable(null),i.getVisitor=function(e){for(var t in i.visitors())if(i.visitors()[t].data().id==e)return i.visitors()[t]},i.session.on("connect",function(e,t){t||(p.default.setStore(i,i.session,function(e,t,n){(e=new p.default(null,i)).data(t,!1),n(e),i.visitors.unshift(e)},function(e){i.visitors.remove(e)}),e.on("update_queue_threshold_exceeded",function(e){!i.hide_button_by_trigger&&(!e&&i.hide_button_by_queue_threshold||e&&i.threadManager()&&0==i.threadManager().chats().length)&&(i.hide_button_by_queue_threshold=e,i.custom_settings(Object.assign({},i.custom_settings(),{hide_button:!!e})))}),e.on("account-details-custom_button_img",function(e){e&&i.custom_launcher_button(e)}))}),i.chatform=u.default.observable(null),i.forcechattype=u.default.observable(null),i.force_thread_id=null,i.is_light_theme=u.default.observable(!1),i.init_name=u.default.observable(""),i.init_email=u.default.observable(""),i.init_phone=u.default.observable(""),i.init_phone_max=u.default.observable(50),i.init_phone_min=u.default.observable(10),i.init_department=u.default.observable(""),i.init_message=u.default.observable(""),i.is_init_invitaion=u.default.observable(!1),i.chat_start_wait=u.default.observable(!1),i.init_accept_tac=u.default.observable(!1),i.init_message_error=u.default.observable(!1),i.init_accept_tac_error=u.default.observable(!1),i.view_thread_on_ui_max=null,i.chat_form=u.default.observable(""),i.cobrowseonly=u.default.observable(!1),i.cobrowsecode=u.default.computed({read:function(){return i.myself()&&i.myself().cobrowse_code?i.myself().cobrowse_code:null}}),i.cobrowseonly.subscribe(function(e){e&&"noui"!==i.status()&&i.status("cobrowse_code"),i.p2p(function(){}),o.e(0).then(function(){var e=[o(90)];(function(e){e.default.hasRunningState(i,function(e){e&&i.if("ready",function(){},!0)})}).apply(null,e)}).catch(o.oe),o.e(1).then(function(){var e=[o(177)];(function(e){}).apply(null,e)}).catch(o.oe)}),i.is_cobrowse_active=u.default.computed(function(){return!!(i.cobrowseonly()&&i.threadManager()&&0<i.threadManager().chats().length&&i.threadManager().chats()[0].cobrowse&&i.threadManager().chats()[0].cobrowse()&&i.threadManager().chats()[0].cobrowse().sessions()&&i.threadManager().chats()[0].cobrowse().sessions().length)}),"b5662"!=i.account().uid&&"1556d"!=i.account().uid||i.init_phone_max(12),i.cobrowseopened=u.default.observable(!1);var s=i.cobrowseopened.subscribe,f=[],v=function(){if(i.cobrowsecode()&&""!=i.cobrowsecode()&&n!=typeof f.length){for(var e=r.m(f),t=e.next();!t.done;t=e.next())(t=t.value)[0].apply(t[2],[t[1]]);f={push:function(e){e[0].apply(e[2],[e[1]])}}}};if(i.cobrowseopened.subscribe=function(e,t){return s.apply(i.cobrowseopened,[function(n){!0===n&&i.if("ready",function(){},!0),f.push([e,n,t||this]),v()}])},i.cobrowsecode.subscribe(v),i.show_cobrowse_code=u.default.observable(!1),i.cobrowseopened_time=u.default.observable(""),i.threadManager=u.default.observable(new w.default(i)),i.if("please-thread_manager_ready",function(){i.trigger("thread_manager_ready")}),i.chat_invitaion_status=u.default.observable("hide"),u.default.computed(function(){if(i.threadManager()&&0<i.invitations().length&&("thread_chat"==i.status.peek()||"noui"==i.status())&&0==i.threadManager().chats().length&&!i.threadManager().sheet_close_reset_status()){var e=!1;if(i.invitations&&i.invitations()&&0<i.invitations().length)for(var t=r.m(i.invitations()),n=t.next();!n.done;n=t.next()){e=!!(n=n.value).first_message;var a=n.data.peek()&&n.data.peek().group_id?n.data.peek().group_id:null;a&&(-1===(""+a).indexOf("_bot")||-1<["25fa1","b4d02","68cfa"].indexOf(i.account().uid))&&i.clientStorage.get(i.tgCloseKey+"_"+a)&&i.invitations.remove(n)}0<i.invitations().length&&"noui"!=i.status()&&"min"===i.ui.status()&&(k&&console.error("206",i.status()),k&&console.log(" is_first_message ",e),e||(i.chat_invitaion_status("show"),i.status("chat_form")))}if(i.threadManager()&&0<i.threadManager().unseenMessages()&&("min"===i.ui.status()||"noui"==i.status())&&""!=(i.threadManager().threads()[0].data().message||"").trim()&&!g.default.safeType(i.threadManager().threads()[0].data().last_message_type,"Undefined")&&"message"==i.threadManager().threads()[0].data().last_message_type&&(0>i.instant_chat_msgs_closed.indexOf(0)&&(e={id:0,type:i.threadManager().threads()[0].data().last_message_type,message:i.threadManager().threads()[0].data().message,thread_id:i.threadManager().threads()[0].data().thread_id,user:{name:"Agent"}},i.instant_chat_msgs.push(e)),0<i.instant_chat_msgs().length&&!i.cobrowseonly()&&(i.chat_invitaion_status("show"),k&&console.error("223",i.status()),i.status("chat_form"))),i.threadManager()&&i.invitations()&&0<i.invitations().length){for(e=[],n=(t=r.m(i.invitations())).next();!n.done;n=t.next())-1<(""+((n=n.value).data.peek()&&n.data.peek().group_id?n.data.peek().group_id:null)).indexOf("_bot")&&e.push(n);for(n=(t=r.m(e.entries())).next();!n.done;n=t.next())a=r.m(n.value),n=a.next().value,a=a.next().value,n!==e.length-1&&i.invitations.remove(a)}}),i.init_status=u.default.observable("thread_chat"),i.status=u.default.observable("thread_chat"),i.rtc_popup_close=u.default.observable(!1),i.chat_form_status=u.default.observable("close"),i.invite_group_ids=u.default.observableArray([]),i.invite_group_rendered_ids=u.default.observableArray([]),i.call_upgrade_request_config=u.default.observable({}),i.dialog_phone_error=u.default.observable(!1),i.oneAgent=u.default.computed(function(){if(i.threadManager()&&i.threadManager().active_thread()&&i.threadManager().active_thread().chat()&&i.threadManager().active_thread().chat().users&&i.threadManager().active_thread().chat().users())for(var e=i.threadManager().active_thread().chat().users(),t=0;t<e.length;t++)if("agent"==e[t].type&&null!=e[t].data())return e[t];for(t=0;t<i.availableAgents().length;t++)if(null!=i.availableAgents()[t].data())return i.availableAgents()[t]}),i.listAgents=u.default.computed(function(){for(var e=[],t=1,n=[],a=r.m(i.onlineAgents()),s=a.next();!s.done;s=a.next())n.push(s.value.data().id);if(i.account().agents&&0<i.account().agents.length)for((a=i.account().agents).sort(function(e,t){return t.photo&&l.default.mediaDefaultVisitorPhoto!=t.photo?1:-1}),a.sort(function(e,t){return 0<=n.indexOf(t.id)?1:-1}),a=r.m(a),s=a.next();!s.done;s=a.next()){var o=s.value;if(6>=t){var c=""!==o.photo?o.photo:null;s=0<=n.indexOf(o.id),o={avatar:null!==c?i.getPhotoUrl(c):l.default.mediaDefaultVisitorPhoto,name:o.first_name,is_online:s,fallback:l.default.mediaDefaultVisitorPhoto},s?e.unshift(o):e.push(o),t++}}else e.push({img_url:l.default.mediaDefaultVisitorPhoto,css_class:""});return e}),i.ui=new d.default(i),i.frameStyles=new C(i),i.ui.init(i,i.frameStyles),i.ui.status=u.default.observable("min"),i.settings.subscribe(function(){if(i.settings()){var e=i.settings();e.widget_theme&&(i.changeTheme(i.settings().widget_theme),"standard"==e.widget_theme&&(i.settings().home_apps=e.home_card_ids?(e.home_card_ids||"").split(","):[])),e.cobrowse_only&&"0"!==e.cobrowse_only&&(i.ui.fullHeight(!1),i.cobrowseonly(!0),setTimeout(function(){i.ui.fullHeight(!1)},1e3)),e.hide_button&&"0"!==e.hide_button?null==i.threadManager()||i.threadManager()&&0==i.threadManager().chats().length?"hide"==i.chat_invitaion_status()&&(i.init_status("noui"),k&&console.error("307",i.status()),i.status("noui")):(k&&console.error("310"),i.status("thread_chat")):i.cobrowseonly()||0!=i.availableAgents().length||"on"===i.form_settings().enable_leave_msg||"min"!=i.ui.status()?"noui"==i.status()&&(k&&console.error("317",i.status()),i.status("thread_chat")):(i.init_status("noui"),k&&console.error("316",i.status()),i.status("noui")),i.ui&&(e.widget_bottom_spacing&&NaN!=parseInt(e.widget_bottom_spacing)&&i.ui.setVerticalMargin(parseInt(e.widget_bottom_spacing)),e.widget_side_spacing&&NaN!=parseInt(e.widget_side_spacing)&&i.ui.setHorizontalMargin(parseInt(e.widget_side_spacing)))}}),i.account.valueHasMutated(),i.status.subscribe(function(e){if(k&&console.error("336",e),""==i.status()&&(k&&console.error("336"),i.status("thread_chat")),"agent_list"==i.status()&&(k&&console.error("341"),i.status("thread_chat")),"chat_form"==i.status()){if(!i.cobrowseonly()&&!i.threadManager().sheet_close_reset_status()&&(i.getSound("trigger",function(e){try{e.play()}catch(t){setTimeout(function(){try{e.play()}catch(e){}})}}),i.invitations())){e=0;for(var t=r.m(i.invitations()),n=t.next();!n.done;n=t.next()){if((n=n.value).text_messages()){for(var a=[],s=r.m(n.text_messages()),o=s.next();!o.done;o=s.next()){o=o.value;try{var l=m.parse(o.message);if(i.ui.blockManager()){n.show_in&&(l.show_in=n.show_in);var c=i.ui.blockManager().addBlock(l),u=c.render();"dialog"==n.show_in?c.manager.updateHomeCanvasElements(c,u):a.push(u)}}catch(e){k&&console.error(e,o.message),a.push(null)}}i.invitations()[e].elements(a)}e++}}i.threadManager().sheet_close_reset_status(!1),i.ui.status("max"),"84389"==i.accountId&&i.init_department(null),i.trackEvent("chat_form_open",!0)}else i.ui.mobileUIUpdate(!1);""!==i.status()&&i.threadManager()&&i.threadManager().updateWidgetState(i.ui.status(),i.status()),"thread_chat"===i.status()&&"max"==i.ui.status()&&(i.instant_chat_msgs([]),i.rtc_popup_close(!1),i.pageTitleNotification().off()),"min"==i.ui.status()&&i.settings().hide_button&&"0"!==i.settings().hide_button&&"chat_form"!=i.status()&&"show"!=i.chat_invitaion_status()&&null==i.threadManager()&&i.threadManager()&&0==i.threadManager().chats().length&&(i.init_status("noui"),k&&console.error("424",i.status()),i.status("noui")),i.updateChatAgents()}),i.ui.status.subscribe(function(e){"min"==e?(i.googleAnalyticscheck("chat_minimize","click","Chat window Minimize"),i.ui.fullHeight(!1),i.ui.isMax=!1,i.ui.mobileUIUpdate(!1),i.threadManager()&&0<i.threadManager().chats().length&&i.trackWindowEvent("chat_minimize",!0),i.tracker.setActiveThread(-3,i.userArea),i.settings().hide_button&&"0"!==i.settings().hide_button&&i.threadManager()&&0==i.threadManager().chats().length&&(i.init_status("noui"),k&&console.error("448",i.status()),i.status("noui")),"thread_chat"!=i.status()||"09a05"!=i.account().uid&&"62019"!=i.account().uid||i.trackSamsungEvents("button","floating chat:close"),i.show_cobrowse_code(!1),i.cobrowseopened(!1),i.cobrowseonly()||(k&&console.error("457"),i.status("thread_chat"))):"max"==e&&i.if("thread_manager_ready",function(){if(i.googleAnalyticscheck("chat_maximize","click","Chat window maximize"),i.updateHeight(),i.ui.isMax=!0,i.ui.mobileUIUpdate(!0),"thread_chat"===i.status()&&(i.rtc_popup_close(!1),i.instant_chat_msgs([]),i.pageTitleNotification().off()),0<i.threadManager().chats().length&&i.trackWindowEvent("chat_maximize",!0),"thread_chat"===i.status()&&"list"===i.threadManager().status()&&"max"==i.ui.status()){if(i.threadManager().thread_list_loaded())0==i.threadManager().threads().length&&i.threadManager().status("new");else var e=i.threadManager().thread_list_loaded.subscribe(function(t){t&&(0==i.threadManager().threads().length&&i.threadManager().status("new"),_.default.disposeKoItem(e))});if(i.tracker.setActiveThread(-2,i.userArea),i.threadManager().forceSingleView()){var t=i.threadManager().findThreadByPK(-1);t&&-1==i.widget_state_unsave.indexOf(i.accountId)&&t.view(),(t=i.threadManager().findThreadByPK(-2))&&-1==i.widget_state_unsave.indexOf(i.accountId)&&t.view()}i.view_thread_on_ui_max&&(t=i.threadManager().findThreadByPK(i.view_thread_on_ui_max))&&-1==i.widget_state_unsave.indexOf(i.accountId)&&(t.view(),i.view_thread_on_ui_max=null)}},!0),i.threadManager()&&i.threadManager().updateWidgetState(i.ui.status(),i.status())}),i.invitations.subscribe(function(e){0<i.invitations().length&&i.if("thread_manager_ready",function(){for(var e=0,t=0,n=r.m(i.invitations()),a=n.next();!a.done;a=n.next())a.value.popup&&t++;for(n=r.m(i.invitations()),a=n.next();!a.done;a=n.next()){var s=a.value;if(s.single_popup=i.invitations().length===t,s.first_message=!!s.data().first_message,s.data&&s.data().group_id&&-1==i.invite_group_ids.indexOf(s.data().group_id)&&(i.invite_group_ids.push(s.data().group_id),i.triggerDataVisitorPush(s)),"chat_form"==i.status()&&s.text_messages()&&0==s.elements().length){a=[];for(var o=(s=r.m(s.text_messages())).next();!o.done;o=s.next()){o=o.value;try{var l=m.parse(o.message);if(i.ui.blockManager()){o.show_in&&(l.show_in=o.show_in);var c=i.ui.blockManager().addBlock(l),u=c.render();"dialog"==o.show_in?c.manager.updateHomeCanvasElements(c,u):a.push(u)}}catch(e){k&&console.error(e,o.message),a.push(null)}}i.invitations()[e].elements(a)}e++}},!0)}),i.chat_invitaion_status.subscribe(function(e){"show"==e&&i.trackEvent("invitation_show",!0)}),i.account()&&i.account().settings&&i.account().settings.form_settings)try{if(g.default.safeType(i.account().settings.form_settings,"Object"))var b=i.account().settings.form_settings;g.default.safeType(i.account().settings.form_settings,"String")&&(b=m.parse(i.account().settings.form_settings)),i.custom_form_settings(b)}catch(e){k&&console.error(e,i.account().settings.form_settings)}i.onlineExtraFields=u.default.observableArray([]),i.offlineExtraFields=u.default.observableArray([]),i.onlineFieldsVisibility=u.default.observable(!1),i.offlineFieldsVisibility=u.default.observable(!1);var T=function(){i.onlineFieldsVisibility("on"==i.form_settings().online_fields_visiblility||i.form_settings().online_fields_visiblility||!1),i.offlineFieldsVisibility(i.form_settings().offline_fields_visiblility||"on"==i.form_settings().offline_fields_visiblility||!1);var e=[];try{e=m.parse(i.form_settings().online_form_custom_fields||"[]")}catch(e){}var t=g.default.safeType(e,"Array")?e:null;if("9594c"==i.account().uid&&e&&(t=e.filter(function(e){return"case_reason"!==e.name&&"issue_name"!==e.name})),t&&0<t.length){var a=0,s=r.m(t);for(e=s.next();!e.done;e=s.next()){var o=e.value,l=i.selectedFieldDetails()[o.name]?i.selectedFieldDetails()[o.name]:"";if(null!==o.value&&""!==o.value&&(l=o.value),-1!==["checkbox-group","radio-group","select"].indexOf(o.type)){e="";var c=r.m(o.values);for(o=c.next();!o.done;o=c.next())o=o.value,n!=typeof o.selected&&1==o.selected&&(e=o.value,delete o.selected),l==o.value&&(o.selected=!0);l&&(e=l),t[a].value=u.default.observable(e)}else t[a].value=u.default.observable(l);a++}i.onlineExtraFields(t)}e=[];try{e=m.parse(i.form_settings().offline_form_custom_fields||"[]")}catch(e){}if((t=g.default.safeType(e,"Array")?e:null)&&0<t.length){for(a=0,e=(s=r.m(t)).next();!e.done;e=s.next()){if("radio-group"==(o=e.value).type||"select"==o.type){for(e="",o=(l=r.m(o.values)).next();!o.done;o=l.next())o=o.value,n!=typeof o.selected&&1==o.selected&&(e=o.value,delete o.selected);t[a].value=u.default.observable(e)}else t[a].value=u.default.observable("");a++}i.offlineExtraFields(t)}};i.settings.subscribe(function(){T()}),T(),i.custom_settings.subscribe(function(){i.custom_settings().hide_button&&"0"!==i.custom_settings().hide_button&&(null==i.threadManager()||i.threadManager()&&0==i.threadManager().chats().length?(i.init_status("noui"),k&&console.error("673",i.status()),i.status("noui")):(k&&console.error("667"),i.status("thread_chat")))}),i.instant_chat_msgs=u.default.observableArray([]),i.instant_chat_msgs_closed=u.default.observableArray([]),i.instant_chat_msgs.subscribe(function(){!i.cobrowseonly()&&"min"===i.ui.status()&&"thread_chat"===i.status()&&0<i.instant_chat_msgs().length&&(k&&console.error("717",i.status()),i.status("chat_form"));var e=[];if(0<i.instant_chat_msgs().length){var t=u.default.utils.arrayFilter(i.instant_chat_msgs(),function(t){return-1==e.indexOf(t.message)&&(e.push(t.message),!0)});t.length!=i.instant_chat_msgs().length&&i.instant_chat_msgs(t)}}),i.session.on("start",function(e,t,n,a,s){n||i.if("thread_manager_ready",function(){if(i.threadManager()&&0<i.threadManager().chats().length)for(var e=r.m(i.threadManager().chats()),t=e.next();!t.done;t=e.next())t=t.value,i.threadManager().findThreadByPK(t.data().thread_id),t.trigger("dispose");"noui"!==i.status()&&"min"===i.ui.status()&&(0<i.invitations().length&&i.threadManager()&&0==i.threadManager().chats().length&&0<i.onlineAgents().length?(k&&console.error("748",i.status()),i.status("chat_form")):(k&&console.error("711"),i.status("thread_chat")),i.threadManager().status("list"))}),s.myself&&s.myself.details&&i.setUserDetails({name:s.myself.details.name,phone:s.myself.details.phone,email:s.myself.details.email}),e.emit("check_queue_threshold_exceeded",function(e){var t=setInterval(function(){i.threadManager()&&(clearInterval(t),!i.hide_button_by_trigger&&e&&i.threadManager()&&0==i.threadManager().chats().length&&(i.hide_button_by_queue_threshold=e,i.custom_settings(Object.assign({},i.custom_settings(),{hide_button:!!e}))))},100)})}),i.session.on("connect",function(e,t){if(!t){var a=null,s=null;i.threadManager()&&0<i.threadManager().chats().length&&(s=i.threadManager().chats()[i.threadManager().chats().length-1].data().id);var o=function(t){e.emit("track_goal",i.account().id,t,s,function(e){console.log(t.id+":emit:tracked:"+e)})};e.on("track_goal",function(e){a=e,o(e)}),i.chat_form_type_set_by_trigger=u.default.observable(null),i.chat_form_type=u.default.computed(function(){return i.chat_form_type_set_by_trigger()?i.chat_form_type_set_by_trigger():0==i.onlineAgents().length?"offline":"online"}),e.on("apply_chat_form",function(e){i.chat_form_type_set_by_trigger(e),i.custom_form_settings(Object.assign({},i.custom_form_settings(),{offline_form_before_chat:1}))}),y.default.setStore(i,i.session,function(e,t,a){i.if("thread_manager_ready",function(){var e=new y.default(i,t);e.__users=[],e.data.subscribe(function(t){for(var n in t.users)"agent"==e.data().users[n].type&&-1==e.__users.indexOf(t.users[n].id_real)&&e.__users.push(t.users[n].id_real)});var s=i.threadManager().findThreadByPK(t.thread_id),o=i.threadManager().thread_list_loaded();if(s){o=!!i.force_thread_id,s.chat()&&s.chat().trigger("dispose"),s.inputAreaValue("");for(var l=n!=typeof i.visitors()[0]?i.visitors()[0].data().temp_invite_msgs:[],c=(l=r.m(l)).next();!c.done;c=l.next()){c=c.value;for(var u=r.m(s.threadMessages()),d=u.next();!d.done;d=u.next())(d=d.value)().id==-c.group_id&&s.threadMessages.remove(d)}i.myself()&&(s=i.getVisitor(i.myself().id))&&s.data({temp_invite_msgs:[]},!1)}i.threadManager().chats.push(e),a(e),setTimeout(function(){i.threadManager()&&(i.threadManager().updateWidgetState(i.ui.status(),i.status()),i.updateChatAgents())},0),i.threadManager().loadVisitorThreads(null,null,null,function(){setTimeout(function(){if(i.threadManager()){var e=i.threadManager().findThreadByPK(t.thread_id);e&&e.chat()&&(e.feedback_chat(null),e.feedback()&&e.feedback().feedback_rating(null)),("frontend"!==i.type||"thread_chat"!=i.status()||"list"!=i.threadManager().status()&&"view"!=i.threadManager().status()||"max"!=i.ui.status())&&"chat_form"!=i.status()||!e||"chat_form"!=i.status()&&!o||(k&&console.error("784"),i.status("thread_chat"),e.view(),i.ui.status("max"),i.threadManager().removeThreadByPK(-2));var a=t.users[i.myself().type+"-"+i.myself().id];n===typeof a||"active"!=a.status||a.owner||(k&&console.error("795"),i.status("thread_chat"),e?e.view():(i.threadManager().loadVisitorThreads(null,null,t.thread_id),k&&console.error(t.thread_id,e)),i.ui.status("max"))}},100),"noui"==i.status()&&0<i.threadManager().chats().length&&(k&&console.error("804"),i.status("thread_chat"),i.threadManager().status("list"),i.trigger("ui_reloaded"))}),i.forcechattype(null),i.force_thread_id=null,i.trigger("conversation-start",t)},!0)},function(e){if(n!=typeof e.__users){a&&o(a),i.threadManager().last_chat_type(e.data().type),"1"!==i.settings().chat_session_mode&&1!==i.settings().chat_session_mode||i.clean(!0,!1);var t=e.data().session_id==i.myself().id;1<=e.__users.length&&1==e.__users.length&&-1!=e.__users.indexOf(-1)?(e.thread().feedback_chat(null),i.threadManager().initiateVirtualChat("text","^^",e.data().thread_id)):t&&function(t){if("disable"!=i.settings().feedback_type){var n=null;if(0<e.data().department_id)n=e.data().department_id;else for(var a=r.m(e.users()),s=a.next();!s.done;s=a.next()){s=s.value;for(var o=null,l=r.m(i.account().agents),c=l.next();!c.done;c=l.next())if((c=c.value).id==s.data().id&&0<c.departments.length){o=c.departments;break}if(o){n=o;break}}for(n&&e.thread().feedback().department(n),n="agent"==e.data().initiator?0:1,s=(a=r.m(e.messages())).next();!(s.done||("visitor"===(s=s.value)().sender_type&&n++,1<n));s=a.next());(0<n||"cobrowse"==e.data().type)&&e.thread().feedback_chat(t),"cobrowse"!=e.data().type&&!i.cobrowseonly()||"text"===e.data().type||(i.threadManager().active_thread(e.thread()),i.openCobrowseFeedback(e.thread()))}}(e.data().id),!t&&i.threadManager().active_thread()&&i.threadManager().active_thread().data().thread_id==e.data().thread_id&&(i.threadManager().status("list"),i.threadManager().removeThreadByPK(e.data().thread_id)),i.threadManager().chats.remove(e),i.updateChatAgents(),i.trigger("conversation-end",e.data().id)}}),e.on("notify_offline_chat_msg",function(e,t){if(e){var n=i.threadManager().findThreadByPK(e);n&&(i.instant_chat_msgs.push(Object.assign({},t,{thread_id:e})),"system"!==t.sender_type&&n.data().unseen_count++,n.addThreadMessage(t,!1),n.scrollToBtm(),"noui"==i.status()&&(k&&console.error("952",i.status()),i.status("chat_form")))}}),e.on("home_app_arrange",function(e){i.ui&&i.ui.blockManager()&&i.ui.blockManager().reArrangeHomeApps(e)}),e.on("dialog_block_push",function(e){if(i.ui&&i.ui.blockManager()){var t=i.ui.blockManager().addBlock(e),n=t.render();"dialog"==e.show_in&&t.manager.updateHomeCanvasElements(t,n)}})}});var S=!0;if(i.session.on("ready",function(e,t,s){i.trackEvent("page_visit",!0),S?S=!1:(i.ui&&i.ui.remove(),i.ui=new d.default(i),"agent_list"==i.status()&&(i.ui.status=u.default.observable("min")),i.frameStyles=new C(i),i.ui.init(i,i.frameStyles)),"3ae2d"===i.accountId&&(i.status("min_window"),i.selected_agent.subscribe(function(e){null!=e&&"self-developed"==i.settings().widget_theme&&("online"==e.status&&"online"!=i.chat_form_status()?"close"==i.chat_form_status()&&i.form_settings()&&"on"!=i.form_settings().online_name&&"on"!=i.form_settings().online_email&&"on"!=i.form_settings().online_phone&&"on"!=i.form_settings().online_message?i.initiateChat("video"):i.chat_form_status("online"):i.chat_form_status("offline"))})),i.status.subscribe(function(e){i.updateHeight(!0)}),i.myself.subscribe(function(){i.if("thread_manager_ready",function(){if(i.threadManager()){if(i.threadManager().newthreadui()&&i.threadManager().thread_list_loaded()&&i.threadManager().status("new"),i.threadManager()&&0<i.threadManager().threads().length)for(var e=r.m(i.threadManager().threads()),t=e.next();!t.done;t=e.next())(t=t.value).data().visitor_id&&0>t.data().visitor_id&&(t.data().visitor_id=i.myself().id,t.data().session_id=i.myself().id);i.trigger("myself_data_updated"),i.myself()&&i.threadManager().loadVisitorThreads(),i.myself()&&0<i.threadManager().chats().lenght&&(e=i.getVisitor(i.myself().id))&&e.data({temp_invite_msgs:[]},!1)}})});var o=function(){i.threadManager().visitor_name(i.userDetails().name),i.threadManager().visitor_email(i.userDetails().email),i.threadManager().visitor_phone(i.userDetails().phone);var e=i.userDetails().fields;if(n!=typeof e){for(var t=0,a=r.m(i.onlineExtraFields()),s=a.next();!s.done;s=a.next())(s=s.value).value&&n!=typeof e[s.name]&&i.onlineExtraFields()[t].value(e[s.name]),t++;for(t=0,s=(a=r.m(i.offlineExtraFields())).next();!s.done;s=a.next())(s=s.value).value&&n!=typeof e[s.name]&&i.offlineExtraFields()[t].value(e[s.name]),t++}};i.tracker.getActiveThread(i.userArea,function(e){if(a===typeof e&&(e=null!==e&&0<e.length?e[0]:null),null==e||e&&-3==e){var t=n!=typeof i.visitors()[0]?i.visitors()[0].data().widget_state:{},r=t.status;r&&3<=(r=(r||"").split(".")).length&&"thread_chat"==r[0]&&"view"==r[1]&&!isNaN(r[2])&&(t.ui?e=r[2]:i.view_thread_on_ui_max=r[2])}-3!=e?("frontend"===i.type&&-2===parseInt(e)&&i.ui.status("max"),i.if("thread_manager_ready",function(){i.threadManager().loadVisitorThreads(null,null,e)},!0)):i.if("thread_manager_ready",function(){i.threadManager().loadVisitorThreads()})}),i.if("thread_manager_ready",function(){i.userDetails.subscribe(function(){i.threadManager()&&o()}),o();for(var e=r.m(["name","email","phone"]),t=e.next();!t.done;t=e.next()){t=t.value;var a=i.userDetails()[t]||"";"name"!==t||""!=a&&"#"!==a.charAt(0)||(a=""),"on"!=i.form_settings()["offline_"+t]||n!==typeof a&&""!==a&&null!==a||-1!==i.threadManager()._offline_form_edits().indexOf(t)||i.threadManager()._offline_form_edits.push(t),"on"!=i.form_settings()["online_"+t]||n!==typeof a&&""!==a&&null!==a||-1!==i.threadManager()._online_form_edits().indexOf(t)?i["init_"+t](a):"after_chat"==i.form_settings()["online_"+t+"_req"]||"optional_after_chat"==i.form_settings()["online_"+t+"_req"]?i.threadManager()._online_after_chat_form_edits.push(t):i.threadManager()._online_form_edits.push(t)}if(i.onlineExtraFields()&&i.onlineFieldsVisibility())for(e=r.m(i.onlineExtraFields()),t=e.next();!t.done;t=e.next())t=t.value.name,a=i.selectedFieldDetails()[t]?i.selectedFieldDetails()[t]:"",t&&-1===i.threadManager()._online_form_edits().indexOf(t)&&""==a&&i.threadManager()._online_form_edits.push(t);if(parseInt(i.form_settings().offline_form_before_chat||"0")&&i.offlineExtraFields()&&i.offlineFieldsVisibility())for(e=r.m(i.offlineExtraFields()),t=e.next();!t.done;t=e.next())t=t.value.name,a=i.selectedFieldDetails()[t]?i.selectedFieldDetails()[t]:"",t&&-1===i.threadManager()._offline_form_edits().indexOf(t)&&""==a&&i.threadManager()._offline_form_edits.push(t)}),setTimeout(function(){if(window.location.hash&&(0===window.location.hash.indexOf("#start-chat")||0===window.location.hash.indexOf("#start-video-chat")||0===window.location.hash.indexOf("#start-audio-chat")))if(0<i.availableAgents().length&&i.availableAgents()[0]){var e=null;if(0===window.location.hash.indexOf("#start-chat")&&(e="text"),0===window.location.hash.indexOf("#start-video-chat")&&(e="video"),0===window.location.hash.indexOf("#start-audio-chat")&&(e="audio"),e){var t=0<window.location.hash.indexOf("-chat-")?window.location.hash.split("-chat").pop():null;if(t&&(t=t.split(/-a(\d+)/g))){for(var n=[],a=0;a<t.length;a++)if(0<parseInt(t[a]))for(var r=0;r<i.availableAgents().length;r++)if(i.availableAgents()[r].data().id==parseInt(t[a])){n.push(i.availableAgents()[r].data().id);break}0<n.length&&i.auto_start_agents(n)}i.max(e)}}else k&&console.error("1076"),i.status("thread_chat")},1e3),i.trigger("ui_reloaded")}),"721f9"==i.accountId&&i.setFullConferenceMode(),i.custom_cobrowse_code&&i.cobrowseonly.subscribe(function(e){if(e&&!i._cobrowse_lazzy_pinger){var t=function(){i.if("ready")||(0,x.ajaxRequest)({url:l.default.server+"/a-"+i.accountId+"/cobrowse-ping?code="+i.custom_cobrowse_code,type:"GET",dataType:"json",success:function(e){e&&e.success?i.if("ready",null,!0):i._cobrowse_lazzy_pinger=setTimeout(t,5e3)},error:function(){i._cobrowse_lazzy_pinger=setTimeout(t,5e3)}})};i._cobrowse_lazzy_pinger=setTimeout(t,5e3)}}),i.last_location_url=window.location.href,0>window.location.href.indexOf("riderportal.net")&&0>window.location.href.indexOf("risecredit.com")&&0>window.location.href.indexOf(".azurewebsites.net")){var E=function(){setTimeout(function(){i.last_location_url!=document.location&&i.visitorPageUpdate(document.title,document.location.href),i.last_location_url=document.location.href},1e3)};/MSIE|Trident/.test(window.navigator.userAgent)||(history.pushState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushState")),E(),t}}(history.pushState),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replaceState")),E(),t}}(history.replaceState)),window.addEventListener("popstate",function(){E()})}return i.trigger_agents.subscribe(function(){i.account.valueHasMutated()}),i.lang.subscribe(function(){i.ui.reloadTheme()}),i},r.i(s,c.default),s[t].startChatFromTrigger=function(e){this.threadManager()&&1>this.threadManager().chats().length&&(this.is_init_invitaion(!0),this.init_message(e),this.initiateChat("text",-2))},s[t].getLastActiveAgents=function(){return this.__last_agents},s[t].openCobrowseFeedback=function(){var e=this;b.default.draw("Feedback",function(t){var n=t.createElement("div");return n.innerHTML=o(383)("./"+e.ui.theme.name+"/templates/cobrowse-feedback.html"),t.querySelector(".content").appendChild(n),t.querySelector(".buttons").parentNode.removeChild(t.querySelector(".buttons")),(0,x.appendStyle)(e.themes[e.ui.theme.name].viewCSS+e.themes[e.ui.theme.name].viewRTLCSS+e.settings().custom_css,t.querySelector("body"),t),u.default.applyBindings(e,t.body),".feedback-zone"},{})},s[t].audioRequestAnswer=function(e){var t=this;if(g.default.safeType(this.call_upgrade_request_config(),"Object")&&this.call_upgrade_request_config().trigger_id){var n=this.call_upgrade_request_config().trigger_id;switch(e){case"audio":b.default.close(),this.max("audio");break;case"video":b.default.close(),this.max("video");break;case"phone":this.dialog_phone_error(!1);var i=!1;if((!(e=(this.threadManager().visitor_phone()||"").trim())||e&&""===e.trim())&&(i=!0),e&&""!==e.trim()&&(/^(\+?\d{1,3}[- ]?)?(\([0-9]{3}\)[ ]?|[0-9]{3}[- ]?)[0-9]{3}[- ]?[0-9]{1,4}([x]\d{1,10})?$/.test(e)||(i=!0)),i)this.dialog_phone_error(!0);else if(i=this.call_upgrade_request_config().chat_id){var a=this.threadManager().findChatByPK(i);if(i=Object.keys(a.chat_users()).filter(function(e){return"agent"==(e=a.chat_users()[e]).type&&"active"==e.status&&"online"==e.state}),a){var r={};e&&(r.phone=e),this.setUserDetails(r),a.broadcast("call_upgrade_answer",{trigger_id:n,phone:e},i,function(e){t.call_upgrade_request_config({upgrade_response:e}),b.default.close()})}}}}},s[t].openAudioRequest=function(){var e=this;b.default.draw(this.getTransMsg("Agent has offered you to make a call"),function(t){var n=t.createElement("div");return n.innerHTML=o(386)("./"+e.ui.theme.name+"/templates/call-upgrade-response.html"),t.querySelector(".content").appendChild(n),t.querySelector(".buttons").parentNode.removeChild(t.querySelector(".buttons")),(0,x.appendStyle)("#aio-container{} "+e.themes[e.ui.theme.name].viewCSS+e.themes[e.ui.theme.name].viewRTLCSS+e.settings().custom_css,t.querySelector("body"),t),u.default.applyBindings(e,t.body),".call-request-zone"},{})},s[t].getAvailableAgentsUrl=function(){for(var e=[],t=1,n=r.m(this.onlineAgents()),i=n.next();!i.done;i=n.next())if(i=i.value,3>=t){i=""!==i.data().photo?i.data().photo:null;var a="",s=3<this.onlineAgents().length?3:this.onlineAgents().length;a+=1<s?"agent-multiple agent-"+s+" agent-"+s+"_"+t:"",e.push({img_url:null!==i?this.getPhotoUrl(i):l.default.mediaDefaultVisitorPhoto,css_class:a}),t++}return 0==this.onlineAgents().length&&e.push({img_url:l.default.mediaDefaultVisitorPhoto,css_class:""}),e},s[t].setCoBrowseOnly=function(e){e=void 0!==e&&e,this.cobrowseonly(!0),e&&(k&&console.error("1355",this.status()),this.status("noui"))},s[t].showCoBrowseCode=function(){var e=this;return this.if("ready",function(){k&&console.error("1351"),e.status("thread_chat"),e.cobrowseopened(!0)},!0),!1},s[t].updateVisitorDetail=function(e,t){var i=this.myself&&n!==typeof this.myself()&&this.myself()?this.myself().id:null;i&&i==t&&g.default.safeType(e,"Object")&&(this.visitor_detail_updated_by="agent",this.myself().details=Object.assign({},this.myself().details,e),this.userDetails(Object.assign({},this.userDetails(),e)))},s[t].remove=function(){this.ui.remove(),delete this.ui,delete this.frameStyles},s[t].initiateChat=function(e,t){var i=this;if(e=void 0===e?"text":e,t=void 0!==t&&t,this.forcechattype()&&(e=this.forcechattype()),t&&-2==t&&this.force_thread_id&&(t=this.force_thread_id),this.validateForm()){var s="new"==this.threadManager().status()?this.init_name():(this.threadManager().visitor_name()||"").trim(),o="new"==this.threadManager().status()?this.init_email():(this.threadManager().visitor_email()||"").trim(),l="new"==this.threadManager().status()?this.init_phone():(this.threadManager().visitor_phone()||"").trim();this.init_name(""),this.init_email(""),this.init_phone("");var c=this.init_department(),u=this.init_message();this.init_message("");var d=[];if(this.onlineExtraFields()&&this.onlineFieldsVisibility()&&0<this.onlineExtraFields().length){for(var f={},h=r.m(this.onlineExtraFields()),p=h.next();!p.done;p=h.next())if("checkbox-group"==(p=p.value).type){for(var g=[],v=r.m(p.values),y=v.next();!y.done;y=v.next())(y=y.value).selected&&g.push(y.value);0<g.length&&(g=g.join(","),d.push({n:p.name,v:g}),f[p.name]=g)}else p.value&&(d.push({n:p.name,v:p.value()}),f[p.name]=p.value());if(f&&0<Object.keys(f).length&&this.userDetails().fields&&a==typeof this.userDetails().fields){h={};for(var w in f)n==typeof this.userDetails().fields[w]&&(h[w]=f[w]);this.userDetails().fields=Object.assign({},this.userDetails().fields,h),this.userDetails(this.userDetails())}}var x=null;0<d.length&&(x=m.stringify({custom_field:d})),this.trackWindowEvent("start_chat",e),this.trackEvent("chat_start",!0),this.googleAnalyticscheck("start_chat_text","click","Chat Started"),("b5662"==this.account().uid||"1556d"==this.account().uid)&&(s||o||l||u)&&this.trackWindowEvent("user_details",{name:s,email:o,phone:l,message:u}),"09a05"!=this.account().uid&&"62019"!=this.account().uid||this.trackSamsungEvents("button","floating chat:actual start"),this.session.getConnection(function(n){var a=[];if(i.selected_agent()&&a.push("agent-"+i.selected_agent().id),i.auto_start_agents())for(var d=0;d<i.auto_start_agents().length;d++)i.selected_agent()&&i.selected_agent().id==i.auto_start_agents()[d]||a.push("agent-"+i.auto_start_agents()[d]);var f={name:s,email:o,phone:l,department:c};x&&(f.fields=x),"file"==e&&(f.message_type=e,e="text");for(var h in f)null==f[h]&&delete f[h];if("standard"==i.settings().widget_theme&&0<i.threadManager().invite_messages().length){if(i.is_init_invitaion()){d=[];for(var p=(h=r.m(i.threadManager().invite_messages())).next();!p.done;p=h.next())d.push(p.value);-2==t&&(f.pre_messages=d)}i.is_init_invitaion(!1),i.threadManager().invite_messages([])}var g=null;d=function(){g&&_.default.disposeKoItem(g),t&&(f.thread_id=t),i.chat_start_wait(!0),n.emit("chat_start",a,e,f,u,!1,!1,function(e,t){if(i.chat_start_wait(!1),e&&!0!==e)return b.default.alert("Error",e)})},i.visitor_details_saving()?g=i.visitor_details_saving.subscribe(d):d()})}},s[t].startChat=function(e,t,n){var i=this;e=void 0!==e&&e,t=void 0===t?"text":t,n=void 0===n?-1:n,this.if("ready",function(){i.if("thread_manager_ready",function(){i.forcechattype()&&(t=i.forcechattype());var a="online"==i.chat_form_type()?"online":"offline";if(-2==n&&i.force_thread_id&&(n=i.force_thread_id),"offline"==a)i.validateForm("offline","file"==t)&&i.sendOfflineMessage(n);else if(e||n)i.initiateChat(t,n);else{if(i.form_settings()){a=!0;for(var s=r.m(["email","phone","name","department","message"]),o=s.next();!o.done;o=s.next())if(o=o.value,"on"==i.form_settings()["online_"+o]&&"required"==i.form_settings()["online_"+o+"_req"]&&(""==i["init_"+o]()||!i["init_"+o]())){a=!1;break}if(a)return void i.initiateChat(t)}k&&console.error("1642"),i.status("thread_chat")}},!0)},!0)},s[t].validateForm=function(e,t){if(e=void 0===e?"online":e,t=void 0!==t&&t,this.cobrowseonly())return k&&console.error("1829"),"noui"!==this.status()&&this.status("cobrowse_code"),!0;"offline"==this.chat_form_type()&&(e="offline");var i=["name","email","phone","message"];"online"==e&&(null==this.threadManager().active_thread()||this.threadManager().active_thread()&&null==this.threadManager().active_thread().chat())&&i.push("department");for(var a=[],s=(i=r.m(i)).next();!s.done;s=i.next()){s=s.value;var o=this.userDetails()[s]||"";"name"!==s||!o||""!=o&&"#"!==o.charAt(0)||(o=""),"department"===s&&(o=this.init_department()),"on"!=this.form_settings()[e+"_"+s]||n!==typeof o&&""!==o&&null!==o||-1!==a.indexOf(s)||"required"!=this.form_settings()[e+"_"+s+"_req"]&&("required"==this.form_settings()[e+"_"+s+"_req"]||"optional"==this.form_settings()[e+"_"+s+"_req"]||"optional_after_chat"==this.form_settings()[e+"_"+s+"_req"]||"after_chat"==this.form_settings()[e+"_"+s+"_req"]||null!=this.forcechattype()&&""!=this.forcechattype())||("department"===s?"online"==e&&0<this.onlineDepartments().length&&a.push(s):a.push(s))}if("online"==e&&this.onlineFieldsVisibility()&&this.onlineExtraFields()||"offline"==e&&this.offlineFieldsVisibility()&&this.offlineExtraFields())for(i="online"==e?this.onlineExtraFields():this.offlineExtraFields(),i=r.m(i),s=i.next();!s.done;s=i.next()){o=(s=s.value).name;var l=this.selectedFieldDetails()[o]?this.selectedFieldDetails()[o]:"",c=(s.value()||"").trim();if("checkbox-group"==s.type){c=[];for(var u=r.m(s.values),d=u.next();!d.done;d=u.next())(d=d.value).selected&&c.push(d.value);c=c.join(",")}o&&s.required&&""==c&&""==l&&a.push(o)}return e="offline"==e&&!parseInt(this.form_settings().offline_form_before_chat||"0"),i=1===a.length&&0<=a.indexOf("message"),0===a.length||i||e?""!=(this.init_message()||"").trim()||-1!=["video","audio"].indexOf(this.forcechattype())||!!t||("view"!=this.threadManager().status()||"thread_chat"!=this.status()||"max"!=this.ui.status())&&(k&&console.error("1730"),this.status("thread_chat"),this.threadManager().status("list"),"1"==this.settings().force_single_thread&&0<this.threadManager().threads().length?(this.threadManager().threads()[0].view(),!1):(this.threadManager().initVirtualThread(),!1)):!(0<a.length&&(k&&console.error("1741"),this.status("thread_chat"),this.threadManager().active_thread()&&(this.force_thread_id=this.threadManager().active_thread().data().thread_id),this.threadManager().status("new"),1))},s[t].close=function(e,t){var n=this;this.ui.mobileUIUpdate(!1);var i=function(){setTimeout(function(){n.cobrowseonly()&&"9ef13"===n.accountId&&0!==n.settings().hide_button&&(n.ui.status("noui"),n.status("noui"))},200),"cobrowse_code"==n.status()&&(k&&console.error("1758"),n.status("thread_chat"),n.ui.status("min"))};this.cobrowseuser&&this.cobrowseuser()?b.default.confirm(this.getTransMsg("Close cobrowse?"),this.getTransMsg("Agent is cobrowsing with you. Are you sure to close this session?"),function(){n.cobrowseuser().close(!1,!0),n.cobrowseuser(null),n.ui.coBrowseIframe(!1),i()},function(){i()}):i(),this.pageTitleNotification().off()},s[t].min=function(){this.ui.status("min"),this.ui.fullHeight(!1),this.ui.isMax=!1},s[t].updateHeight=function(){"chat"==this.status()||"thread_chat"==this.status()||"offline-form"==this.status()||"offline-form-success"==this.status()?this.ui.fullHeight(!1):(this.ui.fullHeight(!1),"chat"==this.status()&&this.ui.mobileUIUpdate(!0),"thread_chat"==this.status()&&this.ui.mobileUIUpdate(!1))},s[t].isFormValid=function(){return!0},s[t].loginVisitor=function(e,t){t=void 0===t?null:t,this.config.user_hash===e?t&&this.userDetails(t):(e&&(this.config.user_hash=e,this.session&&this.session.started&&this.clean(!1)),t&&this.userDetails(t),window.acq_conference_mode=!1,this._hider_login&&(this._hider_login=_.default.disposeKoItem(this._hider_login)),this.status&&(k&&console.error("1829"),this.status("thread_chat")))},s[t].forceShow=function(){this._hider_login&&(this._hider_login=_.default.disposeKoItem(this._hider_login))},s[t].logoutVisitor=function(e){var t=this;e=void 0!==e&&e,this.config.user_hash=null,this.session&&this.session.started&&this.clean(e),e&&(window.acq_conference_mode=!0,this.min(),setTimeout(function(){t._hider_login=t.status.subscribe(function(){"noui"!=t.status()&&(k&&console.error("307",t.status()),t.status("noui"))}),"noui"!=t.status()&&(k&&console.error("307",t.status()),t.status("noui"))},100))},s[t].setFullConferenceMode=function(){var e=this;window.acq_conference_mode=!0,this.status.subscribe(function(){"noui"!=e.status()&&(k&&console.error("1868",e.status()),e.status("noui"))}),this.popUpMananger(function(e){e.bare_ui(!0)})},s[t].maxConference=function(e,t){if(e=void 0===e?"video":e,t=void 0===t?null:t,0==this.onlineAgents().length)return b.default.alert(this.getTransMsg("Agents are offline"),this.getTransMsg("no agents are available at the moment."));this.setFullConferenceMode(),this.max(e,t),this.threadManager().active_chats().length&&(this.threadManager().active_chats()[0].conference_mode(!1),this.threadManager().active_chats()[0].conference_mode(!0)),0>this.popUpMananger().sections().indexOf("rtcroom")&&this.popUpMananger().sections.push("rtcroom")},s[t].max=function(e,t,n){var i=this;e=void 0===e?"text":e,t=void 0===t?null:t,n=void 0===n?-1:n,(this.cobrowseonly()||"cobrowse_code"==this.status()||0!=this.availableAgents().length||"on"===this.form_settings().enable_leave_msg)&&this.if("ready",function(){if(t&&i.selected_agent({id:t}),i.cobrowseonly())i.cobrowseopened(!0),k&&console.error("1886"),i.status("thread_chat"),setTimeout(function(){i.cobrowseopened(!0),k&&console.error("1890"),i.status("thread_chat")},800);else{var a=function(){setTimeout(function(){i.forcechattype(e),i.if("thread_manager_ready",function(){if(0<i.threadManager().chats().length){i.updateHeight(),i.ui.status("max");var t=i.threadManager().chats()[0];if("video"==e||"audio"==e){for(var a=!1,s=r.m(t.users()),o=s.next();!o.done;o=s.next())o=o.value,!a&&o.data&&o.data()&&"bot"==o.data().type&&(a=!0);for(o=(s=r.m(t.users())).next();!o.done;o=s.next())(o=o.value).data&&o.data()&&("agent"==o.data().type||""==o.data().type)&&(a=!1);(t.isChatbotActive&&t.isChatbotActive()||a)&&t.transferChatToAgents(),t.thread().startRTCCall("video"==e),i.forcechattype(null)}"text"==e&&t.thread().view()}else if(i.onlineAgents&&0<i.onlineAgents().length)i.ui.status("max"),n=-1==n&&0<i.threadManager().threads().length?i.threadManager().threads()[0].data().thread_id:i.force_thread_id?i.force_thread_id:-2,i.isFormValid()?i.startChat(!0,e,n):(i.startChat(!0,e,n),setTimeout(function(){if(i.isFormValid())i.startChat(!0,e,n);else if(i.chatform()){var t=document.createEvent("Events");t.initEvent&&(t.initEvent("click",!0,!0),t.keyCode=13,t.which=13,t.charCode=13,t.key="Enter",t.code="Enter",i.chatform().querySelector('input[type="submit"]').dispatchEvent(t))}},1e3));else{if("video"==e||"audio"==e)return b.default.alert(i.getTransMsg("Agents are offline"),i.getTransMsg("no agents are available at the moment."));i.ui.status("max"),"thread_chat"==i.status()&&"list"==i.threadManager().status()&&i.threadManager().thread_list_loaded()&&0==i.threadManager().threads().length&&i.threadManager().status("new")}},"noui"!=i.status()),"noui"==i.status()?(i.ui.status("max"),k&&console.error("1956"),i.status("thread_chat")):i.trigger("please-thread_manager_ready")},200)};i.session&&i.session.connector&&i.session.connector.status==f.default.STATUS_CONNECTED?a():i.session.on("ready",a)}},!0)},s[t].maxM=function(){var e=this;this.if("ready",function(){e.ui.status("max"),"noui"==e.status()&&(k&&console.error("1971"),e.cobrowseonly()?(e.status("cobrowse_code"),e.cobrowseopened(!0)):e.status("thread_chat")),e.updateHeight(),e.ui.isMax=!0},!0)},s[t].toggle=function(){"min"==this.ui.status()?this.maxM():this.min()},s[t].selectedFieldDetails=function(){return this.userDetails().fields||{}},s[t].startServerCobrowse=function(e){var t=this,n=!1;this.cobrowse_type="remote",console.error("remote-local starting:");var i=function(){console.error("remote-local start threadManager:");var e=t.threadManager()&&t.threadManager().chats()?t.threadManager().chats():null;console.error("chats:"+e.length),e&&e.length?e[e.length-1].cobrowse(function(e){var t,n=document.links,i=0;for(t=n.length;i<t;i++)/(\.pdf)$/gi.test(n[i].href?n[i].href:"")&&"_blank"==n[i].target&&n[i].removeAttribute("target");e.startShare({source:"remote-local",render:"main"},!1)}):n&&(console.error("remote-local closerequestpupp:"),console.log("closerequestpupp-chat")),n=!0,t.updateChatAgents()};this.if("thread_manager_ready",function(){t.threadManager().chats.subscribe(i),t.threadManager().chats().length&&i()},!0)},s[t].updateChatAgents=function(){var e=this;this.if("thread_manager_ready",function(){var t=e.threadManager().chats();0==t.length&&e.agentMustOnline([]);for(var n=(t=r.m(t)).next();!n.done;n=t.next())if((n=n.value)&&n.chat_users&&n.chat_users())for(var i in n.chat_users()){var a=n.chat_users()[i];"agent"==a.type&&0>e.agentMustOnline().indexOf(a.id)&&e.agentMustOnline.push(a.id)}})},s[t].startCoBrowseCodeBox=function(e){var t=this;this.if("ready",function(){t.show_cobrowse_code(!0),t.cobrowseopened(!t.cobrowseopened()),t.cobrowseonly()?t.maxM():"min"===t.ui.status()&&(t.status("cobrowse_code"),t.maxM()),t.cobrowseopened()||t.close()},!0)},s[t].toggleNew=function(){"min"==this.ui.status()?(this.ui.status("max"),"standard"==this.ui.theme.name&&this.cobrowseonly()&&this.cobrowseopened(!0),"09a05"!=this.account().uid&&"62019"!=this.account().uid||!this.threadManager()||0!=this.threadManager().chats().length||(k&&console.error("2162",this.status()),this.status("chat_form"),this.trackSamsungEvents("button","floating chat:initial start"))):("standard"==this.ui.theme.name&&this.cobrowseonly()&&this.cobrowseopened(!1),"chat_form"===this.status()&&"09a05"!=this.account().uid&&"62019"!=this.account().uid?(k&&console.error("2096"),this.status("thread_chat"),this.threadManager().thread_list_loaded()&&this.threadManager().newthreadui()&&this.threadManager().status("new")):this.ui.status("min"))},s[t].notificationSubscribe=function(){var e=this;window.open("https://developers.acquire.io/messaging/?w="+window.location.origin,"notification_win","directories=0,titlebar=0,toolbar=0,location=0,status=0,menubar=0,scrollbars=no,resizable=no,width=400,height=350,left="+(screen.width/2-350)+",top="+(screen.height/2-225)),window.addEventListener("message",function(t){-1!==t.origin.indexOf("developers.acquire.io")&&(!e.isTokenSentToServer()||e.isTokenSentToServer()&&e.isTokenSentToServer()!==e.myself().id)&&(e.setTokenSentToServer(e.myself().id),e.socket.emit("update_meta",{firebaseToken:{token:t.data,client:"web",website:window.location.href}}))},!1)},s[t].isTokenSentToServer=function(){return 1==this.clientStorage.get("_tgTokenSentToServer")},s[t].setTokenSentToServer=function(e){this.clientStorage.set("_tgTokenSentToServer",e,864e7)},s[t].save_cobrowse_time=function(){this.cobrowseopened_time()||"d7a10"!=this.account().uid||this.cobrowseopened_time(new Date)},s[t].validate_cobrowse_time=function(){return"d7a10"!==this.account().uid?!this.cobrowseopened():this.cobrowseopened_time()?!(10<(new Date-this.cobrowseopened_time())/1e3&&(this.cobrowseopened_time(""),this.cobrowseopened())):!this.cobrowseopened()},s[t].tgclose=function(){var e=this.invite_group_ids();if(e=0<e.length?e:["c"],g.default.safeType(e,"Array"))for(var t=(e=r.m(e)).next();!t.done;t=e.next())this.clientStorage.set(this.tgCloseKey+"_"+t.value,!0,43200)},s[t].closeRTCSmallPopup=function(){this.rtc_popup_close(!0)},s[t].closeInvitePopup=function(e,t){if(t=void 0!==t&&t,void 0!==e&&e||(this.ui.status("min"),"09a05"==this.account().uid||"62019"==this.account().uid?(k&&console.error("2262",this.status()),this.status("chat_form")):(k&&console.error("2181"),this.status("thread_chat")),this.googleAnalyticscheck("trigger_close","click","Trigger Closed")),0<this.invite_group_ids().length&&(t||this.googleAnalyticscheck("trigger_click","click","Trigger Clicked"),this.trackTriggerEvent(this.invite_group_rendered_ids(),"clicked"),this.invite_group_rendered_ids([])),0<this.instant_chat_msgs().length)for(e=r.m(this.instant_chat_msgs()),t=e.next();!t.done;t=e.next())t=t.value,n!=typeof t.id&&(this.instant_chat_msgs([]),this.instant_chat_msgs_closed.push(t.id));this.pageTitleNotification().off(),this.invitations.removeAll()},s[t].isSingle=function(e,t,n,i){return!1},s[t].acceptInvitation=function(e,t,n){var i=this;if(e=void 0===e?"text":e,t=void 0===t?-2:t,n=void 0!==n&&n,this.is_init_invitaion(!0),0<this.onlineAgents().length&&this.onlineAgents(),0<this.instant_chat_msgs().length&&0==this.invitations().length&&(t=this.instant_chat_msgs()[0].thread_id),!n){var a=0<this.invitations().length&&0<this.invitations()[0].data().messages.length?this.invitations()[0].data().messages:[];if("standard"==this.ui.theme.name)for(var r=0;r<a.length;r++)a[r].type="tpl";0<a.length&&(this.invitations()[0].remove(),this.invitations.remove(this.invitations()[0]))}if(0<this.invite_group_ids().length&&(this.trackTriggerEvent(this.invite_group_rendered_ids(),"replied"),this.googleAnalyticscheck("trigger_reply","click","Trigger replied"),this.invite_group_ids([]),this.invite_group_rendered_ids([])),-2!=t){var s=this.threadManager().findThreadByPK(t);if(null!==s){var o=this.init_message();return this.init_message(""),k&&console.error("2252"),this.status("thread_chat"),void setTimeout(function(){i.threadManager()&&(s.view(),i.instant_chat_msgs([]),s.submitMessage(null,o))},100)}}this.startChat(n,e,t)},s[t].sendOfflineMessage=function(e){e=void 0===e?-1:e,this.threadManager().initiateVirtualChat("message",this.init_message(),e)},s[t].checkMessageSize=function(e,t){(e=t.target).style.height="auto",t=e.scrollHeight,e.style.height=t,e.style["max-height"]=240<t?240:t},s[t].checkInitMessage=function(e,t){return 13!=t.keyCode||!!t.shiftKey||(""==(this.init_message()||"").trim()&&this.init_message(t.target.value),"09a05"==this.account().uid||"62019"==this.account().uid?this.startSamsungChat():this.isFormValid()&&this.acceptInvitation("text"),!1)},s[t].trackTriggerEvent=function(e,t){this.socket.emit("track_trigger_event",e,t)},s[t].triggerDataVisitorPush=function(e){var t=this;if(e&&e.data&&e.data()&&e.data().group_id){var n=e.data().group_id;if(0<=this.invite_group_ids.indexOf(n)){var i=e.data().messages;for(e=0;e<i.length;e++)i[e].group_id=n;this.socket.emit("temp_trigger_message",i);var a=function(){var e=t.getVisitor(t.myself().id);e&&(e.data({temp_invite_msgs:i},!1),"view"!=t.threadManager().status()&&"thread_chat"==t.status()&&"max"==t.ui.status()&&t.threadManager().status("list"))};this.myself&&this.myself()?a():this.on("myself_data_updated",function(){a()})}}},s[t].inviteRendered=function(e){if(e&&e.data&&e.data()&&e.data().group_id){var t=e.data().group_id;0<=this.invite_group_ids.indexOf(t)&&(this.triggerDataVisitorPush(e),this.invite_group_rendered_ids.push(t),this.trackTriggerEvent([t],"opened"),this.googleAnalyticscheck("trigger_opened","click","Trigger open"),this.tgclose(),n!=typeof this.settings().visitor_new_chat_sound&&"1"!=this.settings().visitor_new_chat_sound&&n!=typeof this.settings().visitor_new_msg_sound&&"1"!=this.settings().visitor_new_msg_sound||this.pageTitleNotification().off(),n==typeof this.settings().visitor_new_chat_notification||"1"==this.settings().visitor_new_chat_notification||n==typeof this.settings().visitor_new_msg_notification||"1"==this.settings().visitor_new_msg_notification)&&this.pageTitleNotification().on("(1) "+this.getTransMsg("New Message!"))}},s[t].trackWindowEvent=function(e,t){if(e&&t)try{n!=typeof window.top&&i==typeof window.top.trackTagoveEvents&&window.top.trackTagoveEvents(e,t)}catch(e){}return!0},s[t].trackSamsungEvents=function(e,t,a){if(e&&t)try{n!=typeof window.top&&i==typeof window.top.tagoveSamsungEvents&&window.top.tagoveSamsungEvents(e,t,void 0===a?null:a)}catch(e){}return!0},s[t].startSamsungChat=function(){if(""==(this.init_message()||"").trim()?this.init_message_error(!0):this.init_message_error(!1),this.init_accept_tac()?this.init_accept_tac_error(!1):this.init_accept_tac_error(!0),this.isFormValid())return!this.init_message_error()&&!this.init_accept_tac_error()&&(this.acceptInvitation("text"),this.trackSamsungEvents("button","floating chat:personal info"),!0)},s[t].visitorPageUpdate=function(e,t){if(e&&t){if(!g.default.safeType(e,"String")||!g.default.safeType(t,"String"))throw Error("ERROR_INVALID_PARAMETERS");this.socket&&this.socket.emit("visitor_page_update",{title:e,url:t})}},s[t].dispose=function(){this.threadManager&&this.threadManager()&&(this.threadManager().trigger("dispose"),this.off("thread_manager_ready",null,!0),this.threadManager(new w.default(this))),c.default[t].dispose.call(this)},s[t].clean=function(e,t){var n=this;t=void 0===t||t,this.visitorHash=this.visitHash=null,(void 0===e||e)&&v.default.get().resetVisitorHash(this.userArea),t&&(this.ui&&this.ui.status("min"),this.dispose(),setTimeout(function(){n.session&&n.session.connector&&(n.session.details.visitorHash=null,n.session.details.visitHash=null,n.session.connector.manual_reconnect=!0,n.session.connector.first_time=!0,n.session.socket.disconnect())},10))},s[t].getPoweredBy=function(){return'<a target="_blank" href="http://acquire.io/?utm_content='+this.accountId+"&utm_medium=site_widget&utm_source="+encodeURIComponent(window.location.host)+'&utm_campaign=widget">Acquire</a>'},s[t].hideWidget=function(){this.custom_settings({hide_button:!0})},s[t].getPoweredByLink=function(){return"http://acquire.io/?utm_content="+this.accountId+"&utm_medium=site_widget&utm_source="+encodeURIComponent(window.location.host)+"&utm_campaign=widget"};var C=function(e){var t=this;this.iframe=u.default.observable(null),this.change=u.default.observable(!1),this.position="fixed",this.left="standard"==e.settings().widget_theme?"0px":"auto",this.right="10px",this.bottom="0",this.top="standard"==e.settings().widget_theme?"0px":"auto",this.width=this.height="auto",this.app=e,this.style_done=!1,this.style=u.default.computed(function(){t.change();var e=!1;return t.app.tracker.isIOS&&navigator.userAgent.match(/Version\/(\d+).(\d+)/)&&(e=10<=parseFloat(navigator.userAgent.match(/Version\/(\d+).(\d+)/)[1])),"position:"+("standard"==t.app.settings().widget_theme?"absolute":t.position)+";left:"+t.left+";right:"+t.right+";height:"+t.height+";width:"+(t.app.tracker.isIOS&&!e?"80px":t.width)+";bottom:"+t.bottom+";top:"+t.top+";"}),u.default.computed(function(){if(t.iframe()){var e=t.app.threadManager()?t.app.threadManager().activeRoomInRTC():null,n="";e&&e.rtcroom&&e.rtcroom().incall()&&null===e.rtcroom().myself().sholudWePickCall()&&-1===t.app.popUpMananger().sections().indexOf("rtcroom")&&(n+=0==e.rtcroom().rtcUsers().length?" rtc-outgoing ":" rtc "),n+=e&&e.rtcroom&&null!==e.rtcroom().myself().sholudWePickCall()?" rtc-incoming ":"",n+=e&&e.rtcroom&&"audio"==e.rtcroom().callType()?"  rtc-audio-only":"",e=""!=(n+=e&&e.rtcroom&&"pending"!==e.data().status&&e.rtcroom().inscreencall()&&0<e.rtcroom().users().length?" rtc-screen":"")&&!t.app.rtc_popup_close(),n="size_"+(t.app.settings()&&t.app.settings().window_size?t.app.settings().window_size:"medium")+" acquire_main_pos_"+(t.app.settings()&&t.app.settings().widget_position?t.app.settings().widget_position:"br")+" acquire_main_button_"+(t.app.settings()&&t.app.settings().chat_window&&!t.app.cobrowseonly()?t.app.settings().chat_window:"simple")+" "+(t.app.status()?"acquire_main_status_"+t.app.status():"")+" "+(t.app.threadManager()&&t.app.threadManager().status()?"acquire_main_thread_status_"+t.app.threadManager().status():"")+" "+(t.app.ui.status()?"acquire_main_ui_status_"+t.app.ui.status():"")+" "+(t.app.settings()&&parseInt(t.app.settings().launcher_vibration)?"":"plain_l")+" "+(e?"active_rtc "+n:"")+" "+(t.app.account().uid?"acquire_main_a-"+t.app.account().uid:"")+" ","be477"===t.app.account().uid&&t.app.custom_launcher_button()&&(n+=" custom_launcher_button ");var i;if(t.app.ui.customZindex()&&(i=t.app.ui.customZindex()),t.iframe().setAttribute("class","tagove_frame "+n.replace(/acquire_main_/g,"")),"standard"==t.app.settings().widget_theme){e=t.iframe().ownerDocument.querySelector(".aio-launcher-frame");var a=(0,x.parentBySelector)(t.iframe(),".aio-widget-frame"),r=t.iframe().ownerDocument.querySelector(".acquire-launcher-wrapper");a&&a.setAttribute("class","aio-widget-frame "+n.replace(/acquire_main_/g,"acquire_w_")),e&&e.setAttribute("class","aio-launcher-frame "+n.replace(/acquire_main_/g,"acquire_l_")),r&&r.setAttribute("class","acquire-launcher-wrapper acquire_lw_pos_"+(t.app.settings()&&t.app.settings().widget_position?t.app.settings().widget_position:"br")+" acquire_lw_button_"+(t.app.settings()&&t.app.settings().chat_window&&!t.app.cobrowseonly()?t.app.settings().chat_window:"simple")+" "+(t.app.status()?"acquire_lw_status_"+t.app.status()+" ":"")+(t.app.ui.status()?"acquire_lw_ui_status_"+t.app.ui.status():"")+("25fa1"==t.app.account().uid&&0<=t.app.tracker.navigator_ua.indexOf("iPad")?" acquire_ios_ui_status":""))}t.style_done||t.iframe().setAttribute("style",t.style()),i&&t.iframe().setAttribute("style",t.iframe().getAttribute("style")+" z-index:"+i+"!important;"),t.style_done=!0}})};C[t].set=function(e,t){this[e]=t,this.change(!this.change())},n!==typeof window.tagoveStressTest&&window.tagoveStressTest&&s.enableStressMode(),window.TagoveFrontendChatApplication=s,e.default.export(s,"frontend")},function(e,i,a){i.__esModule=!0;var s=a(2),o=a(311),l=a(8);(e=function(e,t){var n=this;this.model=null,this.app=e,this.launcher_iframe=this.launcher_window=this.launcher_document=this.iframe=this.window=this.document=this.main=this.theme=this.frameModel=null,this._fullHeight=!1,this.isMax=!0,this.scrollTimer=!1,this.status=s.default.observable("min"),this.blockManager=s.default.observable(null),this.setVerticalMargin=s.default.observable(0),this.setHorizontalMargin=s.default.observable(0),this.setMobileTopBodyScrollBlock=!0,this.customZindex=s.default.observable(null),this.widgetWidth=s.default.observable(380),this.widgetHeight="d87c8"===this.app.accountId||"583ad"===this.app.accountId||"9d377"===this.app.accountId||"79871"===this.app.accountId?s.default.observable(800):s.default.observable(650),e.settings()&&(e.settings().widget_bottom_spacing&&NaN!=parseInt(e.settings().widget_bottom_spacing)&&this.setVerticalMargin(parseInt(e.settings().widget_bottom_spacing)),e.settings().widget_side_spacing&&NaN!=parseInt(e.settings().widget_side_spacing)&&this.setHorizontalMargin(parseInt(e.settings().widget_side_spacing))),this.setVerticalMargin.subscribe(function(e){isNaN(e)&&n.setVerticalMargin(.1)}),this.setHorizontalMargin.subscribe(function(e){isNaN(e)&&n.setHorizontalMargin(.1)}),this.widgetWidth.subscribe(function(e){isNaN(e)&&n.widgetWidth(380)}),this.widgetHeight.subscribe(function(e){isNaN(e)&&n.widgetHeight(650)}),e.onThemeChange(function(e){n.theme=e;var t=window.tagoveCustomContainer?"#"+window.tagoveCustomContainer:"body",i=function(){n.container=document.querySelector(t),n.reloadTheme(),n.preventClientRemove()};if(n.container=document.querySelector(t),n.container)i();else var a=setInterval(function(){n.container=document.querySelector(t),n.container&&(i(),clearInterval(a))},100)});var i=function(t){t&&e.cobrowseonly()&&n.iframe&&(n.iframe.style.maxHeight="400px")};e.cobrowseopened.subscribe(function(e){i(e)}),i(e.cobrowseopened())})[t].reloadTheme=function(){var e=this;if(this.container&&this.theme){if(this.main&&this.main.remove(),this.theme){var t=document.querySelector("#tagove-"+this.theme.name);t&&t.parentNode&&t.parentNode.removeChild(t)}this.iframe&&this.iframe.remove();var i=this.app.tracker.isIOS||this.app.tracker.isAndroid;t="height: auto;";var c="tagove-livechat-widget",u=this.theme.frameHTML,d=2147483647;this.customZindex()&&(d=this.customZindex()),"standard"==this.theme.name&&(t="position: fixed;  width: 0px;  height: 0px; bottom: 0px; right: 0px;  z-index: "+d+";"),(i&&"25fa1"!==this.app.account().uid||"25fa1"==this.app.account().uid&&(0<=this.app.tracker.navigator_ua.indexOf("iPhone")||this.app.tracker.isAndroid))&&(c+=" mobile-frame "),(i&&"25fa1"!==this.app.account().uid||"25fa1"==this.app.account().uid&&(0<=this.app.tracker.navigator_ua.indexOf("iPhone")||this.app.tracker.isAndroid))&&(c+=" ios-frame ",this.app.tracker.isIOSIpad&&(c+=" ios-ipad-frame ")),this.main=document.createElement("div"),this.main.setAttribute("style",t),this.main.setAttribute("class",c),this.main.innerHTML=u,this.iframe=this.main.querySelector("iframe"),"standard"==this.theme.name&&(this.launcher_iframe=this.main.querySelector("iframe.aio-launcher-frame"),this.launcher_iframe.addEventListener("load",function(){e.launcher_window=e.launcher_iframe.contentWindow;try{e.launcher_document=e.launcher_iframe.contentDocument||e.launcher_iframe.contentWindow.document}catch(t){return void e.launcher_iframe.setAttribute("src","about:blank")}if(e.launcher_window&&e.launcher_document){e.launcher_document.querySelector("head").innerHTML='<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta charset="UTF-8">';var t=e.theme.launcherHTML;e.launcher_document.querySelector("body").innerHTML=t,t=0<=e.app.env.rtlDirLanguages.indexOf(e.app.lang())?e.theme.viewRTLCSS:"",(0,l.appendStyle)(e.theme.launcherCSS+t+e.app.settings().custom_css,e.launcher_document.querySelector("body"),e.launcher_document),s.default.cleanNode(e.launcher_document.body),s.default.applyBindings(e.model,e.launcher_document.body)}})),this._fullHeight=!1,this.iframe.addEventListener("load",function(){e.window=e.iframe.contentWindow;try{e.document=e.iframe.contentDocument||e.iframe.contentWindow.document}catch(t){return void e.iframe.setAttribute("src","about:blank")}if(e.window&&e.document){var t=!1,s=0,c=0,u=function(e){"number"==typeof e&&(e+="px"),s=e},d=function(e){"number"==typeof e&&(e+="px"),c=e},f=function(){t=!0,e.document.querySelector("head").innerHTML='<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta charset="UTF-8">';var f=e.theme.viewHTML,h=0<=e.app.env.rtlDirLanguages.indexOf(e.app.lang())?e.theme.viewRTLCSS:"";if(e.document.querySelector("body").innerHTML=f,(0,l.appendStyle)("#aio-container{}"+e.theme.viewCSS+h+e.app.settings().custom_css,e.document.querySelector("body"),e.document),e.theme.dynamicCSS&&0<Object.keys(e.theme.dynamicCSS).length)for(var p in e.theme.dynamicCSS)if(0<=p.split(",").indexOf(e.app.accountId)&&0<Object.keys(e.theme.dynamicCSS[p]).length){f={};for(var g in e.theme.dynamicCSS[p])f.k=g,e.theme.dynamicCSS[p][f.k](function(t){return function(n){n=((n=(n||"").replace(/BASEURL/g,e.theme.baseURL))||"").replace(/ASSETURL/g,e.theme.assetUrl);var i=e.app.settings().primary_color;null!=i&&""!=i||(i="#3f81c7"),n=(n||"").replace(/PRIMARY_COLOR/g,i),(0,l.appendStyle)(n,e.document.querySelector("body"),e.document).setAttribute("id",t.k)}}(f)),f={k:f.k}}var m=e.document.querySelector(".tcw"),v=e.document.querySelector(".aio-main-region"),y=document.querySelector(".shadow-acquirebg");e.frameHeightTimer&&clearInterval(e.frameHeightTimer),i&&(m.classList.add("tcw-mobile-frame"),v&&v.classList.add("mobile-frame-body"),e.app.tracker.isIOS&&m.classList.add("tcw-ios-frame"));var b=function(t){t&&(e.main.classList.add("cobrowseonly-widget"),m.classList.add("tcw-cbwsonly-widget"))};"standard"==e.theme.name&&a.e(16).then(function(){var t=[a(388)];(function(t){e.app&&(e.blockManager()&&e.blockManager().dispose(),t=new t.default(e.app,e.document,e.window),e.blockManager(t),null==e.document.querySelector("#acquire-blocks-"+e.theme.name)&&(0,l.appendStyle)("#aio-container{}"+e.theme.blockCSS,e.document.querySelector("body"),e.document).setAttribute("id","acquire-blocks-"+e.theme.name))}).apply(null,t)}).catch(a.oe);var _=null,w=null,x=null,k=null;if(e.frameHeightTimer=setInterval(function(){!function(){(0,o.isLight)(e.app.settings())?(e.main.classList.add("acquire-light-theme"),e.app.is_light_theme(!0)):(e.main.classList.remove("acquire-light-theme"),e.app.is_light_theme(!1));var t;e.launcher_document&&(t=e.launcher_document.querySelector(".audi-aio-launcher-container")),navigator.userAgent!=e.app.tracker.navigator_ua?(e.app.tracker.updateUA(),i=e.app.tracker.isIOS||e.app.tracker.isAndroid,e.mobileUIUpdate(!0,i),i?(e.main.classList.add("mobile-frame"),m.classList.add("tcw-mobile-frame"),t&&t.classList.add("tcw-mobile-frame"),v&&v.classList.add("mobile-frame-body"),e.app.tracker.isIOS&&(e.main.classList.add("ios-frame"),m.classList.add("tcw-ios-frame"),e.app.tracker.isIOSIpad&&(e.main.classList.add("ios-ipad-frame"),m.classList.add("tcw-ios-ipad-frame")))):(e.main.classList.remove("mobile-frame"),e.main.classList.remove("ios-frame"),e.main.classList.remove("ios-ipad-frame"),m.classList.remove("tcw-mobile-frame"),v&&v.classList.add("mobile-frame-body"),m.classList.remove("tcw-ios-frame"),m.classList.remove("tcw-ios-ipad-frame"),t&&t.classList.remove("tcw-mobile-frame"))):440>=window.innerWidth?i||(i=!0,e.mobileUIUpdate(!0,i),e.main.classList.add("mobile-frame"),m.classList.add("tcw-mobile-frame"),v&&v.classList.add("mobile-frame-body"),t&&t.classList.add("tcw-mobile-frame")):(i=e.app.tracker.isIOS||e.app.tracker.isAndroid)||(e.mobileUIUpdate(!0,i),e.main.classList.remove("mobile-frame"),m.classList.remove("tcw-mobile-frame"),v&&v.classList.remove("mobile-frame-body"),t&&t.classList.remove("tcw-mobile-frame")),e._fullHeight=!!i,t=e.setVerticalMargin(),!isNaN(t)&&0<t&&i&&"max"==e.status()&&(t=0),-20>t&&(t=0),m.style.height=e._fullHeight?"100%":"auto","chat_form"===e.app.status()&&(m.style.height="auto"),y&&("chat_form"==e.app.status()?y.style.display="block":y.style.display="none");var a=e.app.cobrowseonly()||"cobrowse_code"==e.app.status();if(a&&(e.app.cobrowseopened()?(m.classList.add("widget-open"),e.status("max")):(m.classList.remove("widget-open"),e.status("min"))),e.iframe){if(!a&&0==e.app.availableAgents().length&&"on"!==e.app.form_settings().enable_leave_msg||a&&e.app.threadManager()&&0<e.app.threadManager().chats().length&&e.app.threadManager().chats()[0].cobrowse&&e.app.threadManager().chats()[0].cobrowse()&&e.app.threadManager().chats()[0].cobrowse().sessions()&&e.app.threadManager().chats()[0].cobrowse().sessions().length&&("2dad0"==e.app.accountId||"5d03c"==e.app.accountId||"843e0"==e.app.accountId||"f82eb"==e.app.accountId||"98953"==e.app.accountId)?e.iframe.classList.add("hide_frame"):e.iframe.classList.remove("hide_frame"),"standard"==e.theme.name){e.main.style.setProperty("bottom",parseInt(t)+"px","important");var s=e.main.querySelector(".aio-widget-frame"),c=e.main.querySelector(".acquire-launcher-wrapper");if(s)if("chat_form"==e.app.status()||"cobrowse_code"==e.app.status()){if(s.style.bottom=null,m.querySelector(".outreach-chat")){var f=(0,l.getHeight)(m.querySelector(".outreach-chat"));s=0,m.querySelector(".rtc-small-popup-wrapper")&&(s=(0,l.getHeight)(m.querySelector(".rtc-small-popup-wrapper"))),m.querySelector(".cobrowse-with-us")&&(s=(0,l.getHeight)(m.querySelector(".cobrowse-with-us"))-60),(0,l.getHeight)(e.main)!=f&&(e.main.querySelector(".aio-widget-frame").style.bottom=t+60+20+"px",e.main.querySelector(".aio-widget-frame").style.height=f+t+60+20+"px",(0,l.getHeight)(e.main)!=s&&(e.main.querySelector(".aio-widget-frame").style.height=s+f+t+60+20+"px"))}}else s.style.bottom=i?"calc("+t+"px)":"calc(20px + 80px + "+t+"px)",s.style.height=i?"calc(100% - 20px - "+t+"px)":"calc(100% - 20px - 20px - 80px - "+t+"px)";c&&(c.style.bottom="calc(20px + "+t+"px)")}else c=m.querySelector(".online-chat-ui"),!isNaN(t)&&0<t&&t<window.innerHeight/2?(e.app.frameStyles.bottom=parseInt(t),e.iframe.style.setProperty("bottom",parseInt(t)+"px","important"),c&&(c.style.height="calc(100vh - "+(90+t)+"px)")):c&&(c.style.height=null);if(!isNaN(e.setHorizontalMargin())&&-21<e.setHorizontalMargin()&&e.setHorizontalMargin()<window.innerWidth/2)if(c=e.setHorizontalMargin()+20,i&&"max"==e.status()&&(c=0),"standard"==e.theme.name){s=e.main.querySelector(".aio-widget-frame");var h=e.main.querySelector(".acquire-launcher-wrapper");"bl"===e.app.settings().widget_position?(s&&s.style.setProperty("left",parseInt(c)+"px","important"),h&&h.style.setProperty("left",parseInt(c)+"px","important")):(s&&("7f27b"==e.app.account().uid||"25fa1"==e.app.account().uid||"bb711"==e.app.account().uid?document.querySelector("#tg_ui_frame")?s.style.setProperty("right","40px"):s.style.setProperty("right",parseInt(c)+"px"):s.style.setProperty("right",parseInt(c)+"px","important")),h&&("7f27b"==e.app.account().uid||"25fa1"==e.app.account().uid||"bb711"==e.app.account().uid?document.querySelector("#tg_ui_frame")?h.style.setProperty("right","40px"):h.style.setProperty("right",parseInt(c)+"px"):h.style.setProperty("right",parseInt(c)+"px","important")))}else"bl"===e.app.settings().widget_position?e.iframe.style.setProperty("left",parseInt(c)+"px"):e.iframe.style.setProperty("right",parseInt(c)+"px");if(i)d((0,l.getHeight)(m)+10),"chat_form"!==e.app.status()&&"cobrowse_code"!=e.app.status()||(d((0,l.getHeight)(m)+160),m.querySelector(".after-trigger-shown")&&(f=0,m.querySelector(".bot-greet-btn")&&(f=(0,l.getHeight)(m.querySelector(".bot-greet-btn"))),m.querySelector(".after-trigger-shown").style.maxHeight=window.innerHeight-(t+40+40+100+f)+"px")),"5d03c"!=e.app.account().uid&&"ea601"!=e.app.account().uid&&"db687"!=e.app.account().uid||!e.app.tracker.isAndroid||(w=window.innerHeight,k=window.innerWidth,_!=w&&(_<w&&x==k&&(e.iframe.classList.remove("mobile_focus"),m.classList.remove("mobile_focus")),_=w),x!=k&&(x=k));else{if(380<window.innerWidth){if(c=e.app.invitations()&&0<e.app.invitations().length&&e.app.invitations()[0]&&e.app.invitations()[0].data&&e.app.invitations()[0].data()&&n!==typeof e.app.invitations()[0].data().show_title&&!e.app.invitations()[0].data().show_title?250:350,"standard"==e.theme.name){if(m.querySelector(".outreach-chat")?(f=(0,l.getHeight)(m.querySelector(".outreach-chat")),s=0,m.querySelector(".rtc-small-popup-wrapper")&&(s=(0,l.getHeight)(m.querySelector(".rtc-small-popup-wrapper"))),m.querySelector(".cobrowse-with-us")&&(s=(0,l.getHeight)(m.querySelector(".cobrowse-with-us"))-60),e.main.style.height!=f&&(e.main.querySelector(".aio-widget-frame").style.height=f+t+60+"px",e.main.querySelector(".aio-widget-frame").style.setProperty("max-height",f+t+60+"px","important"),e.main.style.height!=s&&(e.main.querySelector(".aio-widget-frame").style.height=s+f+t+60+"px"))):m.querySelector(".cobrowse-with-us")?(s=(0,l.getHeight)(m.querySelector(".cobrowse-with-us")),e.main.style.height!=s&&(e.main.querySelector(".aio-widget-frame").style.height=s+t+"px")):e.main.querySelector(".aio-widget-frame")&&(e.main.querySelector(".aio-widget-frame").style.height=0<t?i?"calc(100% - 20px - "+t+"px)":"calc(100% - 20px - 20px - 80px - "+t+"px)":"",e.main.querySelector(".aio-widget-frame").style.maxHeight=""),-1!=["simple","tabs"].indexOf(e.app.settings().chat_window)&&(s=e.launcher_document.querySelector(".aio-launcher-simple-text"))&&(h=document.querySelector(".acquire-launcher-wrapper"))){var p=document.querySelector(".aio-launcher-frame");h.style.setProperty("width",s.clientWidth+90+"px","important"),p.style.setProperty("width",s.clientWidth+90+"px","important")}s=document.querySelector(".acquire-launcher-wrapper"),a||0!=e.app.availableAgents().length||"on"===e.app.form_settings().enable_leave_msg?(s&&s.classList.remove("hide_frame"),e.main.querySelector(".aio-widget-frame")&&e.main.querySelector(".aio-widget-frame").classList.remove("hide_frame")):(s&&(s.classList.add("hide_frame"),"noui"!=e.app.status()&&e.app.status("noui")),e.main.style.height!=f&&e.main.querySelector(".aio-widget-frame")&&e.main.querySelector(".aio-widget-frame").classList.add("hide_frame"))}else d(e._fullHeight?"100%":(0,l.getHeight)(m)+10+38+("chat_form"==e.app.status()||"cobrowse_code"==e.app.status()?80:0));u("chat_form"==e.app.status()||"cobrowse_code"==e.app.status()?c:380)}else d(e._fullHeight?"100%":(0,l.getHeight)(m)+10+38+("chat_form"==e.app.status()||"cobrowse_code"==e.app.status()?80:0)),u(m.width());"chat_form"===e.app.status()&&m.querySelector(".after-trigger-shown")&&(f=0,m.querySelector(".bot-greet-btn")&&(f=(0,l.getHeight)(m.querySelector(".bot-greet-btn"))),m.querySelector(".after-trigger-shown").style.maxHeight=window.innerHeight-(t+40+40+100+f)+"px")}a?(d((0,l.getHeight)(m)),e.iframe.style.maxHeight="standard"===e.theme.name?"":(0,l.getHeight)(m)+10+"px"):e.iframe.style.maxHeight="",e.customZindex()&&(f=e.customZindex(),e.main.style.zIndex=f)}else clearInterval(e.frameHeightTimer);if(f=window.innerHeight,c=window.innerWidth,e.app.tracker.isIOS){if(i){for(c=(f=r.m(["input","textarea","select"])).next();!c.done;c=f.next())c=c.value,e.document.addEventListener(c,function(t){setTimeout(function(){"chat"!=e.app.status()&&e.mobileUIUpdate(!0)},100)}),e.document.addEventListener(c,function(t){setTimeout(function(){"chat"!=e.app.status()&&e.mobileUIUpdate(!1)},100)});"min"==e.status()?("b5662"==e.app.account().uid?d("46px"):d("116px"),u("100px"),-1!==["simple","tabs"].indexOf(e.app.settings().chat_window)&&u("270px"),-1!=["simple","tabs"].indexOf(e.app.settings().chat_window)&&(f=e.document.querySelector(".online-chat-launcher"))&&u(f.clientWidth+36+"px")):(d("100%"),u("100%"))}}else"thread_chat"!=e.app.status()&&"cobrowse_code"!=e.app.status()&&"offline-form"!=e.app.status()&&"offline-form-success"!=e.app.status()||(s=e.widgetHeight()||650,h=e.widgetWidth()||380,f>s?(i?(d("100%"),u("100%")):f>s?(d(s+"px"),u(h+"px")):450>=c?(d("100%"),u("100%")):569<f&&1200>c&&(d(f-70+"px"),u(h+"px")),a&&(u("280px"),d((0,l.getHeight)(m)))):(u((0,l.getWidth)(m)),d("100%"),a&&(u("260px"),d((0,l.getHeight)(m))))),1==window.onlyChat&&(u("650px"),d("100%")),"thread_chat"!=e.app.status()&&"chat_form"!=e.app.status()&&"cobrowse_code"!=e.app.status()&&"offline-form"!=e.app.status()&&"offline-form-success"!=e.app.status()||("min"!=e.status()||a||("b5662"==e.app.account().uid?d("46px"):"modern"==e.app.settings().chat_window?d("60px"):d("116px"),-1!==["simple","tabs"].indexOf(e.app.settings().chat_window)?u("270px"):u("60px")),-1!=["simple","tabs"].indexOf(e.app.settings().chat_window)&&(f=e.document.querySelector(".online-chat-launcher"))&&u(f.clientWidth+36+"px"));f=e.document.querySelector(".conversations-list"),e.app.threadManager()&&"new"===e.app.threadManager().status()&&(c=e.document.querySelector(".tw-before-form-heading"),s=e.document.querySelector(".tw-before-form"),f&&(f.style.height="calc(100vh - "+(90+t)+"px)"),c&&s&&f&&((0,l.getHeight)(c)+4+((0,l.getHeight)(s)+32)>(0,l.getHeight)(f)?s.classList.add("tw-before-form-fix"):s.classList.remove("tw-before-form-fix"),(0,l.getHeight)(f)-((0,l.getHeight)(c)+4)<(0,l.getHeight)(s)+32&&s.classList.add("tw-before-form-fix"))),e.app.threadManager()&&"view"==e.app.threadManager().status()&&(f=e.document.querySelector(".msg-wrap")),f&&(0<t||f.classList.contains("withScreenRTC"))?e.app.threadManager()&&-1!==["list","view"].indexOf(e.app.threadManager().status())&&(c=152,f.classList.contains("withRTC")&&(c=f.classList.contains("withAudioOnlyRTC")?202:356),f.classList.contains("withRTCAlert")&&(c=274),f.classList.contains("withRTCOut")&&(c=274),f.classList.contains("withScreenRTC")&&(c+=101,e.app.threadManager()&&"view"==e.app.threadManager().status()&&(c-=27)),i&&(c-=90),f.style.height="calc(100vh - "+(c+t)+"px)"):f&&(f.style.height=null),"cobrowse_code"==e.app.status()&&"max"==e.status()?b(!0):a||(e.main.classList.remove("cobrowseonly-widget"),m.classList.remove("tcw-cbwsonly-widget"))}(),e.iframe.style.width!=s&&(e.iframe.style.width=s),e.iframe.style.height!=c&&(e.iframe.style.height=c)},100),("5d03c"==e.app.account().uid||"ea601"==e.app.account().uid)&&e.app.tracker.isAndroid)for(p=r.m(["input","textarea","select"]),g=p.next();!g.done;g=p.next())g=g.value,e.document.addEventListener(g,function(t){"chat"!=e.app.status()&&setTimeout(function(){e.iframe.classList.add("mobile_focus"),m.classList.add("mobile_focus")},100)}),e.document.addEventListener(g,function(t){setTimeout(function(){"chat"!=e.app.status()&&(e.iframe.classList.remove("mobile_focus"),m.classList.remove("mobile_focus"))},100)});e.bind(),e.app.cobrowseonly.subscribe(function(e){b(e)}),b(e.app.cobrowseonly())};-1==window.location.href.indexOf("launcher_only")?f():"max"==e.status()||"new"==e.theme.name?f():(e.status.subscribe(function(e){"max"!=e||t||f()}),t||e.bind())}}),function(){e.container.appendChild(e.main);var t="";e.app.settings().custom_css=e.app.settings().custom_css?e.app.settings().custom_css:"";var i=e.app.settings().custom_css.split("/*IFRAME_CSS*/");-1!=e.app.settings().custom_css.indexOf("/* IFRAME CSS */")&&(i=e.app.settings().custom_css.split("/* IFRAME CSS */")),n!==typeof i[1]&&(t=i[1]),(0,l.appendStyle)(e.theme.frameCSS+t,e.container).setAttribute("id","tagove-"+e.theme.name)}()}},e[t].reloadContainer=function(){this.container=document.querySelector("body")},e[t].preventClientRemove=function(){var e=this;try{if(!window.__prevent_client_remove&&n!=typeof MutationObserver){var t=document.body;t.__watcher&&t.__watcher.disconnect(),t.__watcher=new MutationObserver(function(n){for(var i=(n=r.m(n)).next();!i.done;i=n.next())if((i=i.value)&&i.removedNodes&&i.removedNodes.length)for(var a=(i=r.m(i.removedNodes)).next();!a.done;a=i.next())if(a.value==t)return void(window.__tb_timer=setInterval(function(){document.body&&(window.__tb_timer&&clearInterval(window.__tb_timer),e.app.defaultTheme="x",window.__prevent_client_remove=!0,e.app.changeTheme(e.app.settings().widget_theme),window.__prevent_client_remove=!1,e.preventClientRemove())},200))}),t.__watcher.observe(t.parentNode,{childList:!0,subtree:!1,attributes:!1})}}catch(e){console.error(e)}},e[t].changeUiContainer=function(e){this.container=e,this.reloadTheme()},e[t].fullHeight=function(e){},e[t].mobileUIUpdate=function(e,t){if(t=void 0===t?null:t,this.setMobileTopBodyScrollBlock&&"noui"!=this.app.status()){e=t||this.app.tracker.isIOS||this.app.tracker.isAndroid;var n=document.querySelector("body");n&&(t=function(){n.style.position="",n.style.overflowY="",n.style["-webkit-text-size-adjust"]="",n.style.width="",n.style.minHeight="",n.style.margin=""},e&&"chat_form"!==this.app.status()&&"cobrowse_code"!=this.app.status()&&!this.app.cobrowseonly()&&"max"===this.status()?(n.style.position="fixed",n.style.overflowY="hidden",n.style["-webkit-text-size-adjust"]="100%",n.style.width="100%",n.style.minHeight="100%",n.style.margin="0px"):t())}},e[t].remove=function(){this.main&&this.iframe&&(s.default.cleanNode(this.main),s.default.cleanNode(this.iframe),this.iframe[1]&&s.default.cleanNode(this.iframe[1]),this.main&&this.main.parentNode&&this.main.parentNode.removeChild(this.main),this.iframe&&this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe),delete this.main,delete this.iframe,this.container=null,clearInterval(this.frameHeightTimer),clearInterval(this.scrollTimer))},e[t].init=function(e,t){this.model=e,this.frameModel=t,this.bind(),this.launcher_window&&(s.default.cleanNode(this.launcher_document.body),s.default.applyBindings(this.model,this.launcher_document.body))},e[t].bind=function(){this.model&&this.frameModel&&this.iframe&&this.document&&(s.default.cleanNode(this.document.body),s.default.applyBindings(this.model,this.document.body),this.frameModel.iframe(this.iframe),this.app.frameStyles.style_done=!1,this.app.frameStyles.iframe.valueHasMutated())},e[t].find=function(e){return this.document?this.document.querySelector(e):null},i.default=e},function(e,t,n){function i(e){return n(a(e))}function a(e){var t=r[e];if(!(t+1))throw Error("Cannot find module '"+e+"'.");return t}var r={"./new/templates/cobrowse-feedback.html":384,"./standard/templates/cobrowse-feedback.html":385};i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=383},function(e,t){e.exports="<div class=feedback-inpopup style=overflow:auto>\n\x3c!-- ko if:threadManager() && threadManager().active_thread().feedback_chat()--\x3e\n<div data-bind=\"template: {name:'chat-feedback', data: threadManager().active_thread().feedback}\"></div>\n\x3c!-- /ko --\x3e\n</div>\n"},function(e,t){e.exports="<div class=feedback-inpopup id=aio-container style=overflow:auto>\n\x3c!-- ko if:threadManager() && threadManager().active_thread().feedback_chat()--\x3e\n<div data-bind=\"template: {name:'chat-feedback', data: threadManager().active_thread().feedback}\"></div>\n\x3c!-- /ko --\x3e\n</div>\n"},function(e,t,n){function i(e){return n(a(e))}function a(e){var t=r[e];if(!(t+1))throw Error("Cannot find module '"+e+"'.");return t}var r={"./standard/templates/call-upgrade-response.html":387};i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=386},function(e,t){e.exports='<div class=call-request style=overflow:auto;padding:16px>\n\x3c!-- ko if:($root.call_upgrade_request_config() && $root.call_upgrade_request_config().audio == true)--\x3e\n<div class="call-request-btn type-audio configurable-btn"role=button data-bind="click:function(){$root.audioRequestAnswer(\'audio\')}">\n<div class="icon audio"><svg x=0px y=0px width=22px height=22px viewBox="0 0 475.085 475.085">\n<g>\n<g>\n<path d="M237.541,328.897c25.128,0,46.632-8.946,64.523-26.83c17.888-17.884,26.833-39.399,26.833-64.525V91.365\n\t\t\tc0-25.126-8.938-46.632-26.833-64.525C284.173,8.951,262.669,0,237.541,0c-25.125,0-46.632,8.951-64.524,26.84\n\t\t\tc-17.893,17.89-26.838,39.399-26.838,64.525v146.177c0,25.125,8.949,46.641,26.838,64.525\n\t\t\tC190.906,319.951,212.416,328.897,237.541,328.897z"/>\n<path d="M396.563,188.15c-3.606-3.617-7.898-5.426-12.847-5.426c-4.944,0-9.226,1.809-12.847,5.426\n\t\t\tc-3.613,3.616-5.421,7.898-5.421,12.845v36.547c0,35.214-12.518,65.333-37.548,90.362c-25.022,25.03-55.145,37.545-90.36,37.545\n\t\t\tc-35.214,0-65.334-12.515-90.365-37.545c-25.028-25.022-37.541-55.147-37.541-90.362v-36.547c0-4.947-1.809-9.229-5.424-12.845\n\t\t\tc-3.617-3.617-7.895-5.426-12.847-5.426c-4.952,0-9.235,1.809-12.85,5.426c-3.618,3.616-5.426,7.898-5.426,12.845v36.547\n\t\t\tc0,42.065,14.04,78.659,42.112,109.776c28.073,31.118,62.762,48.961,104.068,53.526v37.691h-73.089\n\t\t\tc-4.949,0-9.231,1.811-12.847,5.428c-3.617,3.614-5.426,7.898-5.426,12.847c0,4.941,1.809,9.233,5.426,12.847\n\t\t\tc3.616,3.614,7.898,5.428,12.847,5.428h182.719c4.948,0,9.236-1.813,12.847-5.428c3.621-3.613,5.431-7.905,5.431-12.847\n\t\t\tc0-4.948-1.81-9.232-5.431-12.847c-3.61-3.617-7.898-5.428-12.847-5.428h-73.08v-37.691\n\t\t\tc41.299-4.565,75.985-22.408,104.061-53.526c28.076-31.117,42.12-67.711,42.12-109.776v-36.547\n\t\t\tC401.998,196.049,400.185,191.77,396.563,188.15z"fill=#3b4651 />\n</g>\n</g>\n</svg></div>\n<div class=tab-action-content>\n<div class=tab-action-title data-bind="text:$root.getTransMsg(\'Audio\')"></div>\n<div class=tab-action-description data-bind="text:$root.getTransMsg(\'Speak through your computer.\')"></div>\n</div>\n</div>\n\x3c!-- /ko--\x3e\n\x3c!-- ko if:($root.call_upgrade_request_config() && $root.call_upgrade_request_config().phone == true)--\x3e\n<div class="call-request-btn type-phone configurable-btn"role=button data-bind="click:function(a,e){let target = e.currentTarget || e.target; if(target.classList.contains(\'configurable-btn\')){target.classList.remove(\'configurable-btn\')}}">\n<div class="icon phone"><svg x=0px y=0px width=22px height=22px viewBox="0 0 27.442 27.442">\n<g>\n<path d="M19.494,0H7.948C6.843,0,5.951,0.896,5.951,1.999v23.446c0,1.102,0.892,1.997,1.997,1.997h11.546\n\t\tc1.103,0,1.997-0.895,1.997-1.997V1.999C21.491,0.896,20.597,0,19.494,0z M10.872,1.214h5.7c0.144,0,0.261,0.215,0.261,0.481\n\t\ts-0.117,0.482-0.261,0.482h-5.7c-0.145,0-0.26-0.216-0.26-0.482C10.612,1.429,10.727,1.214,10.872,1.214z M13.722,25.469\n\t\tc-0.703,0-1.275-0.572-1.275-1.276s0.572-1.274,1.275-1.274c0.701,0,1.273,0.57,1.273,1.274S14.423,25.469,13.722,25.469z\n\t\t M19.995,21.1H7.448V3.373h12.547V21.1z"fill=#3b4651 />\n</g>\n</svg></div>\n<div class=tab-action-content>\n<div class=tab-action-title data-bind="text:$root.getTransMsg(\'Phone\')"></div>\n<div class=tab-action-description>\n<span data-bind="text:$root.getTransMsg(\'Enter your number and agent will call you.\')"></span>\n<div class=phone-input-block>\n<input type=tel id=visitor_phone autocomplete=off data-bind="value:$root.threadManager().visitor_phone, attr:{placeholder:$root.getTransMsg(\'+1 123 456 7890\')}">\n\x3c!-- ko if:$root.dialog_phone_error()--\x3e\n<div class=phone_error data-bind="text:$root.getTransMsg(\'Please enter a valid phone number.\')"></div>\n\x3c!-- /ko --\x3e\n<div class=call-record-disclaimer>This call may be recorded for quality assurance</div>\n<div class=configurable-alert-btn data-bind="click:function(){$root.audioRequestAnswer(\'phone\')}"><a href=javascript:void(null) role=button data-bind="text:$root.getTransMsg(\'Connect\')"></a> </div>\n</div>\n</div>\n</div>\n</div>\n\x3c!-- /ko--\x3e\n\x3c!-- ko if:($root.call_upgrade_request_config() && $root.call_upgrade_request_config().video == true)--\x3e\n<div class="call-request-btn type-video configurable-btn"role=button data-bind="click:function(){$root.audioRequestAnswer(\'video\')}">\n<div class="icon video"><svg x=0px y=0px width=22px height=22px viewBox="0 0 459 459">\n<g>\n<g id=videocam>\n<path d="M357,191.25V102c0-15.3-10.2-25.5-25.5-25.5h-306C10.2,76.5,0,86.7,0,102v255c0,15.3,10.2,25.5,25.5,25.5h306    c15.3,0,25.5-10.2,25.5-25.5v-89.25l102,102V89.25L357,191.25z"fill=#3b4651></path>\n</g>\n</g>\n</svg></div>\n<div class=tab-action-content>\n<div class=tab-action-title data-bind="text:$root.getTransMsg(\'Video\')"></div>\n<div class=tab-action-description data-bind="text:$root.getTransMsg(\'Video call through your computer\')"></div>\n</div>\n</div>\n\x3c!-- /ko--\x3e\n\x3c!-- ko if:($root.call_upgrade_request_config() && $root.call_upgrade_request_config().upgrade_response)--\x3e\n<div data-bind=text:$root.call_upgrade_request_config().upgrade_response></div>\n\x3c!-- /ko--\x3e\n</div>\n'}])}();